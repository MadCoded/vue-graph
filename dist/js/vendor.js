/*!
 * Vue.js v2.2.6
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Vue=t()}(this,function(){"use strict";function e(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function t(e){var t=parseFloat(e);return isNaN(t)?e:t}function n(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function r(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function i(e,t){return $i.call(e,t)}function o(e){return"string"==typeof e||"number"==typeof e}function a(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function s(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function c(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e){return null!==e&&"object"==typeof e}function f(e){return ki.call(e)===Ai}function p(e){for(var t={},n=0;n<e.length;n++)e[n]&&u(t,e[n]);return t}function d(){}function v(e,t){var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{return JSON.stringify(e)===JSON.stringify(t)}catch(n){return e===t}}function h(e,t){for(var n=0;n<e.length;n++)if(v(e[n],t))return n;return-1}function m(e){var t=!1;return function(){t||(t=!0,e())}}function g(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function y(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function _(e){if(!ji.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function b(e){return/native code/.test(e.toString())}function $(e){qi.target&&Wi.push(qi.target),qi.target=e}function w(){qi.target=Wi.pop()}function x(e,t){e.__proto__=t}function C(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];y(e,o,t[o])}}function k(e,t){if(l(e)){var n;return i(e,"__ob__")&&e.__ob__ instanceof Xi?n=e.__ob__:Qi.shouldConvert&&!Ui()&&(Array.isArray(e)||f(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Xi(e)),t&&n&&n.vmCount++,n}}function A(e,t,n,r){var i=new qi,o=Object.getOwnPropertyDescriptor(e,t);if(!o||o.configurable!==!1){var a=o&&o.get,s=o&&o.set,c=k(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return qi.target&&(i.depend(),c&&c.dep.depend(),Array.isArray(t)&&S(t)),t},set:function(t){var r=a?a.call(e):n;t===r||t!==t&&r!==r||(s?s.call(e,t):n=t,c=k(t),i.notify())}})}}function O(e,t,n){if(Array.isArray(e)&&"number"==typeof t)return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(i(e,t))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(A(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function T(e,t){if(Array.isArray(e)&&"number"==typeof t)return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||i(e,t)&&(delete e[t],n&&n.dep.notify())}function S(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&S(t)}function E(e,t){if(!t)return e;for(var n,r,o,a=Object.keys(t),s=0;s<a.length;s++)n=a[s],r=e[n],o=t[n],i(e,n)?f(r)&&f(o)&&E(r,o):O(e,n,o);return e}function j(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function N(e,t){var n=Object.create(e||null);return t?u(n,t):n}function I(e){var t=e.props;if(t){var n,r,i,o={};if(Array.isArray(t))for(n=t.length;n--;)"string"==typeof(r=t[n])&&(i=wi(r),o[i]={type:null});else if(f(t))for(var a in t)r=t[a],i=wi(a),o[i]=f(r)?r:{type:r};e.props=o}}function L(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function D(e,t,n){function r(r){var i=eo[r]||to;l[r]=i(e[r],t[r],n,r)}I(t),L(t);var o=t.extends;if(o&&(e="function"==typeof o?D(e,o.options,n):D(e,o,n)),t.mixins)for(var a=0,s=t.mixins.length;a<s;a++){var c=t.mixins[a];c.prototype instanceof nt&&(c=c.options),e=D(e,c,n)}var u,l={};for(u in e)r(u);for(u in t)i(e,u)||r(u);return l}function M(e,t,n,r){if("string"==typeof n){var o=e[t];if(i(o,n))return o[n];var a=wi(n);if(i(o,a))return o[a];var s=xi(a);if(i(o,s))return o[s];var c=o[n]||o[a]||o[s];return c}}function P(e,t,n,r){var o=t[e],a=!i(n,e),s=n[e];if(H(Boolean,o.type)&&(a&&!i(o,"default")?s=!1:H(String,o.type)||""!==s&&s!==Ci(e)||(s=!0)),void 0===s){s=R(r,o,e);var c=Qi.shouldConvert;Qi.shouldConvert=!0,k(s),Qi.shouldConvert=c}return s}function R(e,t,n){if(i(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==F(t.type)?r.call(e):r}}function F(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t&&t[1]}function H(e,t){if(!Array.isArray(t))return F(t)===F(e);for(var n=0,r=t.length;n<r;n++)if(F(t[n])===F(e))return!0;return!1}function U(e,t,n){if(Si.errorHandler)Si.errorHandler.call(null,e,t,n);else{if(!Ii||"undefined"==typeof console)throw e;console.error(e)}}function B(e){return new no(void 0,void 0,void 0,String(e))}function V(e){var t=new no(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function z(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=V(e[r]);return n}function J(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=0;r<n.length;r++)n[r].apply(null,e)}return t.fns=e,t}function K(e,t,n,r,i){var o,a,s,c;for(o in e)a=e[o],s=t[o],c=ao(o),a&&(s?a!==s&&(s.fns=a,e[o]=s):(a.fns||(a=e[o]=J(a)),n(c.name,a,c.once,c.capture)));for(o in t)e[o]||(c=ao(o),r(c.name,t[o],c.capture))}function q(e,t,n){function i(){n.apply(this,arguments),r(o.fns,i)}var o,a=e[t];a?a.fns&&a.merged?(o=a,o.fns.push(i)):o=J([a,i]):o=J([i]),o.merged=!0,e[t]=o}function W(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Z(e){return o(e)?[B(e)]:Array.isArray(e)?G(e):void 0}function G(e,t){var n,r,i,a=[];for(n=0;n<e.length;n++)null!=(r=e[n])&&"boolean"!=typeof r&&(i=a[a.length-1],Array.isArray(r)?a.push.apply(a,G(r,(t||"")+"_"+n)):o(r)?i&&i.text?i.text+=String(r):""!==r&&a.push(B(r)):r.text&&i&&i.text?a[a.length-1]=B(i.text+r.text):(r.tag&&null==r.key&&null!=t&&(r.key="__vlist"+t+"_"+n+"__"),a.push(r)));return a}function Y(e){return e&&e.filter(function(e){return e&&e.componentOptions})[0]}function Q(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&te(e,t)}function X(e,t,n){n?io.$once(e,t):io.$on(e,t)}function ee(e,t){io.$off(e,t)}function te(e,t,n){io=e,K(t,n||{},X,ee,e)}function ne(e,t){var n={};if(!e)return n;for(var r,i,o=[],a=0,s=e.length;a<s;a++)if(i=e[a],(i.context===t||i.functionalContext===t)&&i.data&&(r=i.data.slot)){var c=n[r]||(n[r]=[]);"template"===i.tag?c.push.apply(c,i.children):c.push(i)}else o.push(i);return o.every(re)||(n.default=o),n}function re(e){return e.isComment||" "===e.text}function ie(e){for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];return t}function oe(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function ae(e,t,n){e.$el=t,e.$options.render||(e.$options.render=oo),fe(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},e._watcher=new ho(e,r,d),n=!1,null==e.$vnode&&(e._isMounted=!0,fe(e,"mounted")),e}function se(e,t,n,r,i){var o=!!(i||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==Ei);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,t&&e.$options.props){Qi.shouldConvert=!1;for(var a=e._props,s=e.$options._propKeys||[],c=0;c<s.length;c++){var u=s[c];a[u]=P(u,e.$options.props,t,e)}Qi.shouldConvert=!0,e.$options.propsData=t}if(n){var l=e.$options._parentListeners;e.$options._parentListeners=n,te(e,n,l)}o&&(e.$slots=ne(i,r.context),e.$forceUpdate())}function ce(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ue(e,t){if(t){if(e._directInactive=!1,ce(e))return}else if(e._directInactive)return;if(e._inactive||null==e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)ue(e.$children[n]);fe(e,"activated")}}function le(e,t){if(!(t&&(e._directInactive=!0,ce(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)le(e.$children[n]);fe(e,"deactivated")}}function fe(e,t){var n=e.$options[t];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(e)}catch(n){U(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function pe(){co.length=0,uo={},lo=fo=!1}function de(){fo=!0;var e,t,n;for(co.sort(function(e,t){return e.id-t.id}),po=0;po<co.length;po++)e=co[po],t=e.id,uo[t]=null,e.run();var r=co.slice();for(pe(),po=r.length;po--;)e=r[po],n=e.vm,n._watcher===e&&n._isMounted&&fe(n,"updated");Bi&&Si.devtools&&Bi.emit("flush")}function ve(e){var t=e.id;if(null==uo[t]){if(uo[t]=!0,fo){for(var n=co.length-1;n>=0&&co[n].id>e.id;)n--;co.splice(Math.max(n,po)+1,0,e)}else co.push(e);lo||(lo=!0,zi(de))}}function he(e){mo.clear(),me(e,mo)}function me(e,t){var n,r,i=Array.isArray(e);if((i||l(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(n=e.length;n--;)me(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)me(e[r[n]],t)}}function ge(e,t,n){go.get=function(){return this[t][n]},go.set=function(e){this[t][n]=e},Object.defineProperty(e,n,go)}function ye(e){e._watchers=[];var t=e.$options;t.props&&_e(e,t.props),t.methods&&ke(e,t.methods),t.data?be(e):k(e._data={},!0),t.computed&&we(e,t.computed),t.watch&&Ae(e,t.watch)}function _e(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;Qi.shouldConvert=o;for(var a in t)!function(o){i.push(o);var a=P(o,t,n,e);A(r,o,a),o in e||ge(e,"_props",o)}(a);Qi.shouldConvert=!0}function be(e){var t=e.$options.data;t=e._data="function"==typeof t?$e(t,e):t||{},f(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,o=n.length;o--;)r&&i(r,n[o])||g(n[o])||ge(e,"_data",n[o]);k(t,!0)}function $e(e,t){try{return e.call(t)}catch(e){return U(e,t,"data()"),{}}}function we(e,t){var n=e._computedWatchers=Object.create(null);for(var r in t){var i=t[r],o="function"==typeof i?i:i.get;n[r]=new ho(e,o,d,yo),r in e||xe(e,r,i)}}function xe(e,t,n){"function"==typeof n?(go.get=Ce(t),go.set=d):(go.get=n.get?n.cache!==!1?Ce(t):n.get:d,go.set=n.set?n.set:d),Object.defineProperty(e,t,go)}function Ce(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),qi.target&&t.depend(),t.value}}function ke(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?d:s(t[n],e)}function Ae(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Oe(e,n,r[i]);else Oe(e,n,r)}}function Oe(e,t,n){var r;f(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Te(e,t,n,r,i){if(e){var o=n.$options._base;if(l(e)&&(e=o.extend(e)),"function"==typeof e){if(!e.cid)if(e.resolved)e=e.resolved;else if(!(e=je(e,o,function(){n.$forceUpdate()})))return;Xe(e),t=t||{},t.model&&Me(e.options,t);var a=Ne(t,e,i);if(e.options.functional)return Se(e,a,t,n,r);var s=t.on;t.on=t.nativeOn,e.options.abstract&&(t={}),Le(t);var c=e.options.name||i;return new no("vue-component-"+e.cid+(c?"-"+c:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:a,listeners:s,tag:i,children:r})}}}function Se(e,t,n,r,i){var o={},a=e.options.props;if(a)for(var s in a)o[s]=P(s,a,t);var c=Object.create(r),u=function(e,t,n,r){return Pe(c,e,t,n,r,!0)},l=e.options.render.call(null,u,{props:o,data:n,parent:r,children:i,slots:function(){return ne(i,r)}});return l instanceof no&&(l.functionalContext=r,n.slot&&((l.data||(l.data={})).slot=n.slot)),l}function Ee(e,t,n,r){var i=e.componentOptions,o={_isComponent:!0,parent:t,propsData:i.propsData,_componentTag:i.tag,_parentVnode:e,_parentListeners:i.listeners,_renderChildren:i.children,_parentElm:n||null,_refElm:r||null},a=e.data.inlineTemplate;return a&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns),new i.Ctor(o)}function je(e,t,n){if(!e.requested){e.requested=!0;var r=e.pendingCallbacks=[n],i=!0,o=function(n){if(l(n)&&(n=t.extend(n)),e.resolved=n,!i)for(var o=0,a=r.length;o<a;o++)r[o](n)},a=function(e){},s=e(o,a);return s&&"function"==typeof s.then&&!e.resolved&&s.then(o,a),i=!1,e.resolved}e.pendingCallbacks.push(n)}function Ne(e,t,n){var r=t.options.props;if(r){var i={},o=e.attrs,a=e.props,s=e.domProps;if(o||a||s)for(var c in r){var u=Ci(c);Ie(i,a,c,u,!0)||Ie(i,o,c,u)||Ie(i,s,c,u)}return i}}function Ie(e,t,n,r,o){if(t){if(i(t,n))return e[n]=t[n],o||delete t[n],!0;if(i(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function Le(e){e.hook||(e.hook={});for(var t=0;t<bo.length;t++){var n=bo[t],r=e.hook[n],i=_o[n];e.hook[n]=r?De(i,r):i}}function De(e,t){return function(n,r,i,o){e(n,r,i,o),t(n,r,i,o)}}function Me(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var i=t.on||(t.on={});i[r]?i[r]=[t.model.callback].concat(i[r]):i[r]=t.model.callback}function Pe(e,t,n,r,i,a){return(Array.isArray(n)||o(n))&&(i=r,r=n,n=void 0),a&&(i=wo),Re(e,t,n,r,i)}function Re(e,t,n,r,i){if(n&&n.__ob__)return oo();if(!t)return oo();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===wo?r=Z(r):i===$o&&(r=W(r));var o,a;if("string"==typeof t){var s;a=Si.getTagNamespace(t),o=Si.isReservedTag(t)?new no(Si.parsePlatformTagName(t),n,r,void 0,void 0,e):(s=M(e.$options,"components",t))?Te(s,n,e,r,t):new no(t,n,r,void 0,void 0,e)}else o=Te(t,n,e,r);return o?(a&&Fe(o,a),o):oo()}function Fe(e,t){if(e.ns=t,"foreignObject"!==e.tag&&e.children)for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];i.tag&&!i.ns&&Fe(i,t)}}function He(e,t){var n,r,i,o,a;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(l(e))for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=t(e[a],a,r);return n}function Ue(e,t,n,r){var i=this.$scopedSlots[e];if(i)return n=n||{},r&&u(n,r),i(n)||t;var o=this.$slots[e];return o||t}function Be(e){return M(this.$options,"filters",e,!0)||Ti}function Ve(e,t,n){var r=Si.keyCodes[t]||n;return Array.isArray(r)?r.indexOf(e)===-1:r!==e}function ze(e,t,n,r){if(n)if(l(n)){Array.isArray(n)&&(n=p(n));var i;for(var o in n){if("class"===o||"style"===o)i=e;else{var a=e.attrs&&e.attrs.type;i=r||Si.mustUseProp(t,a,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}o in i||(i[o]=n[o])}}else;return e}function Je(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?z(n):V(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),qe(n,"__static__"+e,!1),n)}function Ke(e,t,n){return qe(e,"__once__"+t+(n?"_"+n:""),!0),e}function qe(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&We(e[r],t+"_"+r,n);else We(e,t,n)}function We(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Ze(e){e.$vnode=null,e._vnode=null,e._staticTrees=null;var t=e.$options._parentVnode,n=t&&t.context;e.$slots=ne(e.$options._renderChildren,n),e.$scopedSlots=Ei,e._c=function(t,n,r,i){return Pe(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Pe(e,t,n,r,i,!0)}}function Ge(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Ye(e){var t=e.$options.inject;if(t)for(var n=Array.isArray(t),r=n?t:Vi?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++)!function(i){for(var o=r[i],a=n?o:t[o],s=e;s;){if(s._provided&&a in s._provided){A(e,o,s._provided[a]);break}s=s.$parent}}(i)}function Qe(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Xe(e){var t=e.options;if(e.super){var n=Xe(e.super);if(n!==e.superOptions){e.superOptions=n;var r=et(e);r&&u(e.extendOptions,r),t=e.options=D(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function et(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=tt(n[i],r[i]));return t}function tt(e,t){if(Array.isArray(e)){var n=[];t=Array.isArray(t)?t:[t];for(var r=0;r<e.length;r++)t.indexOf(e[r])<0&&n.push(e[r]);return n}return e}function nt(e){this._init(e)}function rt(e){e.use=function(e){if(!e.installed){var t=c(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),e.installed=!0,this}}}function it(e){e.mixin=function(e){this.options=D(this.options,e)}}function ot(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=D(n.options,e),a.super=n,a.options.props&&at(a),a.options.computed&&st(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Si._assetTypes.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=u({},a.options),i[r]=a,a}}function at(e){var t=e.options.props;for(var n in t)ge(e.prototype,"_props",n)}function st(e){var t=e.options.computed;for(var n in t)xe(e.prototype,n,t[n])}function ct(e){Si._assetTypes.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&f(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function ut(e){return e&&(e.Ctor.options.name||e.tag)}function lt(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:e instanceof RegExp&&e.test(t)}function ft(e,t){for(var n in e){var r=e[n];if(r){var i=ut(r.componentOptions);i&&!t(i)&&(pt(r),e[n]=null)}}}function pt(e){e&&(e.componentInstance._inactive||fe(e.componentInstance,"deactivated"),e.componentInstance.$destroy())}function dt(e){for(var t=e.data,n=e,r=e;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(t=vt(r.data,t));for(;n=n.parent;)n.data&&(t=vt(t,n.data));return ht(t)}function vt(e,t){return{staticClass:mt(e.staticClass,t.staticClass),class:e.class?[e.class,t.class]:t.class}}function ht(e){var t=e.class,n=e.staticClass;return n||t?mt(n,gt(t)):""}function mt(e,t){return e?t?e+" "+t:e:t||""}function gt(e){var t="";if(!e)return t;if("string"==typeof e)return e;if(Array.isArray(e)){for(var n,r=0,i=e.length;r<i;r++)e[r]&&(n=gt(e[r]))&&(t+=n+" ");return t.slice(0,-1)}if(l(e)){for(var o in e)e[o]&&(t+=o+" ");return t.slice(0,-1)}return t}function yt(e){return Ko(e)?"svg":"math"===e?"math":void 0}function _t(e){if(!Ii)return!0;if(Wo(e))return!1;if(e=e.toLowerCase(),null!=Zo[e])return Zo[e];var t=document.createElement(e);return e.indexOf("-")>-1?Zo[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Zo[e]=/HTMLUnknownElement/.test(t.toString())}function bt(e){if("string"==typeof e){var t=document.querySelector(e);return t?t:document.createElement("div")}return e}function $t(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function wt(e,t){return document.createElementNS(zo[e],t)}function xt(e){return document.createTextNode(e)}function Ct(e){return document.createComment(e)}function kt(e,t,n){e.insertBefore(t,n)}function At(e,t){e.removeChild(t)}function Ot(e,t){e.appendChild(t)}function Tt(e){return e.parentNode}function St(e){return e.nextSibling}function Et(e){return e.tagName}function jt(e,t){e.textContent=t}function Nt(e,t,n){e.setAttribute(t,n)}function It(e,t){var n=e.data.ref;if(n){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?r(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])&&a[n].indexOf(o)<0?a[n].push(o):a[n]=[o]:a[n]=o}}function Lt(e){return void 0===e||null===e}function Dt(e){return void 0!==e&&null!==e}function Mt(e){return e===!0}function Pt(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&Dt(e.data)===Dt(t.data)&&Rt(e,t)}function Rt(e,t){if("input"!==e.tag)return!0;var n;return(Dt(n=e.data)&&Dt(n=n.attrs)&&n.type)===(Dt(n=t.data)&&Dt(n=n.attrs)&&n.type)}function Ft(e,t,n){var r,i,o={};for(r=t;r<=n;++r)i=e[r].key,Dt(i)&&(o[i]=r);return o}function Ht(e,t){(e.data.directives||t.data.directives)&&Ut(e,t)}function Ut(e,t){var n,r,i,o=e===Qo,a=t===Qo,s=Bt(e.data.directives,e.context),c=Bt(t.data.directives,t.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,zt(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(zt(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var f=function(){for(var n=0;n<u.length;n++)zt(u[n],"inserted",t,e)};o?q(t.data.hook||(t.data.hook={}),"insert",f):f()}if(l.length&&q(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<l.length;n++)zt(l[n],"componentUpdated",t,e)}),!o)for(n in s)c[n]||zt(s[n],"unbind",e,e,a)}function Bt(e,t){var n=Object.create(null);if(!e)return n;var r,i;for(r=0;r<e.length;r++)i=e[r],i.modifiers||(i.modifiers=ta),n[Vt(i)]=i,i.def=M(t.$options,"directives",i.name,!0);return n}function Vt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function zt(e,t,n,r,i){var o=e.def&&e.def[t];o&&o(n.elm,e,n,r,i)}function Jt(e,t){if(e.data.attrs||t.data.attrs){var n,r,i=t.elm,o=e.data.attrs||{},a=t.data.attrs||{};a.__ob__&&(a=t.data.attrs=u({},a));for(n in a)r=a[n],o[n]!==r&&Kt(i,n,r);Mi&&a.value!==o.value&&Kt(i,"value",a.value);for(n in o)null==a[n]&&(Uo(n)?i.removeAttributeNS(Ho,Bo(n)):Ro(n)||i.removeAttribute(n))}}function Kt(e,t,n){Fo(t)?Vo(n)?e.removeAttribute(t):e.setAttribute(t,t):Ro(t)?e.setAttribute(t,Vo(n)||"false"===n?"false":"true"):Uo(t)?Vo(n)?e.removeAttributeNS(Ho,Bo(t)):e.setAttributeNS(Ho,t,n):Vo(n)?e.removeAttribute(t):e.setAttribute(t,n)}function qt(e,t){var n=t.elm,r=t.data,i=e.data;if(r.staticClass||r.class||i&&(i.staticClass||i.class)){var o=dt(t),a=n._transitionClasses;a&&(o=mt(o,gt(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function Wt(e){function t(){(a||(a=[])).push(e.slice(v,i).trim()),v=i+1}var n,r,i,o,a,s=!1,c=!1,u=!1,l=!1,f=0,p=0,d=0,v=0;for(i=0;i<e.length;i++)if(r=n,n=e.charCodeAt(i),s)39===n&&92!==r&&(s=!1);else if(c)34===n&&92!==r&&(c=!1);else if(u)96===n&&92!==r&&(u=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||f||p||d){switch(n){case 34:c=!0;break;case 39:s=!0;break;case 96:u=!0;break;case 40:d++;break;case 41:d--;break;case 91:p++;break;case 93:p--;break;case 123:f++;break;case 125:f--}if(47===n){for(var h=i-1,m=void 0;h>=0&&" "===(m=e.charAt(h));h--);m&&oa.test(m)||(l=!0)}}else void 0===o?(v=i+1,o=e.slice(0,i).trim()):t();if(void 0===o?o=e.slice(0,i).trim():0!==v&&t(),a)for(i=0;i<a.length;i++)o=Zt(o,a[i]);return o}function Zt(e,t){var n=t.indexOf("(");return n<0?'_f("'+t+'")('+e+")":'_f("'+t.slice(0,n)+'")('+e+","+t.slice(n+1)}function Gt(e){console.error("[Vue compiler]: "+e)}function Yt(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Qt(e,t,n){(e.props||(e.props=[])).push({name:t,value:n})}function Xt(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n})}function en(e,t,n,r,i,o){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:r,arg:i,modifiers:o})}function tn(e,t,n,r,i){r&&r.capture&&(delete r.capture,t="!"+t),r&&r.once&&(delete r.once,t="~"+t);var o;r&&r.native?(delete r.native,o=e.nativeEvents||(e.nativeEvents={})):o=e.events||(e.events={});var a={value:n,modifiers:r},s=o[t];Array.isArray(s)?i?s.unshift(a):s.push(a):o[t]=s?i?[a,s]:[s,a]:a}function nn(e,t,n){var r=rn(e,":"+t)||rn(e,"v-bind:"+t);if(null!=r)return Wt(r);if(n!==!1){var i=rn(e,t);if(null!=i)return JSON.stringify(i)}}function rn(e,t){var n;if(null!=(n=e.attrsMap[t]))for(var r=e.attrsList,i=0,o=r.length;i<o;i++)if(r[i].name===t){r.splice(i,1);break}return n}function on(e,t,n){var r=n||{},i=r.number,o=r.trim,a="$$v";o&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var s=an(t,a);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+s+"}"}}function an(e,t){var n=sn(e);return null===n.idx?e+"="+t:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+e+"="+t+"}else{$$exp.splice($$idx, 1, "+t+")}"}function sn(e){if(To=e,Oo=To.length,Eo=jo=No=0,e.indexOf("[")<0||e.lastIndexOf("]")<Oo-1)return{exp:e,idx:null};for(;!un();)So=cn(),ln(So)?pn(So):91===So&&fn(So);return{exp:e.substring(0,jo),idx:e.substring(jo+1,No)}}function cn(){return To.charCodeAt(++Eo)}function un(){return Eo>=Oo}function ln(e){return 34===e||39===e}function fn(e){var t=1;for(jo=Eo;!un();)if(e=cn(),ln(e))pn(e);else if(91===e&&t++,93===e&&t--,0===t){No=Eo;break}}function pn(e){for(var t=e;!un()&&(e=cn())!==t;);}function dn(e,t,n){Io=n;var r=t.value,i=t.modifiers,o=e.tag,a=e.attrsMap.type;if("select"===o)mn(e,r,i);else if("input"===o&&"checkbox"===a)vn(e,r,i);else if("input"===o&&"radio"===a)hn(e,r,i);else if("input"===o||"textarea"===o)gn(e,r,i);else if(!Si.isReservedTag(o))return on(e,r,i),!1;return!0}function vn(e,t,n){var r=n&&n.number,i=nn(e,"value")||"null",o=nn(e,"true-value")||"true",a=nn(e,"false-value")||"false";Qt(e,"checked","Array.isArray("+t+")?_i("+t+","+i+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),tn(e,sa,"var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+t+"=$$a.concat($$v))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+t+"=$$c}",null,!0)}function hn(e,t,n){var r=n&&n.number,i=nn(e,"value")||"null";i=r?"_n("+i+")":i,Qt(e,"checked","_q("+t+","+i+")"),tn(e,sa,an(t,i),null,!0)}function mn(e,t,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="var $$selectedVal = "+i+";";o=o+" "+an(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),tn(e,"change",o,null,!0)}function gn(e,t,n){var r=e.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==r,u=o?"change":"range"===r?aa:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=an(t,l);c&&(f="if($event.target.composing)return;"+f),Qt(e,"value","("+t+")"),tn(e,u,f,null,!0),(s||a||"number"===r)&&tn(e,"blur","$forceUpdate()")}function yn(e){var t;e[aa]&&(t=Di?"change":"input",e[t]=[].concat(e[aa],e[t]||[]),delete e[aa]),e[sa]&&(t=Hi?"click":"change",e[t]=[].concat(e[sa],e[t]||[]),delete e[sa])}function _n(e,t,n,r){if(n){var i=t,o=Lo;t=function(n){null!==(1===arguments.length?i(n):i.apply(null,arguments))&&bn(e,t,r,o)}}Lo.addEventListener(e,t,r)}function bn(e,t,n,r){(r||Lo).removeEventListener(e,t,n)}function $n(e,t){if(e.data.on||t.data.on){var n=t.data.on||{},r=e.data.on||{};Lo=t.elm,yn(n),K(n,r,_n,bn,t.context)}}function wn(e,t){if(e.data.domProps||t.data.domProps){var n,r,i=t.elm,o=e.data.domProps||{},a=t.data.domProps||{};a.__ob__&&(a=t.data.domProps=u({},a));for(n in o)null==a[n]&&(i[n]="");for(n in a)if(r=a[n],"textContent"!==n&&"innerHTML"!==n||(t.children&&(t.children.length=0),r!==o[n]))if("value"===n){i._value=r;var s=null==r?"":String(r);xn(i,t,s)&&(i.value=s)}else i[n]=r}}function xn(e,t,n){return!e.composing&&("option"===t.tag||Cn(e,n)||kn(e,n))}function Cn(e,t){return document.activeElement!==e&&e.value!==t}function kn(e,n){var r=e.value,i=e._vModifiers;return i&&i.number||"number"===e.type?t(r)!==t(n):i&&i.trim?r.trim()!==n.trim():r!==n}function An(e){var t=On(e.style);return e.staticStyle?u(e.staticStyle,t):t}function On(e){return Array.isArray(e)?p(e):"string"==typeof e?la(e):e}function Tn(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=An(i.data))&&u(r,n);(n=An(e.data))&&u(r,n);for(var o=e;o=o.parent;)o.data&&(n=An(o.data))&&u(r,n);return r}function Sn(e,t){var n=t.data,r=e.data;if(n.staticStyle||n.style||r.staticStyle||r.style){var i,o,a=t.elm,s=e.data.staticStyle,c=e.data.style||{},l=s||c,f=On(t.data.style)||{};t.data.style=f.__ob__?u({},f):f;var p=Tn(t,!0);for(o in l)null==p[o]&&da(a,o,"");for(o in p)(i=p[o])!==l[o]&&da(a,o,null==i?"":i)}}function En(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function jn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");e.setAttribute("class",n.trim())}}function Nn(e){if(e){if("object"==typeof e){var t={};return e.css!==!1&&u(t,ga(e.name||"v")),u(t,e),t}return"string"==typeof e?ga(e):void 0}}function In(e){ka(function(){ka(e)})}function Ln(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),En(e,t)}function Dn(e,t){e._transitionClasses&&r(e._transitionClasses,t),jn(e,t)}function Mn(e,t,n){var r=Pn(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===_a?wa:Ca,c=0,u=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,l)}function Pn(e,t){var n,r=window.getComputedStyle(e),i=r[$a+"Delay"].split(", "),o=r[$a+"Duration"].split(", "),a=Rn(i,o),s=r[xa+"Delay"].split(", "),c=r[xa+"Duration"].split(", "),u=Rn(s,c),l=0,f=0;return t===_a?a>0&&(n=_a,l=a,f=o.length):t===ba?u>0&&(n=ba,l=u,f=c.length):(l=Math.max(a,u),n=l>0?a>u?_a:ba:null,f=n?n===_a?o.length:c.length:0),{type:n,timeout:l,propCount:f,hasTransform:n===_a&&Aa.test(r[$a+"Property"])}}function Rn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Fn(t)+Fn(e[n])}))}function Fn(e){return 1e3*Number(e.slice(0,-1))}function Hn(e,n){var r=e.elm;r._leaveCb&&(r._leaveCb.cancelled=!0,r._leaveCb());var i=Nn(e.data.transition);if(i&&!r._enterCb&&1===r.nodeType){for(var o=i.css,a=i.type,s=i.enterClass,c=i.enterToClass,u=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,d=i.appearActiveClass,v=i.beforeEnter,h=i.enter,g=i.afterEnter,y=i.enterCancelled,_=i.beforeAppear,b=i.appear,$=i.afterAppear,w=i.appearCancelled,x=i.duration,C=so,k=so.$vnode;k&&k.parent;)k=k.parent,C=k.context;var A=!C._isMounted||!e.isRootInsert;if(!A||b||""===b){var O=A&&f?f:s,T=A&&d?d:u,S=A&&p?p:c,E=A?_||v:v,j=A&&"function"==typeof b?b:h,N=A?$||g:g,I=A?w||y:y,L=t(l(x)?x.enter:x),D=o!==!1&&!Mi,M=Vn(j),P=r._enterCb=m(function(){D&&(Dn(r,S),Dn(r,T)),P.cancelled?(D&&Dn(r,O),I&&I(r)):N&&N(r),r._enterCb=null});e.data.show||q(e.data.hook||(e.data.hook={}),"insert",function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),j&&j(r,P)}),E&&E(r),D&&(Ln(r,O),Ln(r,T),In(function(){Ln(r,S),Dn(r,O),P.cancelled||M||(Bn(L)?setTimeout(P,L):Mn(r,a,P))})),e.data.show&&(n&&n(),j&&j(r,P)),D||M||P()}}}function Un(e,n){function r(){w.cancelled||(e.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),p&&p(i),_&&(Ln(i,c),Ln(i,f),In(function(){Ln(i,u),Dn(i,c),w.cancelled||b||(Bn($)?setTimeout(w,$):Mn(i,s,w))})),d&&d(i,w),_||b||w())}var i=e.elm;i._enterCb&&(i._enterCb.cancelled=!0,i._enterCb());var o=Nn(e.data.transition);if(!o)return n();if(!i._leaveCb&&1===i.nodeType){
var a=o.css,s=o.type,c=o.leaveClass,u=o.leaveToClass,f=o.leaveActiveClass,p=o.beforeLeave,d=o.leave,v=o.afterLeave,h=o.leaveCancelled,g=o.delayLeave,y=o.duration,_=a!==!1&&!Mi,b=Vn(d),$=t(l(y)?y.leave:y),w=i._leaveCb=m(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),_&&(Dn(i,u),Dn(i,f)),w.cancelled?(_&&Dn(i,c),h&&h(i)):(n(),v&&v(i)),i._leaveCb=null});g?g(r):r()}}function Bn(e){return"number"==typeof e&&!isNaN(e)}function Vn(e){if(!e)return!1;var t=e.fns;return t?Vn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function zn(e,t){t.data.show||Hn(t)}function Jn(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=h(r,qn(a))>-1,a.selected!==o&&(a.selected=o);else if(v(qn(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Kn(e,t){for(var n=0,r=t.length;n<r;n++)if(v(qn(t[n]),e))return!1;return!0}function qn(e){return"_value"in e?e._value:e.value}function Wn(e){e.target.composing=!0}function Zn(e){e.target.composing=!1,Gn(e.target,"input")}function Gn(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Yn(e){return!e.componentInstance||e.data&&e.data.transition?e:Yn(e.componentInstance._vnode)}function Qn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Qn(Y(t.children)):e}function Xn(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[wi(o)]=i[o];return t}function er(e,t){return/\d-keep-alive$/.test(t.tag)?e("keep-alive"):null}function tr(e){for(;e=e.parent;)if(e.data.transition)return!0}function nr(e,t){return t.key===e.key&&t.tag===e.tag}function rr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ir(e){e.data.newPos=e.elm.getBoundingClientRect()}function or(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}function ar(e){return Fa=Fa||document.createElement("div"),Fa.innerHTML=e,Fa.textContent}function sr(e,t){var n=t?ws:$s;return e.replace(n,function(e){return bs[e]})}function cr(e,t){function n(t){l+=t,e=e.substring(t)}function r(e,n,r){var i,s;if(null==n&&(n=l),null==r&&(r=l),e&&(s=e.toLowerCase()),e)for(i=a.length-1;i>=0&&a[i].lowerCasedTag!==s;i--);else i=0;if(i>=0){for(var c=a.length-1;c>=i;c--)t.end&&t.end(a[c].tag,n,r);a.length=i,o=i&&a[i-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,r):"p"===s&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var i,o,a=[],s=t.expectHTML,c=t.isUnaryTag||Oi,u=t.canBeLeftOpenTag||Oi,l=0;e;){if(i=e,o&&ys(o)){var f=o.toLowerCase(),p=_s[f]||(_s[f]=new RegExp("([\\s\\S]*?)(</"+f+"[^>]*>)","i")),d=0,v=e.replace(p,function(e,n,r){return d=r.length,ys(f)||"noscript"===f||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),t.chars&&t.chars(n),""});l+=e.length-v.length,e=v,r(f,l-d,l)}else{var h=e.indexOf("<");if(0===h){if(Ya.test(e)){var m=e.indexOf("-->");if(m>=0){n(m+3);continue}}if(Qa.test(e)){var g=e.indexOf("]>");if(g>=0){n(g+2);continue}}var y=e.match(Ga);if(y){n(y[0].length);continue}var _=e.match(Za);if(_){var b=l;n(_[0].length),r(_[1],b,l);continue}var $=function(){var t=e.match(qa);if(t){var r={tagName:t[1],attrs:[],start:l};n(t[0].length);for(var i,o;!(i=e.match(Wa))&&(o=e.match(Ja));)n(o[0].length),r.attrs.push(o);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=l,r}}();if($){!function(e){var n=e.tagName,i=e.unarySlash;s&&("p"===o&&Va(n)&&r(o),u(n)&&o===n&&r(n));for(var l=c(n)||"html"===n&&"head"===o||!!i,f=e.attrs.length,p=new Array(f),d=0;d<f;d++){var v=e.attrs[d];Xa&&v[0].indexOf('""')===-1&&(""===v[3]&&delete v[3],""===v[4]&&delete v[4],""===v[5]&&delete v[5]);var h=v[3]||v[4]||v[5]||"";p[d]={name:v[1],value:sr(h,t.shouldDecodeNewlines)}}l||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:p}),o=n),t.start&&t.start(n,p,l,e.start,e.end)}($);continue}}var w=void 0,x=void 0,C=void 0;if(h>=0){for(x=e.slice(h);!(Za.test(x)||qa.test(x)||Ya.test(x)||Qa.test(x)||(C=x.indexOf("<",1))<0);)h+=C,x=e.slice(h);w=e.substring(0,h),n(h)}h<0&&(w=e,e=""),t.chars&&w&&t.chars(w)}if(e===i){t.chars&&t.chars(e);break}}r()}function ur(e,t){var n=t?Cs(t):xs;if(n.test(e)){for(var r,i,o=[],a=n.lastIndex=0;r=n.exec(e);){i=r.index,i>a&&o.push(JSON.stringify(e.slice(a,i)));var s=Wt(r[1].trim());o.push("_s("+s+")"),a=i+r[0].length}return a<e.length&&o.push(JSON.stringify(e.slice(a))),o.join("+")}}function lr(e,t){function n(e){e.pre&&(s=!1),os(e.tag)&&(c=!1)}es=t.warn||Gt,ss=t.getTagNamespace||Oi,as=t.mustUseProp||Oi,os=t.isPreTag||Oi,rs=Yt(t.modules,"preTransformNode"),ns=Yt(t.modules,"transformNode"),is=Yt(t.modules,"postTransformNode"),ts=t.delimiters;var r,i,o=[],a=t.preserveWhitespace!==!1,s=!1,c=!1;return cr(e,{warn:es,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,start:function(e,a,u){var l=i&&i.ns||ss(e);Di&&"svg"===l&&(a=Tr(a));var f={type:1,tag:e,attrsList:a,attrsMap:Ar(a),parent:i,children:[]};l&&(f.ns=l),Or(f)&&!Ui()&&(f.forbidden=!0);for(var p=0;p<rs.length;p++)rs[p](f,t);if(s||(fr(f),f.pre&&(s=!0)),os(f.tag)&&(c=!0),s)pr(f);else{hr(f),mr(f),br(f),dr(f),f.plain=!f.key&&!a.length,vr(f),$r(f),wr(f);for(var d=0;d<ns.length;d++)ns[d](f,t);xr(f)}if(r?o.length||r.if&&(f.elseif||f.else)&&_r(r,{exp:f.elseif,block:f}):r=f,i&&!f.forbidden)if(f.elseif||f.else)gr(f,i);else if(f.slotScope){i.plain=!1;var v=f.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[v]=f}else i.children.push(f),f.parent=i;u?n(f):(i=f,o.push(f));for(var h=0;h<is.length;h++)is[h](f,t)},end:function(){var e=o[o.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!c&&e.children.pop(),o.length-=1,i=o[o.length-1],n(e)},chars:function(e){if(i&&(!Di||"textarea"!==i.tag||i.attrsMap.placeholder!==e)){var t=i.children;if(e=c||e.trim()?Ns(e):a&&t.length?" ":""){var n;!s&&" "!==e&&(n=ur(e,ts))?t.push({type:2,expression:n,text:e}):" "===e&&t.length&&" "===t[t.length-1].text||t.push({type:3,text:e})}}}}),r}function fr(e){null!=rn(e,"v-pre")&&(e.pre=!0)}function pr(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}function dr(e){var t=nn(e,"key");t&&(e.key=t)}function vr(e){var t=nn(e,"ref");t&&(e.ref=t,e.refInFor=Cr(e))}function hr(e){var t;if(t=rn(e,"v-for")){var n=t.match(Os);if(!n)return;e.for=n[2].trim();var r=n[1].trim(),i=r.match(Ts);i?(e.alias=i[1].trim(),e.iterator1=i[2].trim(),i[3]&&(e.iterator2=i[3].trim())):e.alias=r}}function mr(e){var t=rn(e,"v-if");if(t)e.if=t,_r(e,{exp:t,block:e});else{null!=rn(e,"v-else")&&(e.else=!0);var n=rn(e,"v-else-if");n&&(e.elseif=n)}}function gr(e,t){var n=yr(t.children);n&&n.if&&_r(n,{exp:e.elseif,block:e})}function yr(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}function _r(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function br(e){null!=rn(e,"v-once")&&(e.once=!0)}function $r(e){if("slot"===e.tag)e.slotName=nn(e,"name");else{var t=nn(e,"slot");t&&(e.slotTarget='""'===t?'"default"':t),"template"===e.tag&&(e.slotScope=rn(e,"scope"))}}function wr(e){var t;(t=nn(e,"is"))&&(e.component=t),null!=rn(e,"inline-template")&&(e.inlineTemplate=!0)}function xr(e){var t,n,r,i,o,a,s,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(r=i=c[t].name,o=c[t].value,As.test(r))if(e.hasBindings=!0,a=kr(r),a&&(r=r.replace(js,"")),Es.test(r))r=r.replace(Es,""),o=Wt(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=wi(r))&&(r="innerHTML")),a.camel&&(r=wi(r))),s||as(e.tag,e.attrsMap.type,r)?Qt(e,r,o):Xt(e,r,o);else if(ks.test(r))r=r.replace(ks,""),tn(e,r,o,a);else{r=r.replace(As,"");var u=r.match(Ss),l=u&&u[1];l&&(r=r.slice(0,-(l.length+1))),en(e,r,i,o,l,a)}else Xt(e,r,JSON.stringify(o))}function Cr(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function kr(e){var t=e.match(js);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function Ar(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}function Or(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function Tr(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Is.test(r.name)||(r.name=r.name.replace(Ls,""),t.push(r))}return t}function Sr(e,t){e&&(cs=Ds(t.staticKeys||""),us=t.isReservedTag||Oi,jr(e),Nr(e,!1))}function Er(e){return n("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function jr(e){if(e.static=Lr(e),1===e.type){if(!us(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];jr(r),r.static||(e.static=!1)}}}function Nr(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)Nr(e.children[n],t||!!e.for);e.ifConditions&&Ir(e.ifConditions,t)}}function Ir(e,t){for(var n=1,r=e.length;n<r;n++)Nr(e[n].block,t)}function Lr(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||bi(e.tag)||!us(e.tag)||Dr(e)||!Object.keys(e).every(cs))))}function Dr(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function Mr(e,t){var n=t?"nativeOn:{":"on:{";for(var r in e)n+='"'+r+'":'+Pr(r,e[r])+",";return n.slice(0,-1)+"}"}function Pr(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Pr(e,t)}).join(",")+"]";var n=Ps.test(t.value),r=Ms.test(t.value);if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)Hs[s]?(o+=Hs[s],Rs[s]&&a.push(s)):a.push(s);a.length&&(i+=Rr(a)),o&&(i+=o);return"function($event){"+i+(n?t.value+"($event)":r?"("+t.value+")($event)":t.value)+"}"}return n||r?t.value:"function($event){"+t.value+"}"}function Rr(e){return"if(!('button' in $event)&&"+e.map(Fr).join("&&")+")return null;"}function Fr(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Rs[e];return"_k($event.keyCode,"+JSON.stringify(e)+(n?","+JSON.stringify(n):"")+")"}function Hr(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+(t.modifiers&&t.modifiers.prop?",true":"")+")"}}function Ur(e,t){var n=hs,r=hs=[],i=ms;ms=0,gs=t,ls=t.warn||Gt,fs=Yt(t.modules,"transformCode"),ps=Yt(t.modules,"genData"),ds=t.directives||{},vs=t.isReservedTag||Oi;var o=e?Br(e):'_c("div")';return hs=n,ms=i,{render:"with(this){return "+o+"}",staticRenderFns:r}}function Br(e){if(e.staticRoot&&!e.staticProcessed)return Vr(e);if(e.once&&!e.onceProcessed)return zr(e);if(e.for&&!e.forProcessed)return qr(e);if(e.if&&!e.ifProcessed)return Jr(e);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return oi(e);var t;if(e.component)t=ai(e.component,e);else{var n=e.plain?void 0:Wr(e),r=e.inlineTemplate?null:Xr(e,!0);t="_c('"+e.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var i=0;i<fs.length;i++)t=fs[i](e,t);return t}return Xr(e)||"void 0"}function Vr(e){return e.staticProcessed=!0,hs.push("with(this){return "+Br(e)+"}"),"_m("+(hs.length-1)+(e.staticInFor?",true":"")+")"}function zr(e){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Jr(e);if(e.staticInFor){for(var t="",n=e.parent;n;){if(n.for){t=n.key;break}n=n.parent}return t?"_o("+Br(e)+","+ms+++(t?","+t:"")+")":Br(e)}return Vr(e)}function Jr(e){return e.ifProcessed=!0,Kr(e.ifConditions.slice())}function Kr(e){function t(e){return e.once?zr(e):Br(e)}if(!e.length)return"_e()";var n=e.shift();return n.exp?"("+n.exp+")?"+t(n.block)+":"+Kr(e):""+t(n.block)}function qr(e){var t=e.for,n=e.alias,r=e.iterator1?","+e.iterator1:"",i=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+t+"),function("+n+r+i+"){return "+Br(e)+"})"}function Wr(e){var t="{",n=Zr(e);n&&(t+=n+","),e.key&&(t+="key:"+e.key+","),e.ref&&(t+="ref:"+e.ref+","),e.refInFor&&(t+="refInFor:true,"),e.pre&&(t+="pre:true,"),e.component&&(t+='tag:"'+e.tag+'",');for(var r=0;r<ps.length;r++)t+=ps[r](e);if(e.attrs&&(t+="attrs:{"+si(e.attrs)+"},"),e.props&&(t+="domProps:{"+si(e.props)+"},"),e.events&&(t+=Mr(e.events)+","),e.nativeEvents&&(t+=Mr(e.nativeEvents,!0)+","),e.slotTarget&&(t+="slot:"+e.slotTarget+","),e.scopedSlots&&(t+=Yr(e.scopedSlots)+","),e.model&&(t+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var i=Gr(e);i&&(t+=i+",")}return t=t.replace(/,$/,"")+"}",e.wrapData&&(t=e.wrapData(t)),t}function Zr(e){var t=e.directives;if(t){var n,r,i,o,a="directives:[",s=!1;for(n=0,r=t.length;n<r;n++){i=t[n],o=!0;var c=ds[i.name]||Us[i.name];c&&(o=!!c(e,i,ls)),o&&(s=!0,a+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return s?a.slice(0,-1)+"]":void 0}}function Gr(e){var t=e.children[0];if(1===t.type){var n=Ur(t,gs);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function Yr(e){return"scopedSlots:_u(["+Object.keys(e).map(function(t){return Qr(t,e[t])}).join(",")+"])"}function Qr(e,t){return"["+e+",function("+String(t.attrsMap.scope)+"){return "+("template"===t.tag?Xr(t)||"void 0":Br(t))+"}]"}function Xr(e,t){var n=e.children;if(n.length){var r=n[0];if(1===n.length&&r.for&&"template"!==r.tag&&"slot"!==r.tag)return Br(r);var i=t?ei(n):0;return"["+n.map(ri).join(",")+"]"+(i?","+i:"")}}function ei(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(1===r.type){if(ti(r)||r.ifConditions&&r.ifConditions.some(function(e){return ti(e.block)})){t=2;break}(ni(r)||r.ifConditions&&r.ifConditions.some(function(e){return ni(e.block)}))&&(t=1)}}return t}function ti(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function ni(e){return!vs(e.tag)}function ri(e){return 1===e.type?Br(e):ii(e)}function ii(e){return"_v("+(2===e.type?e.expression:ci(JSON.stringify(e.text)))+")"}function oi(e){var t=e.slotName||'"default"',n=Xr(e),r="_t("+t+(n?","+n:""),i=e.attrs&&"{"+e.attrs.map(function(e){return wi(e.name)+":"+e.value}).join(",")+"}",o=e.attrsMap["v-bind"];return!i&&!o||n||(r+=",null"),i&&(r+=","+i),o&&(r+=(i?"":",null")+","+o),r+")"}function ai(e,t){var n=t.inlineTemplate?null:Xr(t,!0);return"_c("+e+","+Wr(t)+(n?","+n:"")+")"}function si(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+='"'+r.name+'":'+ci(r.value)+","}return t.slice(0,-1)}function ci(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function ui(e,t){var n=lr(e.trim(),t);Sr(n,t);var r=Ur(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}}function li(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),d}}function fi(e,t){var n=(t.warn,rn(e,"class"));n&&(e.staticClass=JSON.stringify(n));var r=nn(e,"class",!1);r&&(e.classBinding=r)}function pi(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function di(e,t){var n=(t.warn,rn(e,"style"));n&&(e.staticStyle=JSON.stringify(la(n)));var r=nn(e,"style",!1);r&&(e.styleBinding=r)}function vi(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function hi(e,t){t.value&&Qt(e,"textContent","_s("+t.value+")")}function mi(e,t){t.value&&Qt(e,"innerHTML","_s("+t.value+")")}function gi(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}var yi,_i,bi=n("slot,component",!0),$i=Object.prototype.hasOwnProperty,wi=a(function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}),xi=a(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Ci=a(function(e){return e.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()}),ki=Object.prototype.toString,Ai="[object Object]",Oi=function(){return!1},Ti=function(e){return e},Si={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Oi,isUnknownElement:Oi,getTagNamespace:d,parsePlatformTagName:Ti,mustUseProp:Oi,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Ei=Object.freeze({}),ji=/[^\w.$]/,Ni="__proto__"in{},Ii="undefined"!=typeof window,Li=Ii&&window.navigator.userAgent.toLowerCase(),Di=Li&&/msie|trident/.test(Li),Mi=Li&&Li.indexOf("msie 9.0")>0,Pi=Li&&Li.indexOf("edge/")>0,Ri=Li&&Li.indexOf("android")>0,Fi=Li&&/iphone|ipad|ipod|ios/.test(Li),Hi=Li&&/chrome\/\d+/.test(Li)&&!Pi,Ui=function(){return void 0===yi&&(yi=!Ii&&"undefined"!=typeof global&&"server"===global.process.env.VUE_ENV),yi},Bi=Ii&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Vi="undefined"!=typeof Symbol&&b(Symbol)&&"undefined"!=typeof Reflect&&b(Reflect.ownKeys),zi=function(){function e(){r=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],r=!1;if("undefined"!=typeof Promise&&b(Promise)){var i=Promise.resolve(),o=function(e){console.error(e)};t=function(){i.then(e).catch(o),Fi&&setTimeout(d)}}else if("undefined"==typeof MutationObserver||!b(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var a=1,s=new MutationObserver(e),c=document.createTextNode(String(a));s.observe(c,{characterData:!0}),t=function(){a=(a+1)%2,c.data=String(a)}}return function(e,i){var o;if(n.push(function(){e&&e.call(i),o&&o(i)}),r||(r=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){o=e})}}();_i="undefined"!=typeof Set&&b(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ji=d,Ki=0,qi=function(){this.id=Ki++,this.subs=[]};qi.prototype.addSub=function(e){this.subs.push(e)},qi.prototype.removeSub=function(e){r(this.subs,e)},qi.prototype.depend=function(){qi.target&&qi.target.addDep(this)},qi.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},qi.target=null;var Wi=[],Zi=Array.prototype,Gi=Object.create(Zi);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Zi[e];y(Gi,e,function(){for(var n=arguments,r=arguments.length,i=new Array(r);r--;)i[r]=n[r];var o,a=t.apply(this,i),s=this.__ob__;switch(e){case"push":o=i;break;case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Yi=Object.getOwnPropertyNames(Gi),Qi={shouldConvert:!0,isSettingProps:!1},Xi=function(e){if(this.value=e,this.dep=new qi,this.vmCount=0,y(e,"__ob__",this),Array.isArray(e)){(Ni?x:C)(e,Gi,Yi),this.observeArray(e)}else this.walk(e)};Xi.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)A(e,t[n],e[t[n]])},Xi.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)k(e[t])};var eo=Si.optionMergeStrategies;eo.data=function(e,t,n){return n?e||t?function(){var r="function"==typeof t?t.call(n):t,i="function"==typeof e?e.call(n):void 0;return r?E(r,i):i}:void 0:t?"function"!=typeof t?e:e?function(){return E(t.call(this),e.call(this))}:t:e},Si._lifecycleHooks.forEach(function(e){eo[e]=j}),Si._assetTypes.forEach(function(e){eo[e+"s"]=N}),eo.watch=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n={};u(n,e);for(var r in t){var i=n[r],o=t[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):[o]}return n},eo.props=eo.methods=eo.computed=function(e,t){if(!t)return Object.create(e||null);if(!e)return t;var n=Object.create(null);return u(n,e),u(n,t),n};var to=function(e,t){return void 0===t?e:t},no=function(e,t,n,r,i,o,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},ro={child:{}};ro.child.get=function(){return this.componentInstance},Object.defineProperties(no.prototype,ro);var io,oo=function(){var e=new no;return e.text="",e.isComment=!0,e},ao=a(function(e){var t="~"===e.charAt(0);e=t?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:t,capture:n}}),so=null,co=[],uo={},lo=!1,fo=!1,po=0,vo=0,ho=function(e,t,n,r){this.vm=e,e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++vo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _i,this.newDepIds=new _i,this.expression="","function"==typeof t?this.getter=t:(this.getter=_(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ho.prototype.get=function(){$(this);var e,t=this.vm;if(this.user)try{e=this.getter.call(t,t)}catch(e){U(e,t,'getter for watcher "'+this.expression+'"')}else e=this.getter.call(t,t);return this.deep&&he(e),w(),this.cleanupDeps(),e},ho.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ho.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},ho.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ve(this)},ho.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){U(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ho.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ho.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ho.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||r(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var mo=new _i,go={enumerable:!0,configurable:!0,get:d,set:d},yo={lazy:!0},_o={init:function(e,t,n,r){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=Ee(e,so,n,r)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var i=e;_o.prepatch(i,i)}},prepatch:function(e,t){var n=t.componentOptions;se(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){e.componentInstance._isMounted||(e.componentInstance._isMounted=!0,fe(e.componentInstance,"mounted")),e.data.keepAlive&&ue(e.componentInstance,!0)},destroy:function(e){e.componentInstance._isDestroyed||(e.data.keepAlive?le(e.componentInstance,!0):e.componentInstance.$destroy())}},bo=Object.keys(_o),$o=1,wo=2,xo=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=xo++,t._isVue=!0,e&&e._isComponent?Qe(t,e):t.$options=D(Xe(t.constructor),e||{},t),t._renderProxy=t,t._self=t,oe(t),Q(t),Ze(t),fe(t,"beforeCreate"),Ye(t),ye(t),Ge(t),fe(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(nt),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=O,e.prototype.$delete=T,e.prototype.$watch=function(e,t,n){var r=this;n=n||{},n.user=!0;var i=new ho(r,e,t,n);return n.immediate&&t.call(r,i.value),function(){i.teardown()}}}(nt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this,i=this;if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)r.$on(e[o],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this,r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var i=0,o=e.length;i<o;i++)n.$off(e[i],t);return r}var a=r._events[e];if(!a)return r;if(1===arguments.length)return r._events[e]=null,r;for(var s,c=a.length;c--;)if((s=a[c])===t||s.fn===t){a.splice(c,1);break}return r},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?c(n):n;for(var r=c(arguments,1),i=0,o=n.length;i<o;i++)n[i].apply(t,r)}return t}}(nt),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&fe(n,"beforeUpdate");var r=n.$el,i=n._vnode,o=so;so=n,n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),so=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){fe(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||r(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),fe(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$options._parentElm=e.$options._refElm=null}}}(nt),function(n){n.prototype.$nextTick=function(e){return zi(e,this)},n.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t.staticRenderFns,i=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=z(e.$slots[o]);e.$scopedSlots=i&&i.data.scopedSlots||Ei,r&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=i;var a;try{a=n.call(e._renderProxy,e.$createElement)}catch(t){U(t,e,"render function"),a=e._vnode}return a instanceof no||(a=oo()),a.parent=i,a},n.prototype._o=Ke,n.prototype._n=t,n.prototype._s=e,n.prototype._l=He,n.prototype._t=Ue,n.prototype._q=v,n.prototype._i=h,n.prototype._m=Je,n.prototype._f=Be,n.prototype._k=Ve,n.prototype._b=ze,n.prototype._v=B,n.prototype._e=oo,n.prototype._u=ie}(nt);var Co=[String,RegExp],ko={name:"keep-alive",abstract:!0,props:{include:Co,exclude:Co},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)pt(e.cache[t])},watch:{include:function(e){ft(this.cache,function(t){return lt(e,t)})},exclude:function(e){ft(this.cache,function(t){return!lt(e,t)})}},render:function(){var e=Y(this.$slots.default),t=e&&e.componentOptions;if(t){var n=ut(t);if(n&&(this.include&&!lt(this.include,n)||this.exclude&&lt(this.exclude,n)))return e;var r=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[r]?e.componentInstance=this.cache[r].componentInstance:this.cache[r]=e,e.data.keepAlive=!0}return e}},Ao={KeepAlive:ko};!function(e){var t={};t.get=function(){return Si},Object.defineProperty(e,"config",t),e.util={warn:Ji,extend:u,mergeOptions:D,defineReactive:A},e.set=O,e.delete=T,e.nextTick=zi,e.options=Object.create(null),Si._assetTypes.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,u(e.options.components,Ao),rt(e),it(e),ot(e),ct(e)}(nt),Object.defineProperty(nt.prototype,"$isServer",{get:Ui}),nt.version="2.2.6";var Oo,To,So,Eo,jo,No,Io,Lo,Do,Mo=n("input,textarea,option,select"),Po=function(e,t,n){return"value"===n&&Mo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Ro=n("contenteditable,draggable,spellcheck"),Fo=n("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ho="http://www.w3.org/1999/xlink",Uo=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Bo=function(e){return Uo(e)?e.slice(6,e.length):""},Vo=function(e){return null==e||e===!1},zo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Jo=n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Ko=n("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),qo=function(e){return"pre"===e},Wo=function(e){return Jo(e)||Ko(e)},Zo=Object.create(null),Go=Object.freeze({createElement:$t,createElementNS:wt,createTextNode:xt,createComment:Ct,insertBefore:kt,removeChild:At,appendChild:Ot,parentNode:Tt,nextSibling:St,tagName:Et,setTextContent:jt,setAttribute:Nt}),Yo={create:function(e,t){It(t)},update:function(e,t){e.data.ref!==t.data.ref&&(It(e,!0),It(t))},destroy:function(e){It(e,!0)}},Qo=new no("",{},[]),Xo=["create","activate","update","remove","destroy"],ea={create:Ht,update:Ht,destroy:function(e){Ht(e,Qo)}},ta=Object.create(null),na=[Yo,ea],ra={create:Jt,update:Jt},ia={create:qt,update:qt},oa=/[\w).+\-_$\]]/,aa="__r",sa="__c",ca={create:$n,update:$n},ua={create:wn,update:wn},la=a(function(e){var t={};return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var n=e.split(/:(.+)/);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),fa=/^--/,pa=/\s*!important$/,da=function(e,t,n){fa.test(t)?e.style.setProperty(t,n):pa.test(n)?e.style.setProperty(t,n.replace(pa,""),"important"):e.style[ha(t)]=n},va=["Webkit","Moz","ms"],ha=a(function(e){if(Do=Do||document.createElement("div"),"filter"!==(e=wi(e))&&e in Do.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<va.length;n++){var r=va[n]+t;if(r in Do.style)return r}}),ma={create:Sn,update:Sn},ga=a(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ya=Ii&&!Mi,_a="transition",ba="animation",$a="transition",wa="transitionend",xa="animation",Ca="animationend";ya&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&($a="WebkitTransition",wa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xa="WebkitAnimation",Ca="webkitAnimationEnd"));var ka=Ii&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,Aa=/\b(transform|all)(,|$)/,Oa=Ii?{create:zn,activate:zn,remove:function(e,t){e.data.show?t():Un(e,t)}}:{},Ta=[ra,ia,ca,ua,ma,Oa],Sa=Ta.concat(na),Ea=function(e){function t(e){return new no(O.tagName(e).toLowerCase(),{},[],void 0,e)}function r(e,t){function n(){0==--n.listeners&&i(e)}return n.listeners=t,n}function i(e){var t=O.parentNode(e);Dt(t)&&O.removeChild(t,e)}function a(e,t,n,r,i){if(e.isRootInsert=!i,!s(e,t,n,r)){var o=e.data,a=e.children,c=e.tag;Dt(c)?(e.elm=e.ns?O.createElementNS(e.ns,c):O.createElement(c,e),v(e),f(e,a,t),Dt(o)&&d(e,t),l(n,e.elm,r)):Mt(e.isComment)?(e.elm=O.createComment(e.text),
l(n,e.elm,r)):(e.elm=O.createTextNode(e.text),l(n,e.elm,r))}}function s(e,t,n,r){var i=e.data;if(Dt(i)){var o=Dt(e.componentInstance)&&i.keepAlive;if(Dt(i=i.hook)&&Dt(i=i.init)&&i(e,!1,n,r),Dt(e.componentInstance))return c(e,t),Mt(o)&&u(e,t,n,r),!0}}function c(e,t){Dt(e.data.pendingInsert)&&t.push.apply(t,e.data.pendingInsert),e.elm=e.componentInstance.$el,p(e)?(d(e,t),v(e)):(It(e),t.push(e))}function u(e,t,n,r){for(var i,o=e;o.componentInstance;)if(o=o.componentInstance._vnode,Dt(i=o.data)&&Dt(i=i.transition)){for(i=0;i<k.activate.length;++i)k.activate[i](Qo,o);t.push(o);break}l(n,e.elm,r)}function l(e,t,n){Dt(e)&&(Dt(n)?O.insertBefore(e,t,n):O.appendChild(e,t))}function f(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)a(t[r],n,e.elm,null,!0);else o(e.text)&&O.appendChild(e.elm,O.createTextNode(e.text))}function p(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return Dt(e.tag)}function d(e,t){for(var n=0;n<k.create.length;++n)k.create[n](Qo,e);x=e.data.hook,Dt(x)&&(Dt(x.create)&&x.create(Qo,e),Dt(x.insert)&&t.push(e))}function v(e){for(var t,n=e;n;)Dt(t=n.context)&&Dt(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,""),n=n.parent;Dt(t=so)&&t!==e.context&&Dt(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,"")}function h(e,t,n,r,i,o){for(;r<=i;++r)a(n[r],o,e,t)}function m(e){var t,n,r=e.data;if(Dt(r))for(Dt(t=r.hook)&&Dt(t=t.destroy)&&t(e),t=0;t<k.destroy.length;++t)k.destroy[t](e);if(Dt(t=e.children))for(n=0;n<e.children.length;++n)m(e.children[n])}function g(e,t,n,r){for(;n<=r;++n){var o=t[n];Dt(o)&&(Dt(o.tag)?(y(o),m(o)):i(o.elm))}}function y(e,t){if(Dt(t)||Dt(e.data)){var n=k.remove.length+1;for(Dt(t)?t.listeners+=n:t=r(e.elm,n),Dt(x=e.componentInstance)&&Dt(x=x._vnode)&&Dt(x.data)&&y(x,t),x=0;x<k.remove.length;++x)k.remove[x](e,t);Dt(x=e.data.hook)&&Dt(x=x.remove)?x(e,t):t()}else i(e.elm)}function _(e,t,n,r,i){for(var o,s,c,u,l=0,f=0,p=t.length-1,d=t[0],v=t[p],m=n.length-1,y=n[0],_=n[m],$=!i;l<=p&&f<=m;)Lt(d)?d=t[++l]:Lt(v)?v=t[--p]:Pt(d,y)?(b(d,y,r),d=t[++l],y=n[++f]):Pt(v,_)?(b(v,_,r),v=t[--p],_=n[--m]):Pt(d,_)?(b(d,_,r),$&&O.insertBefore(e,d.elm,O.nextSibling(v.elm)),d=t[++l],_=n[--m]):Pt(v,y)?(b(v,y,r),$&&O.insertBefore(e,v.elm,d.elm),v=t[--p],y=n[++f]):(Lt(o)&&(o=Ft(t,l,p)),s=Dt(y.key)?o[y.key]:null,Lt(s)?(a(y,r,e,d.elm),y=n[++f]):(c=t[s],Pt(c,y)?(b(c,y,r),t[s]=void 0,$&&O.insertBefore(e,y.elm,d.elm),y=n[++f]):(a(y,r,e,d.elm),y=n[++f])));l>p?(u=Lt(n[m+1])?null:n[m+1].elm,h(e,u,n,f,m,r)):f>m&&g(e,t,l,p)}function b(e,t,n,r){if(e!==t){if(Mt(t.isStatic)&&Mt(e.isStatic)&&t.key===e.key&&(Mt(t.isCloned)||Mt(t.isOnce)))return t.elm=e.elm,void(t.componentInstance=e.componentInstance);var i,o=t.data;Dt(o)&&Dt(i=o.hook)&&Dt(i=i.prepatch)&&i(e,t);var a=t.elm=e.elm,s=e.children,c=t.children;if(Dt(o)&&p(t)){for(i=0;i<k.update.length;++i)k.update[i](e,t);Dt(i=o.hook)&&Dt(i=i.update)&&i(e,t)}Lt(t.text)?Dt(s)&&Dt(c)?s!==c&&_(a,s,c,n,r):Dt(c)?(Dt(e.text)&&O.setTextContent(a,""),h(a,null,c,0,c.length-1,n)):Dt(s)?g(a,s,0,s.length-1):Dt(e.text)&&O.setTextContent(a,""):e.text!==t.text&&O.setTextContent(a,t.text),Dt(o)&&Dt(i=o.hook)&&Dt(i=i.postpatch)&&i(e,t)}}function $(e,t,n){if(Mt(n)&&Dt(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function w(e,t,n){t.elm=e;var r=t.tag,i=t.data,o=t.children;if(Dt(i)&&(Dt(x=i.hook)&&Dt(x=x.init)&&x(t,!0),Dt(x=t.componentInstance)))return c(t,n),!0;if(Dt(r)){if(Dt(o))if(e.hasChildNodes()){for(var a=!0,s=e.firstChild,u=0;u<o.length;u++){if(!s||!w(s,o[u],n)){a=!1;break}s=s.nextSibling}if(!a||s)return!1}else f(t,o,n);if(Dt(i))for(var l in i)if(!T(l)){d(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}var x,C,k={},A=e.modules,O=e.nodeOps;for(x=0;x<Xo.length;++x)for(k[Xo[x]]=[],C=0;C<A.length;++C)Dt(A[C][Xo[x]])&&k[Xo[x]].push(A[C][Xo[x]]);var T=n("attrs,style,class,staticClass,staticStyle,key");return function(e,n,r,i,o,s){if(Lt(n))return void(Dt(e)&&m(e));var c=!1,u=[];if(Lt(e))c=!0,a(n,u,o,s);else{var l=Dt(e.nodeType);if(!l&&Pt(e,n))b(e,n,u,i);else{if(l){if(1===e.nodeType&&e.hasAttribute("server-rendered")&&(e.removeAttribute("server-rendered"),r=!0),Mt(r)&&w(e,n,u))return $(n,u,!0),e;e=t(e)}var f=e.elm,d=O.parentNode(f);if(a(n,u,f._leaveCb?null:d,O.nextSibling(f)),Dt(n.parent)){for(var v=n.parent;v;)v.elm=n.elm,v=v.parent;if(p(n))for(var h=0;h<k.create.length;++h)k.create[h](Qo,n.parent)}Dt(d)?g(d,[e],0,0):Dt(e.tag)&&m(e)}}return $(n,u,c),n.elm}}({nodeOps:Go,modules:Sa});Mi&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Gn(e,"input")});var ja={inserted:function(e,t,n){if("select"===n.tag){var r=function(){Jn(e,t,n.context)};r(),(Di||Pi)&&setTimeout(r,0)}else"textarea"!==n.tag&&"text"!==e.type&&"password"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(Ri||(e.addEventListener("compositionstart",Wn),e.addEventListener("compositionend",Zn)),Mi&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Jn(e,t,n.context);(e.multiple?t.value.some(function(t){return Kn(t,e.options)}):t.value!==t.oldValue&&Kn(t.value,e.options))&&Gn(e,"change")}}},Na={bind:function(e,t,n){var r=t.value;n=Yn(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i&&!Mi?(n.data.show=!0,Hn(n,function(){e.style.display=o})):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;r!==t.oldValue&&(n=Yn(n),n.data&&n.data.transition&&!Mi?(n.data.show=!0,r?Hn(n,function(){e.style.display=e.__vOriginalDisplay}):Un(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},Ia={model:ja,show:Na},La={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Da={name:"transition",props:La,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag}),n.length)){var r=this.mode,i=n[0];if(tr(this.$vnode))return i;var a=Qn(i);if(!a)return i;if(this._leaving)return er(e,i);var s="__transition-"+this._uid+"-";a.key=null==a.key?s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=Xn(this),l=this._vnode,f=Qn(l);if(a.data.directives&&a.data.directives.some(function(e){return"show"===e.name})&&(a.data.show=!0),f&&f.data&&!nr(a,f)){var p=f&&(f.data.transition=u({},c));if("out-in"===r)return this._leaving=!0,q(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),er(e,i);if("in-out"===r){var d,v=function(){d()};q(c,"afterEnter",v),q(c,"enterCancelled",v),q(p,"delayLeave",function(e){d=e})}}return i}}},Ma=u({tag:String,moveClass:String},La);delete Ma.mode;var Pa={props:Ma,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Xn(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?u.push(p):l.push(p)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(rr),e.forEach(ir),e.forEach(or);var n=document.body;n.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Ln(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(wa,n._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(wa,e),n._moveCb=null,Dn(n,t))})}})}},methods:{hasMove:function(e,t){if(!ya)return!1;if(null!=this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){jn(n,e)}),En(n,t),n.style.display="none",this.$el.appendChild(n);var r=Pn(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},Ra={Transition:Da,TransitionGroup:Pa};nt.config.mustUseProp=Po,nt.config.isReservedTag=Wo,nt.config.getTagNamespace=yt,nt.config.isUnknownElement=_t,u(nt.options.directives,Ia),u(nt.options.components,Ra),nt.prototype.__patch__=Ii?Ea:d,nt.prototype.$mount=function(e,t){return e=e&&Ii?bt(e):void 0,ae(this,e,t)},setTimeout(function(){Si.devtools&&Bi&&Bi.emit("init",nt)},0);var Fa,Ha=!!Ii&&function(e,t){var n=document.createElement("div");return n.innerHTML='<div a="'+e+'">',n.innerHTML.indexOf(t)>0}("\n","&#10;"),Ua=n("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ba=n("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Va=n("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),za=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Ja=new RegExp("^\\s*"+/([^\s"'<>\/=]+)/.source+"(?:\\s*("+/(?:=)/.source+")\\s*(?:"+za.join("|")+"))?"),Ka="[a-zA-Z_][\\w\\-\\.]*",qa=new RegExp("^<((?:"+Ka+"\\:)?"+Ka+")"),Wa=/^\s*(\/?)>/,Za=new RegExp("^<\\/((?:"+Ka+"\\:)?"+Ka+")[^>]*>"),Ga=/^<!DOCTYPE [^>]+>/i,Ya=/^<!--/,Qa=/^<!\[/,Xa=!1;"x".replace(/x(.)?/g,function(e,t){Xa=""===t});var es,ts,ns,rs,is,os,as,ss,cs,us,ls,fs,ps,ds,vs,hs,ms,gs,ys=n("script,style,textarea",!0),_s={},bs={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},$s=/&(?:lt|gt|quot|amp);/g,ws=/&(?:lt|gt|quot|amp|#10);/g,xs=/\{\{((?:.|\n)+?)\}\}/g,Cs=a(function(e){var t=e[0].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&"),n=e[1].replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),ks=/^@|^v-on:/,As=/^v-|^@|^:/,Os=/(.*?)\s+(?:in|of)\s+(.*)/,Ts=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,Ss=/:(.*)$/,Es=/^:|^v-bind:/,js=/\.[^.]+/g,Ns=a(ar),Is=/^xmlns:NS\d+/,Ls=/^NS\d+:/,Ds=a(Er),Ms=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Ps=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Rs={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Fs=function(e){return"if("+e+")return null;"},Hs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Fs("$event.target !== $event.currentTarget"),ctrl:Fs("!$event.ctrlKey"),shift:Fs("!$event.shiftKey"),alt:Fs("!$event.altKey"),meta:Fs("!$event.metaKey"),left:Fs("'button' in $event && $event.button !== 0"),middle:Fs("'button' in $event && $event.button !== 1"),right:Fs("'button' in $event && $event.button !== 2")},Us={bind:Hr,cloak:d},Bs={staticKeys:["staticClass"],transformNode:fi,genData:pi},Vs={staticKeys:["staticStyle"],transformNode:di,genData:vi},zs=[Bs,Vs],Js={model:dn,text:hi,html:mi},Ks={expectHTML:!0,modules:zs,directives:Js,isPreTag:qo,isUnaryTag:Ua,mustUseProp:Po,canBeLeftOpenTag:Ba,isReservedTag:Wo,getTagNamespace:yt,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(zs)},qs=function(e){function t(t,n){var r=Object.create(e),i=[],o=[];if(r.warn=function(e,t){(t?o:i).push(e)},n){n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=u(Object.create(e.directives),n.directives));for(var a in n)"modules"!==a&&"directives"!==a&&(r[a]=n[a])}var s=ui(t,r);return s.errors=i,s.tips=o,s}function n(e,n,i){n=n||{};var o=n.delimiters?String(n.delimiters)+e:e;if(r[o])return r[o];var a=t(e,n),s={},c=[];s.render=li(a.render,c);var u=a.staticRenderFns.length;s.staticRenderFns=new Array(u);for(var l=0;l<u;l++)s.staticRenderFns[l]=li(a.staticRenderFns[l],c);return r[o]=s}var r=Object.create(null);return{compile:t,compileToFunctions:n}}(Ks),Ws=qs.compileToFunctions,Zs=a(function(e){var t=bt(e);return t&&t.innerHTML}),Gs=nt.prototype.$mount;return nt.prototype.$mount=function(e,t){if((e=e&&bt(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Zs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=gi(e));if(r){var i=Ws(r,{shouldDecodeNewlines:Ha,delimiters:n.delimiters},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return Gs.call(this,e,t)},nt.compile=Ws,nt});


/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){'use strict';function vt(){return at}function y(n,t){return n==null?null:f(t)?h(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function pt(n){return f(n)||e(n)||l(n)||i(n)}function f(n){return typeof n=='string'}function wt(n){return n==null?!0:n.replace(/\s/g,'').length<1}function e(n){return typeof n=='number'}function b(n){return e(n)&&n==Math.round(n)}function l(n){return typeof n=='boolean'}function h(n){return typeof n=='function'}function bt(n){return typeof n=='undefined'}function i(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function a(n){return n!=null&&typeof n=='object'&&!i(n)&&!o(n)}function kt(n){for(var t=n,i=0;document.getElementById(t)!=null;i++)t=n+i;return t}function dt(n){if(n instanceof c)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),e(n.clientX)&&e(n.clientY))return new c(n.clientX+pageXOffset,n.clientY+pageYOffset);throw'Mouse or touch event expected.';}function gt(n){return e(n)?u.Number:l(n)?u.Boolean:i(n)?u.Date:f(n)?u.String:o(n)?u.Array:u.Object}function k(t,i,r){var o,e;if(t!=null){if(f(t))switch(i){case u.Number:return o=n.Globalize.parseFloat(t,r),isNaN(o)?t:o;case u.Date:return e=n.Globalize.parseDate(t,r),e||r||!t||(e=new Date(t)),e&&isFinite(e.getTime())?e:t;case u.Boolean:switch(t.toLowerCase()){case'true':return!0;case'false':return!1}return t}if(i==u.String)return n.Globalize.format(t,r)}return t}function ni(n,t,i){var u,r;return i?(r=n.toString(),u=r.indexOf('.'),u>-1&&(r=r.substr(0,u+1+t),n=parseFloat(r))):(r=n.toFixed(t),n=parseFloat(r)),n}function ti(t,i,r){var u,s,o,h;if(t=p(t),t.match(/\{.*"count".*:.*"when".*:.*\}/))try{u=JSON.parse(t);f(u.count)&&(s=i[u.count],o=u.when,e(s)&&a(o)&&(h=o[s]||o.other,f(h)&&(t=h)))}catch(c){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&u[0]!='{'&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),o==null?'':o})}function ii(n,t,i){return n!=null&&(i!=null&&n>i&&(n=i),t!=null&&n<t&&(n=t)),n}function d(i,r){var u,f;if(r)for(u in r)u[0]!='_'&&(t(u in i,'Unknown property "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&h(f)?i[u].addHandler(f):a(f)&&i[u]&&u!='itemsSource'?d(i[u],f):i[u]=f))}function t(n,t){if(!n)throw'** Assertion failed in Wijmo: '+t;}function ri(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function p(n,i){return i===void 0&&(i=!0),t(i&&n==null||f(n),'String expected.'),n}function r(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||e(n),'Number expected.'),r&&n&&n<0)throw'Positive number expected.';return n}function ui(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||b(n),'Integer expected.'),r&&n&&n<0)throw'Positive integer expected.';return n}function g(n,i){return i===void 0&&(i=!1),t(i&&n==null||l(n),'Boolean expected.'),n}function fi(n,r){if(r===void 0&&(r=!1),f(n)){var e=k(n,u.Date,'r');i(e)&&(n=e)}return t(r&&n==null||i(n),'Date expected.'),n}function s(n,i){return i===void 0&&(i=!0),t(i&&n==null||h(n),'Function expected.'),n}function ei(n,i){return i===void 0&&(i=!0),t(i&&n==null||o(n),'Array expected.'),n}function nt(n,i,r){return r===void 0&&(r=!1),n=y(n,i),t(r||n!=null,i+' expected.'),n}function oi(n,i,r){if(r===void 0&&(r=!1),n==null&&r)return null;var u=i[n];return t(u!=null,'Invalid enum value.'),e(u)?u:n}function si(i,r){if(r===void 0&&(r=!0),i==null&&r)return null;var u=y(i,'ICollectionView');return u!=null?u:(o(i)||t(!1,'Array or ICollectionView expected.'),new n.collections.CollectionView(i))}function hi(n){return n&&n.items&&n.items.length}function ci(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,'$1 $2'):''}function li(n){return f(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return tt[n]})),n}function v(n,t){if(n&&n.getAttribute){var i=new RegExp('(\\s|^)'+t+'(\\s|$)');return n&&i.test(n.getAttribute('class'))}return!1}function it(n,t){if(n&&t&&n.setAttribute&&v(n,t)){var r=new RegExp('((\\s|^)'+t+'(\\s|$))','g'),i=n.getAttribute('class');i=i.replace(r,' ').replace(/ +/g,' ').trim();n.setAttribute('class',i)}}function rt(n,t){if(n&&t&&n.setAttribute&&!v(n,t)){var i=n.getAttribute('class');n.setAttribute('class',i?i+' '+t:t)}}function ut(n,t,i){i==null&&(i=!v(n,t));i?rt(n,t):it(n,t)}function ft(n,t,i){i!=null?n.setAttribute(t,i.toString()):n.removeAttribute(t)}function ai(t,i,u){if(u===void 0&&(u=i),t=nt(t,HTMLInputElement),ot(document.body,t)&&!t.disabled&&t.style.display!='none')try{t.setSelectionRange(r(i),r(u),n.isIE()?null:'backward');t.focus()}catch(f){}}function et(){var n=document.activeElement,t;return n&&(t=n.shadowRoot,t&&t.activeElement&&(n=t.activeElement)),n}function vi(n,t){for(var f,i,e='input,select,textarea,button,a,div,span',o=n.querySelectorAll(e),r=[],u=0;u<o.length;u++)i=o[u],i.clientHeight>0&&i.tabIndex>-1&&!i.disabled&&!st(i,'[disabled],.wj-state-disabled')&&!i.querySelector(e)&&r.push(i);f=0;t&&(u=r.indexOf(et()),u>-1&&(f=(u+t+r.length)%r.length));f<r.length&&(i=r[f],i.focus(),i instanceof HTMLInputElement&&i.select())}function yi(n){return n instanceof Element?n:f(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function pi(n,t){var i=document.createElement('div'),r;return i.innerHTML=n,r=i.removeChild(i.firstChild),t instanceof HTMLElement?t.appendChild(r):r}function wi(n,t){if(t==null){n.hasChildNodes()&&(n.textContent='');return}var i=n.firstChild;n.childNodes.length==1&&i.nodeType==3?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function ot(n,t){for(var i=t;i&&n;){if(i===n)return!0;i=i.parentNode||i.host}return!1}function st(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null}function bi(n,t){var f=!t,r,i,u;for(ut(n,'wj-state-disabled',f),ft(n,'disabled',f?'true':null),r=n.querySelectorAll('input'),i=0;i<r.length;i++)u=r[i],t?u.removeAttribute('disabled'):u.setAttribute('disabled','true')}function ki(n){var t=n.getBoundingClientRect();return new w(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function ht(n,t){var u,f,i,r;if(n instanceof Array){for(u=0;u<n.length;u++)ht(n[u],t);return}f=n.style;for(i in t)r=t[i],typeof r=='number'&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(r+='px'),f[i]!=r&&(f[i]=r.toString())}function di(n,t,i){t===void 0&&(t=400);i===void 0&&(i=35);s(n);r(t,!1,!0);r(i,!1,!0);var f=Date.now(),u=setInterval(function(){var i=Math.min(1,(Date.now()-f)/t);i=Math.sin(i*Math.PI/2);i*=i;requestAnimationFrame(function(){n(i)});i>=1&&clearInterval(u)},i);return u}function gi(n,t){var o,c,e,w,r,l,v;t||(t={});var y=t.method?p(t.method).toUpperCase():'GET',b=t.async!=null?g(t.async):!0,u=t.data;if(u!=null&&y=='GET'){o=[];for(c in u)e=u[c],i(e)&&(e=e.toJSON()),o.push(c+'='+e);o.length&&(w=n.indexOf('?')<0?'?':'&',n+=w+o.join('&'));u=null}if(r=new XMLHttpRequest,r.URL_DEBUG=n,l=!1,u==null||f(u)||(l=a(u),u=JSON.stringify(u)),r.onload=function(){r.readyState==4&&(r.status<300?t.success&&s(t.success)(r):t.error&&s(t.error)(r),t.complete&&s(t.complete)(r))},r.onerror=function(){if(t.error)s(t.error)(r);else throw'HttpRequest Error: '+r.status+' '+r.statusText;},r.open(y,n,b,t.user,t.password),t.user&&t.password&&r.setRequestHeader('Authorization','Basic '+btoa(t.user+':'+t.password)),l&&r.setRequestHeader('Content-Type','application/json'),t.requestHeaders)for(v in t.requestHeaders)r.setRequestHeader(v,t.requestHeaders[v]);return h(t.beforeSend)&&t.beforeSend(r),r.send(u),r}var at='5.20171.282',yt,u,tt,c,ct,w,lt;n.getVersion=vt,function(n){n[n.Back=8]="Back";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.Escape=27]="Escape";n[n.Space=32]="Space";n[n.PageUp=33]="PageUp";n[n.PageDown=34]="PageDown";n[n.End=35]="End";n[n.Home=36]="Home";n[n.Left=37]="Left";n[n.Up=38]="Up";n[n.Right=39]="Right";n[n.Down=40]="Down";n[n.Delete=46]="Delete";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F3=114]="F3";n[n.F4=115]="F4";n[n.F5=116]="F5";n[n.F6=117]="F6";n[n.F7=118]="F7";n[n.F8=119]="F8";n[n.F9=120]="F9";n[n.F10=121]="F10";n[n.F11=122]="F11";n[n.F12=123]="F12"}(n.Key||(n.Key={}));yt=n.Key,function(n){n[n.Object=0]="Object";n[n.String=1]="String";n[n.Number=2]="Number";n[n.Boolean=3]="Boolean";n[n.Date=4]="Date";n[n.Array=5]="Array"}(n.DataType||(n.DataType={}));u=n.DataType;n.tryCast=y;n.isPrimitive=pt;n.isString=f;n.isNullOrWhiteSpace=wt;n.isNumber=e;n.isInt=b;n.isBoolean=l;n.isFunction=h;n.isUndefined=bt;n.isDate=i;n.isArray=o;n.isObject=a;n.getUniqueId=kt;n.mouseToPage=dt;n.getType=gt;n.changeType=k;n.toFixed=ni;n.format=ti;n.clamp=ii;n.copy=d;n.assert=t;n._deprecated=ri;n.asString=p;n.asNumber=r;n.asInt=ui;n.asBoolean=g;n.asDate=fi;n.asFunction=s;n.asArray=ei;n.asType=nt;n.asEnum=oi;n.asCollectionView=si;n.hasItems=hi;n.toHeaderCase=ci;n.escapeHtml=li;tt={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;'};n.hasClass=v;n.removeClass=it;n.addClass=rt;n.toggleClass=ut;n.setAttribute=ft;n.setSelectionRange=ai;n.getActiveElement=et;n.moveFocus=vi;n.getElement=yi;n.createElement=pi;n.setText=wi;n.contains=ot;n.closest=st;n.enable=bi;n.getElementRect=ki;n.setCss=ht;n.animate=di;c=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=r(n);this.y=r(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}();n.Point=c;ct=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.width=r(n);this.height=r(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}();n.Size=ct;w=function(){function n(n,t,i,u){this.left=r(n);this.top=r(t);this.width=r(i);this.height=r(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){if(i.left!=null)return new n(i.left,i.top,i.width,i.height);if(i.x!=null)return new n(i.x,i.y,i.width,i.height);t(!1,'Invalid source rectangle.')},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.intersection=function(t,i){var r=Math.max(t.left,i.left),u=Math.max(t.top,i.top),f=Math.min(t.right,i.right),e=Math.min(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof c)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,'Point or Rect expected.')},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}();n.Rect=w;lt=function(){function t(){}return t.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},t.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},t.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},t.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},t.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},t.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},t.sameDate=function(n,t){return i(n)&&i(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},t.sameTime=function(n,t){return i(n)&&i(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},t.equals=function(n,t){return i(n)&&i(t)&&n.getTime()==t.getTime()},t.fromDateTime=function(n,t){return!n&&!t?null:(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},t.toFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,-u.fiscalYearOffsets[r?0:1]):i},t.fromFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,+u.fiscalYearOffsets[r?0:1]):i},t.newDate=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())},t.clone=function(n){return t.fromDateTime(n,n)},t}();n.DateTime=lt;n.httpRequest=gi})(wijmo||(wijmo={})),function(n){'use strict';function i(){n.culture=window.wijmo.culture}n.culture=window.wijmo.culture||{Globalize:{numberFormat:{'.':'.',',':',',percent:{pattern:['-n %','n %']},currency:{decimals:2,symbol:'$',pattern:['($n)','$n']}},calendar:{'/':'/',':':':',firstDay:0,days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysAbbr:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsAbbr:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],am:['AM','A'],pm:['PM','P'],eras:['A.D.','B.C.'],patterns:{d:'M/d/yyyy',D:'dddd, MMMM dd, yyyy',f:'dddd, MMMM dd, yyyy h:mm tt',F:'dddd, MMMM dd, yyyy h:mm:ss tt',t:'h:mm tt',T:'h:mm:ss tt',M:'MMMM d',m:'MMMM d',Y:'MMMM, yyyy',y:'MMMM, yyyy',g:'M/d/yyyy h:mm tt',G:'M/d/yyyy h:mm:ss tt',s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:'dddd, MMMM dd, yyyy h:mm:ss tt'},fiscalYearOffsets:[-3,-3]}}};var t=function(){function t(){}return t.format=function(i,r,u,f){return n.isString(i)?i:n.isNumber(i)?(r=r||(i==Math.round(i)?'n0':'n2'),t.formatNumber(i,r,u,f)):n.isDate(i)?(r=r||'d',t.formatDate(i,r)):i!=null?i.toString():''},t.formatNumber=function(i,r,u,f){var l,p,a;i=n.asNumber(i);r=n.asString(r);var h=n.culture.Globalize.numberFormat,s=r?r.match(/([a-z])(\d*)(,*)(.*)/i):null,o=s?s[1].toLowerCase():'n',c=s&&s[2]?parseInt(s[2]):o=='c'?h.currency.decimals:i==Math.round(i)?0:2,w=s&&s[3]?3*s[3].length:0,b=s&&s[4]?s[4]:h.currency.symbol,v=h['.'],y=h[','],e;if(w&&(i/=Math.pow(10,w)),o=='d'||o=='x'){for(e=Math.round(Math.abs(i)).toString(o=='d'?10:16);e.length<c;)e='0'+e;return i<0&&(e='-'+e),r&&r[0]=='X'&&(e=e.toUpperCase()),e}return o=='p'&&(i=t._mul100(i),i=n.toFixed(i,c,f)),f&&o!='p'&&(i=n.toFixed(i,c,!0)),e=o=='c'||o=='p'?Math.abs(i).toFixed(c):i.toFixed(c),(u||o=='g')&&e.indexOf('.')>-1&&(e=e.replace(/(\.[0-9]*?)0+$/g,'$1'),e=e.replace(/\.$/,'')),v!='.'&&(e=e.replace('.',v)),y&&(o=='n'||o=='c'||o=='p')&&(l=e.indexOf(v),p=/\B(?=(\d\d\d)+(?!\d))/g,e=l>-1?e.substr(0,l).replace(p,y)+e.substr(l):e.replace(p,y)),o=='c'&&(a=h.currency.pattern[i<0?0:1],e=a.replace('n',e).replace('$',b)),o=='p'&&(a=h.percent.pattern[i<0?0:1],e=a.replace('n',e)),e},t.formatDate=function(i,r){var f,e,u;i=n.asDate(i);switch(r){case'r':case'R':return i.toUTCString();case'u':return i.toISOString().replace(/\.\d{3}/,'')}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e='',u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=t.indexOf('-')>-1||t.indexOf('(')>-1&&t.indexOf(')')>-1?-1:1,u=t.indexOf('%')>-1?.01:1,f=i?i.match(/,+/):null,e=f?f[0].length*3:0;if(i&&(i[0]=='x'||i[0]=='X'))return t=t.replace(/[^0-9a-f]+.*$/gi,''),parseInt(t,16)*r*u*Math.pow(10,e);var o=n.culture.Globalize.numberFormat['.'],s=new RegExp('[^\\d\\'+o+']','g'),h=t.replace(s,'').replace(o,'.');return parseFloat(h)*r*u*Math.pow(10,e)},t.parseDate=function(i,r){var ut,h,e,p,ht,nt,ct;if(i=n.asString(i),!i)return null;if(r=='u')return new Date(i);if(r=='R'||r=='r')return ut=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,h=i.match(ut),h[1]||h[5]?(e=h[1]?new Date(parseInt(h[2]),parseInt(h[3])-1,parseInt(h[4])):new Date,h[5]&&(e.setHours(parseInt(h[6])),e.setMinutes(parseInt(h[7])),e.setSeconds(h[8]?parseInt(h[9]):0))):e=new Date(i),isNaN(e.getTime())?null:e;r=t._expandFormat(r?r:'d');var s=n.culture.Globalize.calendar,ft=t._CJK,lt=new RegExp('(\\'+s['/']+')|(\\'+s[':']+")|(\\d+)|(["+ft+"\\.]{2,})|(["+ft+']+)','gi'),c=i.match(lt),w=t._parseDateFormat(r),y=0,l=-1,a=0,d=1,o=0,b=0,k=0,et=0,tt=-1,ot,it,st,g,rt;if(!c||!c.length||!w||!w.length)return null;for(p=0;p<w.length&&c;p++){var v=p-y,u=v>-1&&v<c.length?c[v]:'',f=w[p].length;switch(w[p]){case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':rt=w[p];case'yyyy':case'yyy':case'yy':case'y':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);l=parseInt(u);break;case'MMMM':case'MMM':for(g=!0,ht=u.toLowerCase(),a=-1,nt=0;nt<12;nt++)if(s.months[nt].toLowerCase().indexOf(ht)==0){a=nt;break}if(a>-1)break;case'MM':case'M':g=!0;f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);a=parseInt(u)-1;break;case'dddd':case'ddd':ot=!0;break;case'dd':case'd':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);d=parseInt(u);it=!0;break;case'hh':case'h':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);o=o==12?0:o;break;case'HH':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);break;case'H':o=parseInt(u);break;case'mm':case'm':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);b=parseInt(u);break;case'ss':case's':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);k=parseInt(u);break;case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':et=parseInt(u)/Math.pow(10,f-3);break;case'tt':case't':u=u.toUpperCase();(s.pm[0]&&u==s.pm[0]&&o<12||s.pm[1]&&u==s.pm[1]&&o<12)&&(o+=12);break;case'q':case'Q':case'u':case'U':st=!0;break;case'ggg':case'gg':case'g':tt=s.eras.length>1?t._getEra(u,s):-1;break;case s['/']:case s[':']:if(u&&u!=w[p])return null;break;case'K':break;default:t._unquote(w[p])!=u&&y++}}if(g&&it&&(isNaN(o)&&(o=0),isNaN(b)&&(b=0),isNaN(k)&&(k=0)),a<0||a>11||isNaN(a)||d<0||d>31||isNaN(d)||o<0||o>24||isNaN(o)||b<0||b>60||isNaN(b)||k<0||k>60||isNaN(k))return null;if(rt){if(!g)return null;e=new Date(l,a);e=n.DateTime.fromFiscal(e,rt[0]=='E');l=e.getFullYear();a=e.getMonth()}return ot&&!it?null:st&&!g?null:(l<0&&(l=(new Date).getFullYear()),tt>-1?l=l+s.eras[tt].start.getFullYear()-1:l<100&&(ct=n.isNumber(s.twoDigitYearMax)?s.twoDigitYearMax:2029,l+=l+2e3<ct?2e3:1900),e=new Date(l,a,d,o,b+0,k,et),isNaN(e.getTime())?null:e)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat['.'];return t?t:'.'},t._unquote=function(n){return n.length>1&&n[0]==n[n.length-1]&&(n[0]=='\''||n[0]=='\"')?n.substr(1,n.length-2):n},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFormatParts)return t._dateFormatParts[n];for(u=[],e='',i=0;i>-1&&i<n.length;i++){if(f=n[i],(f=='\''||f=='"')&&(r=n.indexOf(f,i+1),r>-1)){u.push(n.substring(i,r+1));i=r;continue}for(r=i+1;r<n.length;r++)if(n[r]!=f)break;u.push(n.substring(i,r));i=r-1}return t._dateFormatParts[n]=u,u},t._formatDatePart=function(i,r,u){var f=n.culture.Globalize.calendar,o=0,h=0,l=0,c,e=u.length,s;switch(u){case'yyyy':case'yyy':case'yy':case'y':case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':return c=u[0]=='E'?n.DateTime.toFiscal(i,!0):u[0]=='e'?n.DateTime.toFiscal(i,!1):i,h=c.getFullYear(),f.eras.length>1&&r.indexOf('g')>-1&&(o=t._getEra(i,f),o>-1&&(h=h-f.eras[o].start.getFullYear()+1)),t._zeroPad(h,4).substr(4-u.length);case'MMMM':return f.months[i.getMonth()];case'MMM':return f.monthsAbbr[i.getMonth()];case'MM':case'M':return t._zeroPad(i.getMonth()+1,e);case'dddd':return f.days[i.getDay()];case'ddd':return f.daysAbbr[i.getDay()];case'dd':return t._zeroPad(i.getDate(),2);case'd':return i.getDate().toString();case'hh':case'h':return t._zeroPad(t._h12(i),e);case'HH':case'H':return t._zeroPad(i.getHours(),e);case'mm':case'm':return t._zeroPad(i.getMinutes(),e);case'ss':case's':return t._zeroPad(i.getSeconds(),e);case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':return l=i.getMilliseconds()*Math.pow(10,e-3),u[0]=='f'?t._zeroPad(l,e):l.toFixed(0);case'tt':return i.getHours()<12?f.am[0]:f.pm[0];case't':return i.getHours()<12?f.am[1]:f.pm[1];case'q':case'Q':return(Math.floor(i.getMonth()/3)+1).toString();case'u':case'U':return c=n.DateTime.toFiscal(i,u=='U'),(Math.floor(c.getMonth()/3)+1).toString();case'ggg':case'gg':case'g':return f.eras.length>1&&(o=t._getEra(i,f),o>-1)?u=='ggg'?f.eras[o].name:u=='gg'?f.eras[o].name[0]:f.eras[o].symbol:f.eras[0];case':':case'/':return f[u];case'K':return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:''}return e>1&&u[0]==u[e-1]&&(u[0]=='\"'||u[0]=='\'')?u.substr(1,e-2):u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name&&(i.eras[r].name.indexOf(t)==0||i.eras[r].symbol.indexOf(t)==0))return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join('0')+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i=i%12,i==0&&(i=12)),i},t._mul100=function(n){var t=n.toString(),i=t.indexOf('.');return i<0?t+='00':(i+=2,t=t.replace('.','')+'00',t=t.substr(0,i)+'.'+t.substr(i)),parseFloat(t)},t._CJK='a-z'+'u00c0-u017fu3000-u30ffu4e00-u9faf'.replace(/u/g,'\\u')+'u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff'.replace(/u/g,'\\u'),t._dateFormatParts={},t}();n.Globalize=t;n._updateCulture=i}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n?n.split('.'):[],t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf('['),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];if(this._path in n)return n[this._path];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){if(n){if(this._path in n){n[this._path]=t;return}for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],n==null)return;n[this._parts[this._parts.length-1]]=t}},n}();n.Binding=t}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var f=function(){function n(n,t){this.handler=n;this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t);this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length;r++)if(u=this._handlers[r],(u.handler==t||t==null)&&(u.self==i||i==null)&&(this._handlers.splice(r,1),t&&i))break},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(i===void 0&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}(),t,i,r,u;n.Event=e;t=function(){function n(){}return n.empty=new n,n}();n.EventArgs=t;i=function(n){function t(){n.apply(this,arguments);this.cancel=!1}return __extends(t,n),t}(t);n.CancelEventArgs=i;r=function(n){function t(t,i,r){n.call(this);this._name=t;this._oldVal=i;this._newVal=r}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t);n.PropertyChangedEventArgs=r;u=function(n){function t(t,i){n.call(this);this._xhr=t;this._msg=i}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(n){this._msg=n},enumerable:!0,configurable:!0}),t}(i);n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(i,r,u){var h=this,f,c,o;if(r===void 0&&(r=null),u===void 0&&(u=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,t._updateWme(),n.assert(t.getControl(i)==null,'Element is already hosting a control.'),f=n.getElement(i),n.assert(f!=null,'Cannot find the host element.'),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,this._orgTag=f.tagName,(f.tagName=='INPUT'||f.tagName=='SELECT')&&(f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,u==!0&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),c=this._handleResize.bind(this),this.addEventListener(window,'resize',c)),this.addEventListener(f,'focus',function(){setTimeout(function(){h._updateFocusState()})},!0),this.addEventListener(f,'blur',function(){setTimeout(function(){h._updateFocusState()},20)},!0),o=this._handleDisabled.bind(this),this.addEventListener(f,'mousedown',o,!0),this.addEventListener(f,'mouseup',o,!0),this.addEventListener(f,'click',o,!0),this.addEventListener(f,'dblclick',o,!0),this.addEventListener(f,'keydown',o,!0),this.addEventListener(f,'wheel',o,!0),t._touching==null&&(t._touching=!1,'ontouchstart'in window||'onpointerdown'in window)){var e=document.body,l=this._handleTouchStart,s=this._handleTouchEnd;'ontouchstart'in window?(e.addEventListener('touchstart',l),e.addEventListener('touchend',s),e.addEventListener('touchcancel',s),e.addEventListener('touchleave',s)):'onpointerdown'in window&&(e.addEventListener('pointerdown',l),e.addEventListener('pointerup',s),e.addEventListener('pointerout',s),e.addEventListener('pointercancel',s),e.addEventListener('pointerleave',s))}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate,t)return t;return null},t.prototype.applyTemplate=function(i,r,u,f){var e=this._e,l,a,b,v,k,d,g,w,s,y,c,h;i&&n.addClass(e,i);l=null;r&&(l=n.createElement(r,e));var nt=e.querySelectorAll('input'),o=nt.length==1?nt[0]:null,p=e.attributes;if(o&&p)for(a=0;a<p.length;a++)b=p[a].name,b.match(t._rxInputAtts)&&o.setAttribute(b,p[a].value);if(o&&e.id){for(v=e;v.parentElement;)v=v.parentElement;k=v.querySelector('label[for="'+e.id+'"]');k instanceof HTMLLabelElement&&(d=n.getUniqueId(e.id+'_input'),o.id=d,k.htmlFor=d)}if(o&&(g=document.createEvent('HTMLEvents'),w=o.value,g.initEvent('change',!0,!1),this.addEventListener(o,'input',function(){w=o.value},!0),this.gotFocus.addHandler(function(){w=o.value}),this.lostFocus.addHandler(function(){w!=o.value&&o.dispatchEvent(g)})),e.getAttribute('tabindex')||(e.tabIndex=o!=null?-1:0),this._updateState(),u)for(s in u){if(y=u[s],this[s]=l.querySelector('[wj-part="'+y+'"]'),this[s]==null&&l.getAttribute('wj-part')==y&&(this[s]=l),this[s]==null)throw'Missing template part: "'+y+'"';y==f&&(c='name',h=e.attributes[c],h&&h.value&&this[s].setAttribute(c,h.value),c='accesskey',h=e.attributes[c],h&&h.value&&(this[s].setAttribute(c,h.value),e.removeAttribute(c)))}return l},t.prototype.dispose=function(){for(var e,u,i,r,o=this._e.querySelectorAll('.wj-control'),f=0;f<o.length;f++)e=t.getControl(o[f]),e&&e.dispose();this._toInv&&clearTimeout(this._toInv);this.removeEventListener();for(i in this)i.length>2&&i.indexOf('on')==0&&(r=this[i[2].toLowerCase()+i.substr(3)],r instanceof n.Event&&r.removeAllHandlers());if(u=this.collectionView,u instanceof n.collections.CollectionView)for(i in u)r=u[i],r instanceof n.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter);this._e[t._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return this._rtlDir==null&&(this._rtlDir=this._e?getComputedStyle(this._e).direction=='rtl':!1),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e&&this._e.focus()},t.prototype.containsFocus=function(){var f,i,r,e,u;if(!this._e)return!1;for(f=this._e.querySelectorAll('.wj-control'),i=0;i<f.length;i++)if(r=t.getControl(f[i]),r&&r!=this&&r.containsFocus())return!0;return(e=n.getActiveElement(),u=t.getControl(n.closest(e,'.wj-control.wj-popup')),u&&u.owner&&n.contains(this._e,u.owner))?!0:n.contains(this._e,e)},t.prototype.invalidate=function(n){var i=this;n===void 0&&(n=!0);this._rtlDir=null;this._fullUpdate=this._fullUpdate||n;this._toInv&&(clearTimeout(this._toInv),this._toInv=null);this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){n===void 0&&(n=!0);!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._rtlDir=null,this._fullUpdate=!1,t._updateWme())},t.invalidateAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.invalidateAll(n.children[i]);r=t.getControl(n);r&&r.invalidate()},t.refreshAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.refreshAll(n.children[i]);r=t.getControl(n);r&&r.refresh()},t.disposeAll=function(n){var r=t.getControl(n),i;if(r)r.dispose();else if(n.children)for(i=0;i<n.children.length;i++)t.disposeAll(n.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute('disabled')!=null},set:function(t){t=n.asBoolean(t,!0);t!=this.isDisabled&&n.enable(this._e,!t)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){r===void 0&&(r=!1);n&&(n.addEventListener(t,i,r),this._listeners==null&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i,r){var e=0,f,u;if(this._listeners)for(f=0;f<this._listeners.length;f++)u=this._listeners[f],(n==null||n==u.target)&&(t==null||t==u.type)&&(i==null||i==u.fn)&&(r==null||r==u.capture)&&(u.target.removeEventListener(u.type,u.fn,u.capture),this._listeners.splice(f,1),f--,e++);return e},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t._updateWme=function(){var r,u,i;if(!t._wme||!t._wme.parentElement||!t._wme.offsetWidth||!t._wme.offsetHeight){r=Array(Math.round(Math.random()*10)).join(' ');u='Powered by Wijmo '+n.getVersion()+' Eval';t._wme=n.createElement('<div><a href="http://wijmo.com/products/wijmo-5/eval/'+r+'">'+u+r+'</a></div>');i={position:'fixed',padding:5,margin:5,background:'#fff',boxShadow:'0 0 10px rgba(0,0,0,0.25)',fontSize:'11pt',zIndex:1e3,opacity:.8,display:'block',visibility:'visible',height:'auto',width:'auto',transform:'none'};switch(Math.round(Math.random()*100)%2){case 0:i.right=i.bottom=0;break;case 1:i.left=i.bottom=0;break;case 2:i.right=i.top=0}n.setCss(t._wme,i);document.body.appendChild(t._wme)}},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var n=this;setTimeout(function(){for(var i,u,r=n._e;r;r=r.parentElement)i=t.getControl(r),i&&(u=i.containsFocus(),u!=i._focus&&(i._focus=u,u?i.onGotFocus():i.onLostFocus(),i._updateState()))})},t.prototype._updateState=function(){var t=this.hostElement,i,r;t&&(n.toggleClass(t,'wj-state-focused',this.containsFocus()),i=t.querySelector('input'),i instanceof HTMLInputElement&&(n.toggleClass(t,'wj-state-empty',i.value.length==0),n.toggleClass(t,'wj-state-readonly',i.readOnly),r=i.validationMessage,n.toggleClass(t,'wj-state-invalid',r&&r.length>0)))},t.prototype._handleTouchStart=function(n){(n.pointerType==null||n.pointerType=='touch')&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(n.pointerType==null||n.pointerType=='touch')&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.isDisabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var r=document.createElement('div'),u,i,f;for(n.parentElement.replaceChild(r,n),r.innerHTML=n.innerHTML,u=n.attributes,i=0;i<u.length;i++)f=u[i].name,(f.match(/id|style|class/i)||f.match(t._rxInputAtts))&&r.setAttribute(f,u[i].value);return r},t._DATA_KEY='wj-Control',t._REFRESH_INTERVAL=10,t._rxInputAtts=/name|autofocus|autocomplete|minlength|maxlength|pattern|placeholder/i,t}();n.Control=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u){var v=0,f=0,l=0,s=0,h=null,c=null,y=u?new n.Binding(u):null,a,e,o;if(i=n.asEnum(i,t),i==t.CntAll)return r.length;for(a=0;a<r.length;a++)e=r[a],y&&(e=y.getValue(e)),e!=null&&(v++,(h==null||e<h)&&(h=e),(c==null||e>c)&&(c=e),n.isNumber(e)&&!isNaN(e)?(f++,l+=e,s+=e*e):n.isBoolean(e)&&(f++,e==!0&&(l++,s++)));o=f==0?0:l/f;switch(i){case t.Avg:return o;case t.Cnt:return v;case t.Max:return c;case t.Min:return h;case t.Rng:return c-h;case t.Sum:return l;case t.VarPop:return f<=1?0:s/f-o*o;case t.StdPop:return f<=1?0:Math.sqrt(s/f-o*o);case t.Var:return f<=1?0:(s/f-o*o)*f/(f-1);case t.Std:return f<=1?0:Math.sqrt((s/f-o*o)*f/(f-1))}throw'Invalid aggregate type.';}(function(n){n[n.None=0]="None";n[n.Sum=1]="Sum";n[n.Cnt=2]="Cnt";n[n.Avg=3]="Avg";n[n.Max=4]="Max";n[n.Min=5]="Min";n[n.Rng=6]="Rng";n[n.Std=7]="Std";n[n.Var=8]="Var";n[n.StdPop=9]="StdPop";n[n.VarPop=10]="VarPop";n[n.CntAll=11]="CntAll"})(n.Aggregate||(n.Aggregate={}));var t=n.Aggregate;n.getAggregate=i}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,f,e,r,o;(function(n){n[n.Add=0]="Add";n[n.Remove=1]="Remove";n[n.Change=2]="Change";n[n.Reset=3]="Reset"})(t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}));i=t.NotifyCollectionChangedAction;u=function(n){function t(t,r,u){t===void 0&&(t=i.Reset);r===void 0&&(r=null);u===void 0&&(u=-1);n.call(this);this.action=t;this.item=r;this.index=u}return __extends(t,n),t.reset=new t(i.Reset),t}(n.EventArgs);t.NotifyCollectionChangedEventArgs=u;f=function(){function t(t,i){this._bnd=new n.Binding(t);this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=f;e=function(n){function t(t){n.call(this);this.newPageIndex=t}return __extends(t,n),t}(n.CancelEventArgs);t.PageChangingEventArgs=e;r=function(){function n(){}return n.prototype.groupNameFromItem=function(){return''},n.prototype.namesMatch=function(n,t){return n===t},n}();t.GroupDescription=r;o=function(t){function i(i,r){t.call(this);this._bnd=new n.Binding(i);this._converter=r}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(r);t.PropertyGroupDescription=o})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(){function n(){this.length=0;Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n.prototype.forEach=function(){return null},n.prototype.filter=function(){return null},n}(),r;t.ArrayBase=i;i.prototype=Array.prototype;r=function(i){function r(t){if(i.call(this),this._updating=0,this.collectionChanged=new n.Event,t){t=n.asArray(t);this._updating++;for(var r=0;r<t.length;r++)this.push(t[r]);this._updating--}}return __extends(r,i),r.prototype.push=function(){for(var f,r,n=[],u=0;u<arguments.length;u++)n[+u]=arguments[u];for(f=this.length,r=0;n&&r<n.length;r++)f=i.prototype.push.call(this,n[r]),this._updating||this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,n[r],f-1);return f},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,n,this.length),n},r.prototype.splice=function(n,r,u){var f;return r&&u?(f=i.prototype.splice.call(this,n,r,u),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,u,n):this._raiseCollectionChanged(),f):u?(f=i.prototype.splice.call(this,n,0,u),this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,u,n),f):(f=i.prototype.splice.call(this,n,r),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,f[0],n):this._raiseCollectionChanged(),f)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.remove=function(n){var t=this.indexOf(n);return t>-1?(this.removeAt(t),!0):!1},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){n>this.length&&(this.length=n);this.splice(n,1,t)},r.prototype.clear=function(){this.length!==0&&(this.splice(0,this.length),this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,this._updating==0&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return n=='INotifyCollectionChanged'},r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(n===void 0&&(n=t.NotifyCollectionChangedAction.Reset),!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i);t.ObservableArray=r})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r=function(){function r(i,r){var u=this;this._idx=-1;this._srtDsc=new t.ObservableArray;this._grpDesc=new t.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._stableSort=!1;this._canFilter=!0;this._canGroup=!0;this._canSort=!0;this._canAddNew=!0;this._canCancelEdit=!0;this._canRemove=!0;this._canChangePage=!0;this._trackChanges=!1;this._chgAdded=new t.ObservableArray;this._chgRemoved=new t.ObservableArray;this._chgEdited=new t.ObservableArray;this.collectionChanged=new n.Event;this.sourceCollectionChanging=new n.Event;this.sourceCollectionChanged=new n.Event;this.currentChanged=new n.Event;this.currentChanging=new n.Event;this.pageChanged=new n.Event;this.pageChanging=new n.Event;this._srtDsc.collectionChanged.addHandler(function(){for(var r=u._srtDsc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.SortDescription,'sortDescriptions array must contain SortDescription objects.');u.canSort&&u.refresh()});this._grpDesc.collectionChanged.addHandler(function(){for(var r=u._grpDesc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.GroupDescription,'groupDescriptions array must contain GroupDescription objects.');u.canGroup&&u.refresh()});this.sourceCollection=i?i:new t.ObservableArray;r&&(this.beginUpdate(),n.copy(this,r),this.endUpdate())}return r.prototype._copy=function(i,r){var e,f,u;if(i=='sortDescriptions'){for(this.sortDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.SortDescription(u,!0)),this.sortDescriptions.push(u);return!0}if(i=='groupDescriptions'){for(this.groupDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.PropertyGroupDescription(u)),this.groupDescriptions.push(u);return!0}return!1},Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),r.prototype.getAggregate=function(t,i,r){var u=r?this._pgView:this._view;return n.getAggregate(t,u,i)},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()},r.prototype.implementsInterface=function(n){switch(n){case'ICollectionView':case'IEditableCollectionView':case'IPagedCollectionView':case'INotifyCollectionChanged':return!0}return!1},Object.defineProperty(r.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=n.asFunction(t)},enumerable:!0,configurable:!0}),r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this._committing||this._canceling||n.action!=t.NotifyCollectionChangedAction.Change||n.item==this.currentEditItem||this._trackItemChanged(n.item);this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){n===void 0&&(n=t.NotifyCollectionChangedAction.Reset);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},r.prototype.onSourceCollectionChanging=function(n){return this.sourceCollectionChanging.raise(this,n),!n.cancel},r.prototype.onSourceCollectionChanged=function(n){this.sourceCollectionChanged.raise(this,n)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new n.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit();this.commitNew();this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged);this._src=n.asArray(t,!1);this._ncc=n.tryCast(this._src,'INotifyCollectionChanged');this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this);this.clearChanges();this.refresh();this.moveCurrentToFirst();this.onSourceCollectionChanged();this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToPrevious=function(){return this._idx>0?this.moveCurrentToPosition(this._idx-1):!1},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var i,t;this._updating>0||(i=this.currentItem,this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups)),t=this._pgView.indexOf(i),t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==i&&this.onCurrentChanged())},r.prototype._performSort=function(n){var i,r,t;if(this._stableSort)for(i=n.map(function(n,t){return{item:n,index:t}}),r=this._compareItems(),i.sort(function(n,t){var i=r(n.item,t.item);return i==0?n.index-t.index:i}),t=0;t<n.length;t++)n[t]=i[t].item;else n.sort(this._compareItems())},r.prototype._compareItems=function(){var i=this._srtDsc,t=this._srtCvt,r=this._srtCmp,u=!0,n=0;return function(f,e){for(var l,a,c=0;c<i.length;c++){var h=i[c],o=h._bnd.getValue(f),s=h._bnd.getValue(e);if(t&&(o=t(h,f,o,u),s=t(h,e,s,!1),u=!1),r&&(n=r(o,s),n!=null))return h.ascending?+n:-n;if(o!==o&&(o=null),s!==s&&(s=null),typeof o=='string'&&typeof s=='string'&&(l=o.toLowerCase(),a=s.toLowerCase(),l!=a&&(o=l,s=a)),o!=null&&s==null)return-1;if(o==null&&s!=null)return 1;if(n=o<s?-1:o>s?1:0,n!=0)return h.ascending?+n:-n}return 0}},r.prototype._performFilter=function(n){return this.canFilter&&this._filter?n.filter(this._filter,this):n},r.prototype.onCurrentChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.commitEdit=function(){var n=this._edtItem,r,i,u;n!=null&&(this._committing=!0,r=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),r||this._trackItemChanged(n),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged(),this._committing=!1)},r.prototype.cancelEdit=function(){var r=this._edtItem,i;if(r!=null){if(this._edtItem=null,!this.canCancelEdit){n.assert(!1,'cannot cancel edits (canCancelEdit == false).');return}if(i=this._src.indexOf(r),i<0||!this._edtClone)return;this._extend(this._src[i],this._edtClone);this._edtClone=null;this._canceling=!0;this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,r,i);this._canceling=!1}},r.prototype.addNew=function(){var i,u,r;if(arguments.length>0&&n.assert(!1,'addNew does not take any parameters, it creates the new items.'),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,'cannot add items (canAddNew == false).'),null;if(i=null,u=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():u&&u.length?new u[0].constructor:{},i!=null){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(r=this.groups[this.groups.length-1],r.items.push(i);r.groups&&r.groups.length;)r=r.groups[r.groups.length-1],r.items.push(i);this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,i,this._pgView.length-1);this.moveCurrentTo(i)}return this._newItem},r.prototype.commitNew=function(){var n=this._newItem,i,u,r;n!=null&&(this._newItem=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),this._trackChanges==!0&&(r=this._chgEdited.indexOf(n),r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged())},r.prototype.cancelNew=function(){var n=this._newItem;n!=null&&this.remove(n)},r.prototype.remove=function(i){var e=i==this._newItem,r,o,s,u,f,h,c,l;if(e&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),!this.canRemove){n.assert(!1,'cannot remove items (canRemove == false).');return}r=this._src.indexOf(i);r>-1&&(o=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,s=this._digest,this._performRefresh(),this._trackChanges==!0&&(u=this._chgAdded.indexOf(i),u>-1&&this._chgAdded.removeAt(u),f=this._chgEdited.indexOf(i),f>-1&&this._chgEdited.removeAt(f),h=this._chgRemoved.indexOf(i),h<0&&!e&&u<0&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,l=this.pageSize>0&&this._pgIdx>-1,c||l||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,i,r),this.currentItem!==o&&this.onCurrentChanged())},r.prototype.removeAt=function(t){t=n.asInt(t);this.remove(this._pgView[t])},r.prototype._trackItemChanged=function(n){var i,u,r;if(this._trackChanges&&this.items.indexOf(n)>-1)if(i=this._chgEdited.indexOf(n),u=t.NotifyCollectionChangedAction.Change,i<0&&this._chgAdded.indexOf(n)<0)this._chgEdited.push(n);else if(i>-1){r=new t.NotifyCollectionChangedEventArgs(u,n,i);this._chgEdited.onCollectionChanged(r)}else if(i=this._chgAdded.indexOf(n),i>-1){r=new t.NotifyCollectionChangedEventArgs(u,n,i);this._chgAdded.onCollectionChanged(r)}},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t===i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var r=n.clamp(i,0,this.pageCount-1),u;return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,'cannot change pages (canChangePage == false).'),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():this.onCollectionChanged(),this.onPageChanged())),this._pgIdx==i},r.prototype.onPageChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return t!=null&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if((r=n[u],r.level==t&&r._path==i)||r.level<t&&i.indexOf(r._path)==0&&(r=this._getGroupByPath(r.groups,t,i),r!=null))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f='';for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f];!r&&n.isPrimitive(o)&&(r={},h[f]=r);e=this._getGroup(v,l,r,o,i,y);f+='/'+o;e._path=f;y&&e.items.push(c);l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i='',r=0;n!=null&&r<n.length;r++)t=n[r],i+='{'+t.name+':'+(t.items?t.items.length:'*'),t.groups.length>0&&(i+=',',i+=this._getGroupsDigest(t.groups)),i+='}';return i},r.prototype._mergeGroupItems=function(n){for(var i,f,t,r,e=[],u=0;u<n.length;u++){if(i=n[u],!i._isBottomLevel)for(f=this._mergeGroupItems(i.groups),t=0,r=f.length;t<r;t++)i._items.push(f[t]);for(t=0,r=i._items.length;t<r;t++)e.push(i._items[t])}return e},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f],c)return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}(),i;t.CollectionView=r;i=function(){function t(n,t,i,r){this._gd=n;this._name=t;this._level=i;this._isBottomLevel=r;this._groups=[];this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}();t.CollectionViewGroup=i})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var i=function(){function i(t){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=!0;this._gap=6;this._showAtMouse=!1;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new n.Event;n.copy(this,t)}return i.prototype.setTooltip=function(t,i){t=n.getElement(t);i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1));i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var e,o;r=n.getElement(r);u=this._getContent(u);f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect()));e=i._eTip;e||(e=i._eTip=document.createElement('div'),n.addClass(e,'wj-tooltip'),e.style.visibility='none',document.body.appendChild(e));this._setContent(u);o=new t(u);this.onPopup(o);o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth='',f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener('mousedown',this._hideAutoTipBnd))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility='hidden',i._eTip.innerHTML='');document.removeEventListener('mousedown',this._hideAutoTipBnd)},i.prototype.dispose=function(){var n=this;this._tips.forEach(function(t){n._detach(t.element)});this._tips.splice(0,this._tips.length)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&i._eTip.style.visibility!='hidden'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){this.popup&&this.popup.raise(this,n)},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener('mouseenter',this._showAutoTipBnd);n.addEventListener('mouseleave',this._hideAutoTipBnd);n.addEventListener('click',this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener('mouseenter',this._showAutoTipBnd);n.removeEventListener('mouseleave',this._hideAutoTipBnd);n.removeEventListener('click',this._showAutoTipBnd)},i.prototype._showAutoTip=function(t){var i=this,r=t.type=='mouseenter'?this._showDelay:0;this._clearTimeouts();this._toShow=setTimeout(function(){var u=i._indexOf(t.target),r,f;u>-1&&(r=i._tips[u],f=i._showAtMouse?new n.Rect(t.clientX,t.clientY,0,0):null,i.show(r.element,r.content,f),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},r)},i.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&t[0]=='#'){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}(),r,t;n.Tooltip=i;r=function(){function n(){}return n}();t=function(t){function i(i){t.call(this);this._content=n.asString(i)}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs);n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(n){this._r=0;this._g=0;this._b=0;this._a=1;n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var n=Math.round(this.a*100);return n>99?'#'+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):'rgba('+this.r+','+this.g+','+this.b+','+n/100+')'},t.fromRgba=function(i,r,u,f){f===void 0&&(f=1);var e=new t(null);return e.r=Math.round(n.clamp(n.asNumber(i),0,255)),e.g=Math.round(n.clamp(n.asNumber(r),0,255)),e.b=Math.round(n.clamp(n.asNumber(u),0,255)),e.a=n.clamp(n.asNumber(f),0,1),e},t.fromHsb=function(i,r,u,f){f===void 0&&(f=1);var e=t._hsbToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){f===void 0&&(f=1);var e=t._hslToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.toOpaque=function(i,r){if(i=n.isString(i)?t.fromString(i):n.asType(i,t),i.a==1)return i;r=r==null?t.fromRgba(255,255,255,1):n.isString(r)?t.fromString(r):n.asType(r,t);var u=i.a,f=1-u;return t.fromRgba(i.r*u+r.r*f,i.g*u+r.g*f,i.b*u+r.b*f)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),n=='transparent')return this._r=this._g=this._b=this._a=0,!0;if(n&&n.indexOf('#')!=0&&n.indexOf('rgb')!=0&&n.indexOf('hsl')!=0&&(u=document.createElement('div'),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),n.indexOf('#')==0)return n.length==4?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):n.length==7?(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0):!1;if(n.indexOf('rgb')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(n.indexOf('hsl')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf('%')>-1&&(s/=100),i[2].indexOf('%')>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,'bad HSL values'),r==0?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(o*255),Math.round(s*255),Math.round(h*255)]},t._hue2rgb=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,'bad RGB values');t/=255;i/=255;r/=255;var u=Math.max(t,i,r),o=Math.min(t,i,r),f,s,h=(u+o)/2;if(u==o)f=s=0;else{e=u-o;s=h>.5?e/(2-u-o):e/(u+o);switch(u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,'bad RGB values');var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSB values');var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),'bad conversion to HSL'),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSL values');var u=n.clamp(r==1?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),'bad conversion to HSB'),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(){}return t.copy=function(n){t._copyPasteInternal(n)},t.paste=function(n){t._copyPasteInternal(n)},t._copyPasteInternal=function(t){for(var u=n.getActiveElement(),r=n.closest(u,'.wj-control'),i;r&&n.Control.getControl(r);)r=r.parentElement;r==null&&(r=document.body);r&&(i=document.createElement('textarea'),i.style.position='fixed',i.style.opacity='0',r.appendChild(i),typeof t=='string'&&(i.value=t),i.select(),i.onkeydown=function(n){i.value&&n.preventDefault()},setTimeout(function(){u.focus();var n=i.value;r.removeChild(i);typeof t=='function'&&t(n)},100))},t}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u,f,e){var c,y,a,rt,p,ut,g,nt,w,tt,ft,it,b,l;if(r===void 0&&(r=null),u===void 0&&(u=!1),f===void 0&&(f=!1),e===void 0&&(e=!0),c=document.body,r instanceof HTMLElement){if(!n.contains(document.body,r))return;for(y=r.parentElement;y;y=y.parentElement)if(getComputedStyle(y).position=='fixed'){c=y;break}}c.lastChild!=i&&c.appendChild(i);r instanceof HTMLElement&&e&&(a=getComputedStyle(r),rt=new n.Color(a.backgroundColor),rt.a&&n.setCss(i,{color:a.color,backgroundColor:a.backgroundColor,fontFamily:a.fontFamily,fontSize:a.fontSize,fontWeight:a.fontWeight,fontStyle:a.fontStyle}));n.setCss(i,{position:'absolute',visibility:'hidden',display:''});n.Control.refreshAll(i);var v=getComputedStyle(i),et=parseFloat(v.marginTop)+parseFloat(v.marginBottom),ot=parseFloat(v.marginLeft)+parseFloat(v.marginRight),h=new n.Size(i.offsetWidth+ot,i.offsetHeight+et),o=new n.Point,s=null;if(r&&r.clientX!=null&&r.clientY!=null&&r.pageX!=null&&r.pageY!=null)r.clientX<=0&&r.clientY<=0&&r.target?s=r.target.getBoundingClientRect():(o.x=Math.max(0,r.pageX-pageXOffset),o.y=Math.max(0,r.pageY-pageYOffset));else if(r instanceof n.Point)o=r;else if(r instanceof HTMLElement)s=r.getBoundingClientRect();else if(r&&r.top!=null&&r.left!=null)s=r;else if(r==null)o.x=Math.max(0,(innerWidth-h.width)/2),o.y=Math.max(0,Math.round((innerHeight-h.height)/2*.7));else throw'Invalid ref parameter.';if(p=parseFloat(v.minWidth),s){var k=s.top,d=innerHeight-s.bottom,st=getComputedStyle(i).direction=='rtl';o.x=st?Math.max(0,s.right-h.width):Math.max(0,Math.min(s.left,innerWidth-h.width));o.y=u?k>h.height||k>d?Math.max(0,s.top-h.height):s.bottom:d>h.height||d>k?s.bottom:Math.max(0,s.top-h.height);p=Math.max(p,s.width);n.isIE()&&(ut=i.offsetWidth-(i.clientWidth+parseInt(v.borderLeftWidth)+parseInt(v.borderRightWidth)),p-=ut)}else g=innerHeight-20,o.y+h.height>g&&(o.y=Math.max(0,g-h.height)),nt=innerWidth-20,o.x+h.width>nt&&(o.x=Math.max(0,nt-h.width));if(w=new n.Point(0,0),r!=null&&(c==document.body?w=new n.Point(-pageXOffset,-pageYOffset):c&&(tt=c.getBoundingClientRect(),w=new n.Point(tt.left-c.scrollLeft,tt.top-c.scrollTop))),ft={position:r==null?'fixed':'absolute',left:o.x-w.x,top:o.y-w.y,minWidth:p,display:'',visibility:'',zIndex:1500},f&&(i.style.opacity='0',n.animate(function(n){i.style.opacity=n==1?'':n.toString()})),n.setCss(i,ft),it=r instanceof MouseEvent?r.target:r,it instanceof HTMLElement)for(l=it.parentElement;l&&l!=document.body;l=l.parentElement)getComputedStyle(l).overflowY=='auto'&&l.scrollHeight>l.offsetHeight&&(b||(b=new n.Control(document.createElement('div'))),b.addEventListener(l,'scroll',function(){t(i,!0);b.dispose()}))}function r(i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1);u?n.animate(function(n){i.style.opacity=(1-n).toString();n==1&&(t(i,r),i.style.opacity='')}):t(i,r)}function t(n,t){n.style.display='none';t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i;n.hidePopup=r}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(t){this._copyCss=!0;t!=null&&n.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(n){this._css||(this._css=[]);this._css.push(n)},t.prototype.append=function(t){var i=this._getDocument();n.isString(t)?i.write(t):t instanceof HTMLElement?i.write(t.outerHTML):n.assert(!1,'child should be an HTML element or a string.')},t.prototype.print=function(){var i=this,n,t;this._iframe&&(this._close(),n=this._iframe.contentWindow,t='onafterprint'in n,t&&(n.onafterprint=function(){document.body.removeChild(i._iframe);i._iframe=null}),n.focus(),n.print(),t||(document.body.removeChild(this._iframe),this._iframe=null))},t.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement('iframe');var n=this._iframe.style;n.position='fixed';n.left='10000px';n.top='10000px';document.body.appendChild(this._iframe)}return this._iframe.contentDocument},t.prototype._close=function(){var i=this._getDocument(),r,e,u,o,t,s,f;if(i.close(),this.title&&(r=i.querySelector('title'),r||(r=i.createElement('title'),i.head.appendChild(r)),r.textContent=this.title),this._copyCss){for(e=document.head.querySelectorAll('LINK'),t=0;t<e.length;t++)u=e[t],u.href.match(/\.css$/i)&&u.rel.match(/stylesheet/i)&&(f=n.httpRequest(u.href,{async:!1}),this._addStyle(f.responseText));for(o=document.head.querySelectorAll('STYLE'),t=0;t<o.length;t++)this._addStyle(o[t].textContent)}if(this._css)for(t=0;t<this._css.length;t++)s=i.createElement('style'),f=n.httpRequest(this._css[t],{async:!1}),s.textContent=f.responseText,i.head.appendChild(s)},t.prototype._addStyle=function(n){var t=this._getDocument(),i=t.createElement('style');i.textContent=n;t.head.appendChild(i)},t}();n.PrintDocument=t}(wijmo||(wijmo={})),function(n){'use strict';var i=function(){function i(n,t,i){t===void 0&&(t=null);i===void 0&&(i='_');this._promptChar='_';this._mskArr=[];this._full=!0;this._hbInput=this._input.bind(this);this._hbKeyDown=this._keydown.bind(this);this._hbKeyPress=this._keypress.bind(this);this._hbCompositionStart=this._compositionstart.bind(this);this._hbCompositionEnd=this._compositionend.bind(this);this.mask=t;this.input=n;this.promptChar=i;this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1);this._tbx=n;this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(this._promptChar.length==1,'promptChar must be a string with length 1.'),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t=this._tbx.value,i='',n;if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask();this._valueChanged()},i.prototype._input=function(){var n=this;this._composing||setTimeout(function(){n._valueChanged()})},i.prototype._keydown=function(t){if(t.keyCode==n.Key.Back){var i=this._tbx.selectionStart,r=this._tbx.selectionEnd;if(i<=this._firstPos&&r==i){t.preventDefault();this._backSpace=!1;return}}this._backSpace=t.keyCode==n.Key.Back},i.prototype._keypress=function(n){n.ctrlKey||n.metaKey||n.altKey||this._composing||!this._preventKey(n.charCode)||n.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var n=this;this._composing&&(this._composing=!1,setTimeout(function(){n._valueChanged()}))},i.prototype._preventKey=function(t){var r;if(t&&this._mskArr.length){var u=this._tbx,i=u.selectionStart,f=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(u,i)),i>=this._mskArr.length)return!0;if(r=this._mskArr[i],r.literal)this._validatePosition(i);else if(r.wildCard!=f&&!this._isCharValid(r.wildCard,f))return!0}return!1},i.prototype._connect=function(n){var t=this._tbx;t&&(n?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete='off',t.spellcheck=!1,t.addEventListener('input',this._hbInput),t.addEventListener('keydown',this._hbKeyDown,!0),t.addEventListener('keypress',this._hbKeyPress,!0),t.addEventListener('compositionstart',this._hbCompositionStart,!0),t.addEventListener('compositionend',this._hbCompositionEnd,!0),t.addEventListener('blur',this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener('input',this._hbInput),t.removeEventListener('keydown',this._hbKeyDown,!0),t.removeEventListener('keypress',this._hbKeyPress,!0),t.removeEventListener('compositionstart',this._hbCompositionStart,!0),t.removeEventListener('compositionend',this._hbCompositionEnd,!0),t.removeEventListener('blur',this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var i;if(this._tbx&&this._msk){var t=this._tbx,n=t.selectionStart,r=n>0?t.value[n-1]:'';t.value=this._applyMask();i=n>0?t.value[n-1]:'';n>0&&i==this._promptChar&&r!=this.promptChar&&n--;this._validatePosition(n)}},i.prototype._applyMask=function(){var t,e,r,f,u,n,i;if((this._full=!0,t=this._tbx.value,!this._msk)||!t&&!this._tbx.required)return t;for(e='',r=0,t=this._handleVagueLiterals(t),f=0;f<this._mskArr.length;f++){if(u=this._mskArr[f],n=u.literal,n&&n==t[r]&&r++,u.wildCard){if(n=this._promptChar,t){for(i=r;i<t.length;i++)if(this._isCharValid(u.wildCard,t[i])){n=t[i];switch(u.charCase){case'>':n=n.toUpperCase();break;case'<':n=n.toLowerCase()}break}r=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._handleVagueLiterals=function(n){var i,t,f,r,e,u;if(n.length>this._mskArr.length+1)return n;if(i=n.length-this._mskArr.length,i!=0&&n.length>1){for(t=-1,f=Math.max(0,this._tbx.selectionStart-i),r=f;r<this._mskArr.length;r++)if(this._mskArr[r].vague){t=r;break}if(t>-1)if(i<0)e=Array(1-i).join(this._promptChar),u=t+i,u>-1&&(n=n.substr(0,u)+e+n.substr(u));else{while(t>0&&this._mskArr[t-1].literal)t--;n=n.substr(0,t)+n.substr(t+i)}}return n},i.prototype._isCharValid=function(n,t){var r=this._promptChar;switch(n){case'0':return t>='0'&&t<='9'||t==r;case'9':return t>='0'&&t<='9'||t==' '||t==r;case'#':return t>='0'&&t<='9'||t==' '||t=='+'||t=='-'||t==r;case'L':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'l':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'A':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'a':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'\uff19':return t>='\uFF10'&&t<='\uff19'||t==r;case'\uff2a':case'\uff27':return n=='\uff27'&&i._X_DBCS_BIG_HIRA.indexOf(t)>-1?!1:t>='\u3041'&&t<='\u3096'||t==r;case'\uff2b':case'\uff2e':return n=='\uff2e'&&i._X_DBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\u30a1'&&t<='\u30fa'||t==r;case'\uff3a':return t<='\u0021'||t>='\u00ff'||t==r;case'H':return t>='\u0021'&&t<='\u00ff'||t==r;case'K':case'N':return n=='N'&&i._X_SBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\uff66'&&t<='\uff9f'||t==r}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)while(t>0&&t<i.length&&i[t-1].literal)t--;if(t==0||!this._backSpace)while(t<i.length&&i[t].literal)t++;n.getActiveElement()==this._tbx&&n.setSelectionRange(this._tbx,t);this._backSpace=!1},i.prototype._parseMask=function(){var r,o,f,i,e,u,s;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,o='|',i=0;r&&i<r.length;i++)switch(r[i]){case'0':case'9':case'#':case'A':case'a':case'L':case'l':case'\uff19':case'\uff2a':case'\uff27':case'\uff2b':case'\uff2e':case'\uff3a':case'K':case'N':case'H':this._firstPos<0&&(this._firstPos=this._mskArr.length);this._lastPos=this._mskArr.length;this._mskArr.push(new t(r[i],o));break;case'.':case',':case':':case'/':case'$':switch(r[i]){case'.':case',':f=n.culture.Globalize.numberFormat[r[i]];break;case':':case'/':f=n.culture.Globalize.calendar[r[i]];break;case'$':f=n.culture.Globalize.numberFormat.currency.symbol}for(u=0;u<f.length;u++)this._mskArr.push(new t(f[u]));break;case'<':case'>':case'|':o=r[i];break;case'\\':i<r.length-1&&i++;this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}for(i=0;i<this._mskArr.length;i++)if(e=this._mskArr[i],e.literal)for(u=0;u<i;u++)if(s=this._mskArr[u],s.wildCard&&this._isCharValid(s.wildCard,e.literal)){e.vague=!0;break}},i._X_DBCS_BIG_HIRA='\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096',i._X_DBCS_BIG_KATA='\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6',i._X_SBCS_BIG_KATA='\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f',i}(),t;n._MaskProvider=i;t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}();n._MaskElement=t}(wijmo||(wijmo={})),function(n){'use strict';function h(){return s}function u(){return r}function c(){return f}function l(){return e}function a(n,t){n.effectAllowed=t;u()&&n.setData('text','')}var s=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)!=null,r,f,e,i,o,t;n.isMobile=h;r=navigator.userAgent.match(/Firefox\//)!=null;n.isFirefox=u;f=navigator.userAgent.match(/MSIE |Trident\/|Edge\//)!=null;n.isIE=c;n.isIE9=l;n._startDrag=a;document.doctype&&navigator.appVersion.indexOf('MSIE 9')>-1&&(e=!0,document.addEventListener('mousemove',function(n){if(n.which==1)for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return t.dragDrop(),!1}));i='requestAnimationFrame';o='cancelAnimationFrame';window[i]||(t=0,window[i]=function(n){var i=Date.now(),r=16-(i-t),u=r>0?r:0;return t=i+u,setTimeout(function(){n(t)},u)},window[o]=clearTimeout)}(wijmo||(wijmo={}))

/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';var s=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=n;this.y=t}return n}(),r,f,i,e,o,u;t.DataPoint=s;r=function(n){function t(t){n.call(this);this._engine=t}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.CancelEventArgs);t.RenderEventArgs=r;f=function(n){function t(t,i,r){n.call(this,t);this._index=i;this._count=r}return __extends(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(r);t.SeriesRenderingEventArgs=f,function(n){n[n.Png=0]="Png";n[n.Jpeg=1]="Jpeg";n[n.Svg=2]="Svg"}(t.ImageFormat||(t.ImageFormat={}));i=t.ImageFormat;e=function(r){function f(){r.apply(this,arguments);this._palette=null;this._selectionMode=t.SelectionMode.None;this._defPalette=t.Palettes.standard;this._notifyCurrentChanged=!0;this._legendHost=null;this._needBind=!1;this.rendering=new n.Event;this.rendered=new n.Event;this.selectionChanged=new n.Event}return __extends(f,r),Object.defineProperty(f.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"legend",{get:function(){return this._legend},set:function(i){i!=this._legend&&(this._legend=n.asType(i,t.Legend),this._legend!=null&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.onRendered=function(n){this.rendered.raise(this,n)},f.prototype.onRendering=function(n){this.rendering.raise(this,n)},f.prototype.saveImageToFile=function(n){var f,t,e,r;n&&n.length!==0&&n.indexOf('.')!==-1||(n='image.png');r=n.split('.');f=r[0].toLowerCase();t=r[1].toLowerCase();e=i[t[0].toUpperCase()+t.substring(1)];this.saveImageToDataUrl(e,function(n){u.downloadImage(n,f,t)})},f.prototype.saveImageToDataUrl=function(t,r){var f=n.asEnum(t,i,!1),u=i[f].toLowerCase();u&&u.length&&this._exportToImage(u,function(n){r.call(r,n)})},f.prototype._exportToImage=function(t,i){var r=new Image,e=this._currentRenderEngine.element,f;f=u.getDataUri(e);t==='svg'?i.call(null,f):(r.onload=function(){var u=document.createElement('canvas'),f=n.getElementRect(e),s,o;u.width=f.width;u.height=f.height;o=u.getContext('2d');o.fillStyle='#ffffff';o.fillRect(0,0,f.width,f.height);o.drawImage(r,0,0);s=u.toDataURL('image/'+t);i.call(null,s);u=null},r.src=f)},f.prototype.refresh=function(n){n===void 0&&(n=!0);r.prototype.refresh.call(this,n);this.isUpdating||this._refreshChart()},f.prototype.containsFocus=function(){var t=r.prototype.containsFocus.call(this),i;return t||(i=n.getActiveElement(),i&&(t=i.parentNode===this.hostElement)),t},f.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},f.prototype.onLostFocus=function(n){this._tooltip&&this._tooltip.isVisible&&this._tooltip.hide();r.prototype.onLostFocus.call(this,n)},f.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},f.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},f.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},f.prototype._getColorLight=function(t){var i=this._getColor(t),r=new n.Color(i);return r!=null&&i.indexOf('-')===-1&&(r.a==1&&i.indexOf('rgba')==-1&&(r.a*=.7),i=r.toString()),i},f.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},f.prototype._clearCachedValues=function(){},f.prototype._render=function(){},f.prototype._performBind=function(){},f.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this.hostElement&&this._render(this._currentRenderEngine)},f.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,c=null,v=null,l=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(c=f.foreground),f.fill&&(c=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(l=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s,f);r.height-=h.height;c||(c=t.FlexChart._FG);i.textFill=c;e?(l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s,f),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s,f));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},f.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace('px','')),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace('px','')),e&&!isNaN(e)&&(r.y-=e)),r},f.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},f.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(' ',4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},f.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},f.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},f.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},f.prototype._getHostOffset=function(){var t=n.getElementRect(this.hostElement);return new n.Point(t.left,t.top)},f.prototype._getHostSize=function(){var i=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),r=f.offsetWidth,u=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace('px','')),o=parseFloat(t.paddingRight.replace('px','')),s=parseFloat(t.paddingTop.replace('px','')),h=parseFloat(t.paddingBottom.replace('px',''));isNaN(e)||(r-=e);isNaN(o)||(r-=o);isNaN(s)||(u-=s);isNaN(h)||(u-=h);i.width=r;i.height=u}return i},f.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},f.prototype._find=function(n,t){for(var i,r,u,f=[],e=0;e<n.childElementCount;e++)if(i=n.childNodes.item(e),t.indexOf(i.nodeName)>=0)f.push(i);else if(r=this._find(i,t),r.length>0)for(u=0;u<r.length;u++)f.push(r[u]);return f},f._WIDTH=300,f._HEIGHT=200,f._SELECTION_THRESHOLD=15,f}(n.Control);t.FlexChartBase=e;o=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){switch(t){case'seriesName':return i.series?i.series.name:'';case'pointIndex':return i.pointIndex!=null?i.pointIndex.toFixed():'';case'x':return r?n.Globalize.format(i.x,r):i._xfmt;case'y':return r?n.Globalize.format(i.y,r):i._yfmt;case'value':return r?n.Globalize.format(i.value,r):i.value;case'name':return i.name}return i.item&&(t.indexOf('item.')==0&&(t=t.substr(5)),t in i.item)?r?n.Globalize.format(i.item[t],r):i.item[t]:''},t}();t._KeyWords=o;u=function(){function t(){}return t.downloadImage=function(n,t,i){var r=document.createElement('a'),v='image/'+i,o,f,a;if(navigator.msSaveOrOpenBlob){n=n.substring(n.indexOf(',')+1);for(var s=atob(n),h=[],c=512,e,l,u=0;u<s.length;u+=c){for(e=s.slice(u,u+c),o=new Array(e.length),f=0;f<e.length;f++)o[f]=e.charCodeAt(f);a=new Uint8Array(o);h.push(a)}l=new Blob(h,{type:v});navigator.msSaveOrOpenBlob(l,t+'.'+i)}else r.download=t+'.'+i,r.href=n,document.body.appendChild(r),r.addEventListener("click",function(){r.parentNode.removeChild(r)}),r.click()},t.getDataUri=function(i){var v=document.createElement('div'),r=i.cloneNode(!0),s,u,f,h,c,e,y,l,o,a;return i.tagName=='svg'?(s=n.getElementRect(i),u=s.width||0,f=s.height||0,h=i.viewBox.baseVal&&i.viewBox.baseVal.width!==0?i.viewBox.baseVal.width:u,c=i.viewBox.baseVal&&i.viewBox.baseVal.height!==0?i.viewBox.baseVal.height:f):(e=i.getBBox(),u=e.x+e.width,f=e.y+e.height,r.setAttribute('transform',r.getAttribute('transform').replace(/translate\(.*?\)/,'')),h=u,c=f,l=document.createElementNS('http://www.w3.org/2000/svg','svg'),l.appendChild(r),r=l),r.setAttribute('version','1.1'),r.setAttributeNS(t.xmlns,'xmlns','http://www.w3.org/2000/svg'),r.setAttributeNS(t.xmlns,'xmlns:xlink','http://www.w3.org/1999/xlink'),r.setAttribute('width',u),r.setAttribute('height',f),r.setAttribute('viewBox','0 0 '+h+' '+c),n.addClass(r,i.parentNode&&i.parentNode.getAttribute('class')||''),v.appendChild(r),y=t.getStyles(i),o=document.createElement('style'),o.setAttribute('type','text/css'),o.innerHTML="<![CDATA[\n"+y+"\n]]>",a=document.createElement('defs'),a.appendChild(o),r.insertBefore(a,r.firstChild),'data:image/svg+xml;base64,'+window.btoa(window.unescape(encodeURIComponent(t.doctype+v.innerHTML)))},t.getStyles=function(n){var t='',i=document.styleSheets;return i==null||i.length===0?null:([].forEach.call(i,function(i){var r;try{if(i.cssRules==null||i.cssRules.length===0)return!0}catch(u){if(u.name=='SecurityError')return console.log("SecurityError. Can't read: "+i.href),!0}r=i.cssRules;[].forEach.call(r,function(i){var r=i.style,u;if(r==null)return!0;try{u=n.querySelector(i.selectorText)}catch(f){console.warn('Invalid CSS selector "'+i.selectorText+'"',f)}u?t+=i.selectorText+" { "+r.cssText+" }\n":i.cssText.match(/^@font-face/)&&(t+=i.cssText+'\n')})}),t)},t.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',t.xmlns='http://www.w3.org/2000/xmlns/',t}()})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var f=function(f){function e(i,r){f.call(this,i,null,!0);this._areas=[];this._keywords=new t._KeyWords;this._startAngle=0;this._innerRadius=0;this._offset=0;this._reversed=!1;this._isAnimated=!1;this._selectedItemPosition=t.Position.None;this._selectedItemOffset=0;this._rotationAngle=0;this._center=new n.Point;this._selectedOffset=new n.Point;this._selectedIndex=-1;this._angles=[];this._values=[];this._labels=[];this._pels=[];this._sum=0;this.applyTemplate('wj-control wj-flexchart',null,null);this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new t.ChartTooltip;this._tooltip.content='<b>{name}</b><br/>{value}';this._tooltip.showDelay=0;this._lbl=new t.PieDataLabel;this._lbl._chart=this;var u=this;this.hostElement.addEventListener('mousemove',function(t){var r=u._tooltip,e=r.content,i,f;e&&!u.isTouching&&(i=u.hitTest(t),i.distance<=r.threshold?(f=u._getLabelContent(i,u.tooltip.content),u._showToolTip(f,new n.Rect(t.clientX,t.clientY,5,5))):u._hideToolTip())});this.hostElement.addEventListener('click',function(i){var o=!0,f,e,s,r,h;u.selectionMode!=t.SelectionMode.None&&(r=u.hitTest(i),f=t.FlexChart._SELECTION_THRESHOLD,u.tooltip&&u.tooltip.threshold&&(f=u.tooltip.threshold),r.distance<=f?(r.pointIndex!=u._selectionIndex&&u.selectedItemPosition!=t.Position.None&&(o=!1),r.pointIndex!=u._selectionIndex&&u._select(r.pointIndex,!0)):u._selectedIndex>=0&&u._select(null));o&&u.isTouching&&(e=u._tooltip,s=e.content,s&&(r=u.hitTest(i),r.distance<=e.threshold?(h=u._getLabelContent(r,u.tooltip.content),u._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):u._hideToolTip()))});this.hostElement.addEventListener('mouseleave',function(){u._hideToolTip()});this.initialize(r);this.refresh()}return __extends(e,f),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(n){n!=this._lbl&&(this._lbl=n,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(t!=this._selectedIndex){var i=n.asNumber(t,!0);this._select(i,!0)}},enumerable:!0,configurable:!0}),e.prototype._getLabelsForLegend=function(){return this._labels},e.prototype.hitTest=function(n,i){var f=this._toControl(n,i),r=new t.HitTestInfo(this,f),o=null,y,s,l,e,u,h,c;if(t.FlexChart._contains(this._rectHeader,f))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,f))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,f))r._chartElement=t.ChartElement.Legend,o=this.legend._hitTest(f),o!==null&&o>=0&&o<this._areas.length&&r._setData(null,o);else if(t.FlexChart._contains(this._rectChart,f)){for(y=this._areas.length,s=NaN,e=0;e<y;e++){if(u=f.clone(),this._rotationAngle!=0){var p=this._center.x,w=this._center.y,a=-p+u.x,v=-w+u.y,b=Math.sqrt(a*a+v*v),k=Math.atan2(v,a)-this._rotationAngle*Math.PI/180;u.x=p+b*Math.cos(k);u.y=w+b*Math.sin(k)}if(e==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y),h=this._areas[e],h.contains(u)&&(r._setData(null,h.tag),r._dist=0,e!=this._selectedIndex))break;c=h.distance(u);c!==undefined&&(isNaN(s)||c<s)&&(s=c,l=h)}r._dist!==0&&l!=null&&(r._setData(null,l.tag),r._dist=s);r._chartElement=t.ChartElement.ChartArea}else r._chartElement=t.ChartElement.None;return r},e.prototype._performBind=function(){var n,i,t,r;if(this._initData(),this._cv&&(this._selectionIndex=this._cv.currentPosition,n=this._cv.items,n))for(i=n.length,t=0;t<i;t++)r=n[t],this._sum+=Math.abs(this._getBindData(r,this._values,this._labels,this.binding,this.bindingName))},e.prototype._initData=function(){this._sum=0;this._values=[];this._labels=[]},e.prototype._getBindData=function(t,i,r,u,f){var o,e=0,s;return u&&(o=t[u]),e=0,n.isNumber(o)?e=n.asNumber(o):o&&(e=parseFloat(o.toString())),!isNaN(e)&&isFinite(e)?i.push(e):(e=0,i.push(e)),f&&t?(s=t[f],s&&(s=s.toString()),r.push(s)):r.push(e.toString()),e},e.prototype._render=function(i){var w,y,o,h,r,l,f,u;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var b=this.hostElement,p=this._getHostSize(),u=p.width,f=p.height;if((u==0||isNaN(u))&&(u=t.FlexChart._WIDTH),(f==0||isNaN(f))&&(f=t.FlexChart._HEIGHT),w=new n.Size(u,f),i.beginRender(),u>0&&f>0){i.setViewportSize(u,f);this._areas=[];y=this.legend;r=new n.Rect(0,0,u,f);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();this.onRendering(new t.RenderEventArgs(i));u=r.width;f=r.height;l=y._getPosition(u,f);o=y._getDesiredSize(i,l,u,f);switch(l){case t.Position.Right:u-=o.width;h=new n.Point(u,r.top+.5*(f-o.height));break;case t.Position.Left:r.left+=o.width;u-=o.width;h=new n.Point(0,r.top+.5*(f-o.height));break;case t.Position.Top:f-=o.height;h=new n.Point(.5*(u-o.width),r.top);r.top+=o.height;break;case t.Position.Bottom:f-=o.height;h=new n.Point(.5*(u-o.width),r.top+f)}r.width=u;r.height=f;this._pieGroup=i.startGroup(null,null,!0);var s=this._parseMargin(this.plotMargin),a=this.dataLabel,c=a.content&&a.position==t.PieLabelPosition.Outside,v=c?(n.isNumber(a.offset)?a.offset:0)+24:0;isNaN(s.left)&&(s.left=c?v:e._MARGIN);isNaN(s.right)&&(s.right=c?v:e._MARGIN);isNaN(s.top)&&(s.top=c?v:e._MARGIN);isNaN(s.bottom)&&(s.bottom=c?v:e._MARGIN);r.top+=s.top;f=r.height-(s.top+s.bottom);r.height=f>0?f:24;r.left+=s.left;u=r.width-(s.left+s.right);r.width=u>0?u:24;this._renderData(i,r,this._pieGroup);i.endGroup();o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(h.x,h.y,o.width,o.height),this.legend._render(i,h,l,o.width,o.height),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.dataLabel.content&&this.dataLabel.position!=t.PieLabelPosition.None&&this._renderLabels(i);this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._renderData=function(n,t){var u,f;this._pels=[];this._angles=[];var e=this._sum,o=this.startAngle+180,s=this.innerRadius,r=this.offset;if(e>0){var h=o*Math.PI/180,c=t.left+.5*t.width,l=t.top+.5*t.height,i=Math.min(.5*t.width,.5*t.height);this._center.x=c;this._center.y=l;u=Math.max(r,this.selectedItemOffset);u>0&&(i=i/(1+u),r=r*i);this._radius=i;f=s*i;this._renderPie(n,i,f,h,r);this._highlightCurrent()}},e.prototype._renderPie=function(n,t,i,r,u){this._renderSlices(n,this._values,this._sum,t,i,r,2*Math.PI,u)},e.prototype._getCenter=function(){return this._center},e.prototype._renderSlices=function(n,t,i,r,u,f,e,o){for(var k=t.length,c=f,y=this.reversed==!0,p=this._center,s,w,l,a,h=0;h<k;h++){l=p.x;a=p.y;w=n.startGroup();n.fill=this._getColorLight(h);n.stroke=this._getColor(h);var b=Math.abs(t[h]),s=Math.abs(b-i)<1e-10?e:e*b/i,v=y?c-.5*s:c+.5*s;o>0&&s<e&&(l+=o*Math.cos(v),a+=o*Math.sin(v));this._renderSlice(n,l,a,v,h,r,u,c,s,e);y?c-=s:c+=s;n.endGroup();this._pels.push(w)}},e.prototype._renderSlice=function(i,r,u,f,e,o,s,h,c){var v=this,a=!!this.reversed,l;this._angles.push(f);this.itemFormatter?(l=new t.HitTestInfo(this,new n.Point(r+o*Math.cos(f),u+o*Math.sin(f)),t.ChartElement.SeriesSymbol),l._setData(null,e),this.itemFormatter(i,l,function(){v._drawSlice(i,e,a,r,u,o,s,h,c)})):this._drawSlice(i,e,a,r,u,o,s,h,c)},e.prototype._renderLabels=function(r){var st=this._areas.length,c=this.dataLabel,a=c.position,h=2,ht=this._rotationAngle,ct=c.connectingLine,ot=c.offset?c.offset:0,l,o,v,it,rt,s,ut,ft,y,et;for(r.stroke='null',r.fill='transparent',r.strokeWidth=1,r.startGroup('wj-data-labels'),l=0;l<st;l++)if(o=this._areas[l],o){var p=o.radius,u=o.langle+ht,f=1,e=1;a==t.PieLabelPosition.Center?p*=.5*(1+(o.innerRadius||0)/o.radius):(u=i.clampAngle(u),u<=-170||u>=170?(f=2,e=1):u>=-100&&u<=-80?(f=1,e=2):u>=-10&&u<=10?(f=0,e=1):u>=80&&u<=100?(f=1,e=0):-180<u&&u<-90?(f=2,e=2):-90<=u&&u<0?(f=0,e=2):0<u&&u<90?(f=0,e=0):90<u&&u<180&&(f=2,e=0),a==t.PieLabelPosition.Inside&&(f=2-f,e=2-e));u*=Math.PI/180;var b=0,k=0,w=0;l==this._selectedIndex&&this.selectedItemOffset>0&&(w=this.selectedItemOffset);w>0&&(b=Math.cos(u)*w*this._radius,k=Math.sin(u)*w*this._radius);v=p;a==t.PieLabelPosition.Outside?v+=ot:a==t.PieLabelPosition.Inside&&(v-=ot);var d=o.center.x,g=o.center.y,nt=d-this._center.x,tt=g-this._center.y;this._rotationAngle!=0&&(it=Math.sqrt(nt*nt+tt*tt),rt=Math.atan2(tt,nt)+this._rotationAngle*Math.PI/180,d=this._center.x+it*Math.cos(rt),g=this._center.y+it*Math.sin(rt));s=new n.Point(d+b+v*Math.cos(u),g+k+v*Math.sin(u));c.border&&a!=t.PieLabelPosition.Center&&(f==0?s.x+=h:f==2&&(s.x-=h),e==0?s.y+=h:e==2&&(s.y-=h));ut=new t.HitTestInfo(this,s);ut._setData(null,l);ft=this._getLabelContent(ut,c.content);ft&&(y=t.FlexChart._renderText(r,ft,s,f,e,'wj-data-label'),c.border&&r.drawRect(y.left-h,y.top-h,y.width+2*h,y.height+2*h,'wj-data-label-border'),ct&&(et=new n.Point(o.center.x+b+p*Math.cos(u),o.center.y+k+p*Math.sin(u)),r.drawLine(s.x,s.y,et.x,et.y,'wj-data-label-line')))}r.endGroup()},e.prototype._drawSlice=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,i){if(i===void 0&&(i=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this.selectionMode==t.SelectionMode.Point){var r=this._cv;r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}this.onSelectionChanged();!this.isAnimated&&(this.selectedItemOffset>0||this.selectedItemPosition!=t.Position.None)?this.invalidate():this._highlight(!0,this._selectionIndex,i)},e.prototype._highlightCurrent=function(){if(this.selectionMode!=t.SelectionMode.None){var n=-1,i=this._cv;i&&(n=i.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;r===void 0&&(r=!1);this.selectionMode==t.SelectionMode.Point&&i!==undefined&&i!==null&&i>=0&&(u=this._pels[i],n?(u&&(u.parentNode.appendChild(u),h=this._find(u,['ellipse']),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),f=this._angles[i],this.selectedItemPosition!=t.Position.None&&f!=0&&(e=0,this.selectedItemPosition==t.Position.Left?e=180:this.selectedItemPosition==t.Position.Top?e=-90:this.selectedItemPosition==t.Position.Bottom&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u&&u.setAttribute('transform','translate('+c.toFixed()+','+l.toFixed()+')')),this._selectedIndex=i):(u&&(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute('transform'),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(r,u){var e=i.clampAngle(this._rotationAngle);r=i.clampAngle(r);var o=r-e,f=this,s=e,h=f._pieGroup;f._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){h==f._pieGroup&&(f._rotationAngle=e=s+o*n,f._pieGroup.transform.baseVal.getItem(0).setRotate(e,f._center.x,f._center.y),n==1&&clearInterval(f._selectionAnimationID),n>.99&&(f.selectedItemOffset>0||f.selectedItemPosition!=t.Position.None)&&f.invalidate())},u*1e3)},e._MARGIN=4,e}(t.FlexChartBase),i,r,u;t.FlexPie=f;i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}();r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;this._originAngle=r;this._originSweep=u;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle)-i.clampAngle(u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){if(this.contains(n))return 0;var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle)-i.clampAngle(f);return this._isFull||Math.abs(e)<=this._sweep?Math.sqrt(u)-this._radius:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),n}();t._PieSegment=r;u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;this._originAngle=u;this._originSweep=f;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),n}();t._DonutSegment=u})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,i,o,u,f,e;(function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"})(t.Stacking||(t.Stacking={}));r=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));i=t.SelectionMode;o=function(o){function s(u,s){o.call(this,u,null,!0);this._series=new n.collections.ObservableArray;this._axes=new t.AxisCollection;this._pareas=new t.PlotAreaCollection;this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new f;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this.__funnelPlotter=null;this._plotters=[];this._rotated=!1;this._stacking=r.None;this._xlabels=[];this._xvals=[];this._lblAreas=[];this.seriesVisibilityChanged=new n.Event;this.applyTemplate('wj-control wj-flexchart',null,null);var h=this;h._series.collectionChanged.addHandler(function(){for(var t,r=h._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.SeriesBase),!t)throw'chartSeries array must contain SeriesBase objects.';t._chart=h;t.axisX&&(t.axisX._chart=h);t.axisY&&(t.axisY._chart=h)}h.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._hitTester=new t._HitTester(this);this._legend=new t.Legend(this);this._tooltip=new e;this._tooltip.showDelay=0;this._lbl=new t.DataLabel;this._lbl._chart=this;this._initAxes();h._axes.collectionChanged.addHandler(function(){for(var i,r=h._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw'axes array must contain Axis objects.';i._chart=h}h.refresh()});h._pareas.collectionChanged.addHandler(function(){for(var i,r=h._pareas,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.PlotArea),!i)throw'plotAreas array must contain PlotArea objects.';i._chart=h}h.refresh()});this._keywords=new t._KeyWords;this.hostElement.addEventListener('click',function(t){var r=h._tooltip,f=r.content,i,u;f&&h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())});this.hostElement.addEventListener('mousemove',function(t){var r=h._tooltip,f=r.content,i,u;f&&!h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())});this.hostElement.addEventListener('mouseleave',function(){h._hideToolTip()});this.hostElement.addEventListener('click',function(n){if(h.selectionMode!=i.None){var r=h._hitTestData(n),u=t.FlexChart._SELECTION_THRESHOLD;h.tooltip&&h.tooltip.threshold&&(u=h.tooltip.threshold);r.distance<=u&&r.series?h._select(r.series,r.pointIndex):h.selectionMode==i.Series?(r=h.hitTest(n),r.chartElement==t.ChartElement.Legend&&r.series?h._select(r.series,null):h._select(null,null)):h._select(null,null)}h.legendToggle===!0&&(r=h.hitTest(n),r.chartElement==t.ChartElement.Legend&&r.series&&(r.series.visibility==t.SeriesVisibility.Legend?r.series.visibility=t.SeriesVisibility.Visible:r.series.visibility==t.SeriesVisibility.Visible&&(r.series.visibility=t.SeriesVisibility.Legend),h.focus()))});this.initialize(s)}return __extends(s,o),s.prototype._initAxes=function(){this._axisX=new t.Axis(t.Position.Bottom);this._axisY=new t.Axis(t.Position.Left);this._axisX.majorGrid=!1;this._axisX.name='axisX';this._axisY.majorGrid=!0;this._axisY.majorTickMarks=t.TickMark.None;this._axisY.name='axisY';this._axisX._chart=this;this._axisY._chart=this;this._axes.push(this._axisX);this._axes.push(this._axisY)},Object.defineProperty(s.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){var r=this._axisX=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!1),r.name===undefined&&(r.name='axisX'),r.position===undefined&&(r.position=t.Position.Bottom),r._axisType=t.AxisType.X,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){var r=this._axisY=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!0),r.name===undefined&&(r.name='axisY'),r.majorTickMarks=t.TickMark.None,r.position===undefined&&(r.position=t.Position.Left),r._axisType=t.AxisType.Y,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataLabel",{get:function(){return this._lbl},set:function(i){i!=this._lbl&&(this._lbl=n.asType(i,t.DataLabel),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selection",{get:function(){return this._selection},set:function(i){i!=this._selection&&(this._selection=n.asType(i,t.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),s.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},s.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),s=null,c,o,h;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=t.ChartElement.Legend,s=this.legend._hitTest(u),s!==null&&s>=0&&s<this.series.length&&r._setData(this.series[s]);else if(t.FlexChart._contains(this._rectChart,u))if(c=this._hitTestLabels(u),c)r._chartElement=t.ChartElement.DataLabel,r._dist=0,r._setDataPoint(c.tag);else{var e=this._hitTester.hitTest(u),f=null,l=null;for(o=this.series.length-1;o>=0;o--)if(this.series[o].hitTest!==t.Series.prototype.hitTest&&(h=this.series[o].hitTest(n),h&&((!f||h.distance<f.distance)&&(f=h,l=o),h.distance===0)))break;e&&e.area?f&&f.distance<e.distance?r=f:f&&f.distance==e.distance&&l>e.area.tag.seriesIndex?r=f:(r._setDataPoint(e.area.tag),r._dist=e.distance):f&&(r=f);t.FlexChart._contains(this.axisX._axrect,u)?r._chartElement=t.ChartElement.AxisX:t.FlexChart._contains(this.axisY._axrect,u)?r._chartElement=t.ChartElement.AxisY:t.FlexChart._contains(this._plotRect,u)?r._chartElement=t.ChartElement.PlotArea:t.FlexChart._contains(this._rectChart,u)&&(r._chartElement=t.ChartElement.ChartArea)}else r._chartElement=t.ChartElement.None;return r},s.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},s.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},s.prototype._copy=function(t,i){var u,r,f;if(t=='series'){for(this.series.clear(),u=n.asArray(i),r=0;r<u.length;r++)f=this._createSeries(),n.copy(f,u[r]),this.series.push(f);return!0}return!1},s.prototype._createSeries=function(){return new t.Series},s.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},s.prototype._performBind=function(){var i,u,r,f,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(u=i.length,r=0;r<u;r++)f=i[r],this._bindingX&&(t=f[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=n.DataType.Number):n.isDate(t)&&(this._xvals.push(n.asDate(t).valueOf()),this._xDataType=n.DataType.Date),this._xlabels.push(f[this._bindingX]));this._xvals.length==u?this._xlabels.splice(0):this._xvals.splice(0)}},s.prototype._hitTestSeries=function(n,i){var f=this._toControl(n),r=new t.HitTestInfo(this,f),e=i,u=this._hitTester.hitTestSeries(f,i);return u&&u.area&&(r._setDataPoint(u.area.tag),r._chartElement=t.ChartElement.PlotArea,r._dist=u.distance),r},s.prototype._hitTestData=function(n){var u=this._toControl(n),r=new t.HitTestInfo(this,u),i=this._hitTester.hitTest(u,!0);return i&&i.area&&(r._setDataPoint(i.area.tag),r._dist=i.distance),r},s.prototype._hitTestLabels=function(n){for(var i=null,r=this._lblAreas.length,t=0;t<r;t++)if(this._lblAreas[t].contains(n)){i=this._lblAreas[t];break}return i},s._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},s._dist=function(n,i,r){return Math.sqrt(t.FlexChart._distToSegmentSquared(n,i,r))},s._distToSegmentSquared=function(i,r,u){var e=t.FlexChart._dist2(r,u),f;return e==0?t.FlexChart._dist2(i,r):(f=((i.x-r.x)*(u.x-r.x)+(i.y-r.y)*(u.y-r.y))/e,f<0)?t.FlexChart._dist2(i,r):f>1?t.FlexChart._dist2(i,u):t.FlexChart._dist2(i,new n.Point(r.x+f*(u.x-r.x),r.y+f*(u.y-r.y)))},s.prototype._isRotated=function(){return this._getChartType()==t.ChartType.Bar?!this._rotated:this._rotated},s.prototype._getChartType=function(){return null},s.prototype._render=function(i,r){var at,ht,s,a,u,g,nt,l,tt,it,rt,vt,yt,p,ct,w,ut,ft,et,b,h,c,f,ot,d,v,y;r===void 0&&(r=!0);var wt=this.hostElement,lt=this._getHostSize(),e=lt.width,o=lt.height;if((e==0||isNaN(e))&&(e=t.FlexChart._WIDTH),(o==0||isNaN(o))&&(o=t.FlexChart._HEIGHT),at=new n.Size(e,o),i.beginRender(),e>0&&o>0){i.setViewportSize(e,o);this._hitTester.clear();ht=this.legend;u=new n.Rect(0,0,e,o);this._rectChart=u.clone();i.startGroup(t.FlexChart._CSS_HEADER);u=this._drawTitle(i,u,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);u=this._drawTitle(i,u,this.footer,this.footerStyle,!0);i.endGroup();e=u.width;o=u.height;g=ht._getPosition(e,o);s=ht._getDesiredSize(i,g,e,o);switch(g){case t.Position.Right:e-=s.width;a=new n.Point(e,u.top+.5*(o-s.height));break;case t.Position.Left:u.left+=s.width;e-=s.width;a=new n.Point(0,u.top+.5*(o-s.height));break;case t.Position.Top:o-=s.height;a=new n.Point(.5*(e-s.width),u.top);u.top+=s.height;break;case t.Position.Bottom:o-=s.height;a=new n.Point(.5*(e-s.width),u.top+o)}if(u.width=e,u.height=o,f=this._getPlotter(null),f.stacking=this._stacking,this._curPlotter!=f&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=f),f.load(),nt=this._isRotated(),this._dataInfo.analyse(this._series,nt,f.stacking,this._xvals.length>0?this._xvals:null,this.axisX.logBase>0,this.axisY.logBase>0),l=f.adjustLimits(this._dataInfo,u.clone()),nt?(tt=this._dataInfo.getDataTypeX(),tt||(tt=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),l.left,l.right),this.axisY._updateActualLimits(tt,l.top,l.bottom,this._xlabels,this._xvals)):(it=this._dataInfo.getDataTypeX(),it||(it=this._xDataType),this.axisX._updateActualLimits(it,l.left,l.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),l.top,l.bottom)),rt=this._getAxes(),this._updateAuxAxes(rt,nt),this._layout(u,at,i),i.startGroup(t.FlexChart._CSS_PLOT_AREA),i.fill='transparent',i.stroke=null,vt=this.plotAreas.length,vt>0)for(h=0;h<this.plotAreas.length;h++)yt=this.plotAreas[h],yt._render(i);else p=this._plotRect,i.drawRect(p.left,p.top,p.width,p.height);for(i.endGroup(),ct=this._series.length,this._clearPlotters(),w={},h=0;h<ct;h++)ut=this._series[h],ut.getValues(0)&&(ft=ut._getAxisY(),f=this._getPlotter(ut),!ft||ft==this.axisY||f instanceof t._BarPlotter?f.seriesCount++:(et=ft._uniqueId,w[et]?w[et].count+=1:w[et]={count:1,index:0}));this.onRendering(new t.RenderEventArgs(i));if(this._getChartType()!==t.ChartType.Funnel)for(h=0;h<rt.length;h++)b=rt[h],ot=b.axisType==t.AxisType.X?i.startGroup(t.FlexChart._CSS_AXIS_X):i.startGroup(t.FlexChart._CSS_AXIS_Y),b._hostElement=r?ot:b._hostElement,b._render(i),i.endGroup();for(i.startGroup('wj-series-group'),this._plotrectId='plotRect'+(1e6*Math.random()).toFixed(),i.addClipRect(this._plotRect,this._plotrectId),h=0;h<ct;h++){c=this._series[h];c._pointIndexes=[];f=this._getPlotter(c);c._plotter=f;ot=i.startGroup(c.cssClass,f.clipping?this._plotrectId:null);c._hostElement=r?ot:c._hostElement;var pt=c.visibility,st=c.axisX,k=c.axisY;if(st||(st=this.axisX),k||(k=this.axisY),pt==t.SeriesVisibility.Visible||pt==t.SeriesVisibility.Plot){d=w[k._uniqueId];d?(v=d.index,y=d.count,d.index++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y)):(v=f.seriesIndex,y=f.seriesCount,f.seriesIndex++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y));c.onRendered(i)}i.endGroup()}i.endGroup();this._lblAreas=[];this.dataLabel.content&&this.dataLabel.position!=t.LabelPosition.None&&this._renderLabels(i);s?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(a.x,a.y,s.width,s.height),i.textFill=t.FlexChart._FG,this.legend._render(i,a,g,s.width,s.height),i.textFill=null,i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(new t.RenderEventArgs(i))}i.endRender()},s.prototype._renderLabels=function(n){var r=this.series,e=r.length,u,t,f,i;for(n.stroke='null',n.fill='transparent',n.strokeWidth=1,u='wj-data-labels',n.startGroup(u),t=0;t<e;t++)f=r[t],i=this._hitTester._map[t],i&&f._renderLabels(n,i,this,this._lblAreas);n.endGroup()},s.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},s.prototype._clearPlotters=function(){for(var t=this._plotters.length,n=0;n<t;n++)this._plotters[n].clear()},s.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester;this._plotters.push(n)},Object.defineProperty(s.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new t._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new t._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new t._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new t._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new t._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_funnelPlotter",{get:function(){return this.__funnelPlotter===null&&(this.__funnelPlotter=new t._FunnelPlotter,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),s.prototype._getPlotter=function(n){var f=this._getChartType(),e=!1,u,i,r;n&&(u=n._getChartType(),u!==null&&u!==undefined&&u!=f&&(f=u,e=!0));switch(f){case t.ChartType.Column:this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Bar:this._barPlotter.rotated=!this._rotated;this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Line:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Scatter:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.LineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Area:this._areaPlotter.isSpline=!1;i=this._areaPlotter;break;case t.ChartType.Bubble:i=this._bubblePlotter;break;case t.ChartType.Candlestick:r=this._financePlotter;r.isCandle=!0;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.HighLowOpenClose:r=this._financePlotter;r.isCandle=!1;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.Spline:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineArea:this._areaPlotter.isSpline=!0;i=this._areaPlotter;break;case t.ChartType.Funnel:i=this._funnelPlotter;break;default:throw'Invalid chart type.';}return i.rotated=this._rotated,f==t.ChartType.Bar&&(i.rotated=!i.rotated),e&&(i.rotated=this._isRotated()),i},s.prototype._layout=function(n,t,i){this.plotAreas.length>0?this._layoutMultiple(n,t,i):this._layoutSingle(n,t,i)},s.prototype._layoutSingle=function(i,r,u){for(var e,it,w,f,c,b,nt,rt,tt,o=i.width,s=i.height,ft=new n.Size(o,.75*s),et=new n.Size(s,.75*o),l=0,a=0,k=o,d=s,p=0,h=0,v=o,y=s,ut=this._getAxes(),g=0;g<ut.length;g++)f=ut[g],c=f.origin,f.axisType==t.AxisType.X?(e=f._getHeight(u,o),e>ft.height&&(e=ft.height),f._desiredSize=new n.Size(ft.width,e),it=f._hasOrigin=n.isNumber(c)&&c>this.axisY._getMinNum()&&c<this.axisY._getMaxNum(),f.position==t.Position.Bottom?(l=Math.max(l,f._annoSize.width*.5),k=Math.min(k,o-f._annoSize.width*.5),it?(nt=this._convertY(c,h,y),y=y-Math.max(0,nt+e-y)):y=y-e):f.position==t.Position.Top&&(l=Math.max(l,f._annoSize.width*.5),k=Math.min(k,o-f._annoSize.width*.5),it?(nt=this._convertY(c,h,y),h=h+Math.max(0,h-(nt-e))):h=h+e)):f.axisType==t.AxisType.Y&&(e=f._getHeight(u,s),e>et.height&&(e=et.height),f._desiredSize=new n.Size(et.width,e),it=f._hasOrigin=n.isNumber(c)&&c>this.axisX._getMinNum()&&c<this.axisX._getMaxNum(),f.position==t.Position.Left?(a=Math.max(a,f._annoSize.width*.5),d=Math.min(d,s-f._annoSize.width*.5),it?(tt=this._convertX(c,p,v),p+=Math.max(0,p-(tt-e))):p+=e):f.position==t.Position.Right&&(a=Math.max(a,f._annoSize.width*.5),d=Math.min(d,s-f._annoSize.width*.5),it?(tt=this._convertX(c,p,v),v=v-Math.max(0,tt+e-v)):v=v-e));for(w=this._parseMargin(this.plotMargin),l=isNaN(w.left)?p=Math.max(l,p)+i.left:p=w.left,k=isNaN(w.right)?v=Math.min(k,v)+i.left:v=r.width-w.right,a=isNaN(w.top)?h=Math.max(a,h)+i.top:h=w.top,d=isNaN(w.bottom)?y=Math.min(d,y)+i.top:y=r.height-w.bottom,o=Math.max(1,k-l),s=Math.max(1,d-a),this._plotRect=new n.Rect(l,a,o,s),u.stroke=null,g=0;g<ut.length;g++)f=ut[g],c=f.origin,f.axisType==t.AxisType.X?(f._hasOrigin?(nt=this._convertY(c,this._plotRect.top,this._plotRect.bottom),f.position==t.Position.Bottom?(b=new n.Rect(l,nt,o,f._desiredSize.height),y+=Math.max(0,b.bottom-this._plotRect.bottom)):f.position==t.Position.Top&&(b=new n.Rect(l,nt-f._desiredSize.height,o,f._desiredSize.height),h-=Math.max(0,this._plotRect.top-b.top))):f.position==t.Position.Bottom?(b=new n.Rect(l,y,o,f._desiredSize.height),y+=f._desiredSize.height):f.position==t.Position.Top?(b=new n.Rect(l,h-f._desiredSize.height,o,f._desiredSize.height),h-=f._desiredSize.height):b=new n.Rect(l,h,o,1),f._layout(b,this._plotRect)):f.axisType==t.AxisType.Y&&(f._hasOrigin?(tt=this._convertX(c,this._plotRect.left,this._plotRect.right),f.position==t.Position.Left?(rt=new n.Rect(tt-f._desiredSize.height,a,s,f._desiredSize.height),p-=f._desiredSize.height):f.position==t.Position.Right&&(rt=new n.Rect(tt,a,s,f._desiredSize.height),v+=f._desiredSize.height)):f.position==t.Position.Left?(rt=new n.Rect(p-f._desiredSize.height,a,s,f._desiredSize.height),p-=f._desiredSize.height):f.position==t.Position.Right?(rt=new n.Rect(v,a,s,f._desiredSize.height),v+=f._desiredSize.height):rt=new n.Rect(p,a,s,1),f._layout(rt,this._plotRect))},s.prototype._layoutMultiple=function(i,r,f){for(var pt,wt,lt,at,tt,h,it,dt,ut,ti,c,o,ft,e,d,gt,rt,l=i.width,a=i.height,b=[],k=[],ni=this._getAxes(),ii=ni.length,s=0;s<ii;s++)if(e=ni[s],e._plotrect=null,e.axisType==t.AxisType.X){for(pt=e.plotArea?e.plotArea.column:0;b.length<=pt;)b.push(new u);b[pt].axes.push(e)}else if(e.axisType==t.AxisType.Y){for(wt=e.plotArea?e.plotArea.row:0;k.length<=wt;)k.push(new u);k[wt].axes.push(e)}var et=b.length,ot=k.length,bt=new n.Size(l,.3*a),kt=new n.Size(a,.3*l),g=0,nt=0,ht=l,ct=a;for(h=0;h<et;h++)for(o=b[h],o.right=l,o.bottom=a,s=0;s<o.axes.length;s++)e=o.axes[s],lt=e._getHeight(f,e.axisType==t.AxisType.X?l:a),lt>bt.height&&(lt=bt.height),at=new n.Size(bt.width,lt),e._desiredSize=at,h==0&&(o.left=Math.max(o.left,e._annoSize.width*.5)),h==et-1&&(o.right=Math.min(o.right,l-e._annoSize.width*.5)),e.position==t.Position.Bottom?o.bottom-=at.height:e.position==t.Position.Top&&(o.top+=at.height);for(c=0;c<ot;c++)for(o=k[c],o.right=l,o.bottom=a,s=0;s<o.axes.length;s++)e=o.axes[s],tt=new n.Size(kt.width,e._getHeight(f,e.axisType==t.AxisType.X?l:a)),tt.height>kt.height&&(tt.height=kt.height),e._desiredSize=tt,c==0&&(o.top=Math.max(o.top,e._annoSize.width*.5)),c==ot-1&&(o.bottom=Math.min(o.bottom,a-e._annoSize.width*.5)),e.position==t.Position.Left?o.left+=tt.height:e.position==t.Position.Right&&(o.right-=tt.height);var v=0,y=0,p=l,w=a;for(h=0;h<et;h++)o=b[h],v=Math.max(v,o.left),y=Math.max(y,o.top),p=Math.min(p,o.right),w=Math.min(w,o.bottom);for(c=0;c<ot;c++)o=k[c],v=Math.max(v,o.left),y=Math.max(y,o.top),p=Math.min(p,o.right),w=Math.min(w,o.bottom);v=g=Math.max(g,v);p=ht=Math.min(ht,p);y=nt=Math.max(nt,y);w=ct=Math.min(ct,w);this._plotRect=new n.Rect(g,nt,ht-g,ct-nt);var vt=this._plotRect.clone(),st=g,yt=this.plotAreas._calculateWidths(this._plotRect.width,et);for(h=0;h<et;h++){for(w=ct,y=nt,o=b[h],it=yt[h],s=0;s<o.axes.length;s++)e=o.axes[s],d=new n.Rect(st,vt.top,it,vt.height),e.position==t.Position.Bottom?(dt=new n.Rect(st,w,it,e._desiredSize.height),w+=e._desiredSize.height):e.position==t.Position.Top&&(dt=new n.Rect(st,y-e._desiredSize.height,it,e._desiredSize.height),y-=e._desiredSize.height),e._layout(dt,d);for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.column==h&&rt._setPlotX(st,it);st+=it}for(ut=nt,ti=this.plotAreas._calculateHeights(this._plotRect.height,ot),c=0;c<ot;c++){for(v=g,p=ht,o=k[c],ft=ti[c],s=0;s<o.axes.length;s++)e=o.axes[s],d=new n.Rect(vt.left,ut,vt.width,ft),e._plotrect?(d.left=e._plotrect.left,d.width=e._plotrect.width):yt&&yt.length>0&&(d.width=yt[0]),e.position==t.Position.Left?(gt=new n.Rect(v-e._desiredSize.height,ut,ft,e._desiredSize.height),v-=e._desiredSize.height):e.position==t.Position.Right&&(gt=new n.Rect(p,ut,ft,e._desiredSize.height),p+=e._desiredSize.height),e._layout(gt,d);for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.row==c&&rt._setPlotY(ut,ft);ut+=ft}},s.prototype._convertX=function(n,t,i){var r=this.axisX;return r.reversed?i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._convertY=function(n,t,i){var r=this.axisY;return r.reversed?t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},s.prototype._select=function(n,t){var u=!1,r;(n!=this._selection||t!=this._selectionIndex)&&(u=!0);this._selection&&this._highlight(this._selection,!1,this._selectionIndex);this._selection=n;this._selectionIndex=t;this._selection&&this._highlight(this._selection,!0,this._selectionIndex);this.selectionMode==i.Point&&(r=n?n.collectionView:this._cv,r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(n?t:-1),this._notifyCurrentChanged=!0));u&&this.onSelectionChanged()},s.prototype._highlightCurrent=function(){var t,r,n;this.selectionMode!=i.None&&(t=this._selection,r=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(r=n.currentPosition),this._highlight(t,!0,r)))},s.prototype._highlight=function(r,u,f){var h,e,s,o;r=n.asType(r,t.SeriesBase,!0);this.selectionMode==i.Series?(h=this.series.indexOf(r),e=r.hostElement,u?e.parentNode.appendChild(e):e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','polyline','polygon','line','path']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u),r.legendElement&&this._highlightItems(this._find(r.legendElement,['rect','ellipse','line']),t.FlexChart._CSS_SELECTION,u)):this.selectionMode==i.Point&&(h=this.series.indexOf(r),e=r.hostElement,u?(e.parentNode.appendChild(e),s=r.getPlotElement(f),s&&(s.nodeName!='g'&&this._highlightItems([s],t.FlexChart._CSS_SELECTION,u),o=this._find(s,['line','rect','ellipse','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u))):(e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','line','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u)))},s.prototype._updateAuxAxes=function(i,r){for(var s,h,l,e,o,f,u,a,c=2;c<i.length;c++){for(s=i[c],s._chart=this,h=[],f=0;f<this.series.length;f++)l=this.series[f],(l.axisX==s||l.axisY==s)&&h.push(l);for(f=0;f<h.length;f++)u=h[f].getDataRect()||h[f]._getDataRect(),u&&(s.axisType==t.AxisType.X&&!r||s.axisType==t.AxisType.Y&&r?((e===undefined||u.left<e)&&(e=u.left),(o===undefined||u.right>o)&&(o=u.right)):((e===undefined||u.top<e)&&(e=u.top),(o===undefined||u.bottom>o)&&(o=u.bottom)));a=h[0].getDataType(0);a==null&&(a=n.DataType.Number);i[c]._updateActualLimits(a,e,o)}},s._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},s._intersects=function(n,t){return n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top?!1:!0},s._toOADate=function(n){return n.valueOf()},s._fromOADate=function(n){return new Date(n)},s._renderText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,e,o,s),l=r.x,a=r.y,v;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}return v=new n.Rect(l,a-c.height,c.width,c.height),h?h(v)?(t.drawString(i,new n.Point(l,a),e,s),v):null:(t.drawString(i,new n.Point(l,a),e,s),v)},s._renderRotatedText=function(t,i,r,u,f,e,o,s,h,c){var l=t.measureString(i,s,h,c),a=r.x,v=r.y;switch(u){case 1:a-=.5*l.width;break;case 2:a-=l.width}switch(f){case 1:v+=.5*l.height;break;case 0:v+=l.height}t.drawStringRotated(i,new n.Point(a,v),e,o,s,c)},s._CSS_AXIS_X='wj-axis-x',s._CSS_AXIS_Y='wj-axis-y',s._CSS_LINE='wj-line',s._CSS_GRIDLINE='wj-gridline',s._CSS_TICK='wj-tick',s._CSS_GRIDLINE_MINOR='wj-gridline-minor',s._CSS_TICK_MINOR='wj-tick-minor',s._CSS_LABEL='wj-label',s._CSS_LEGEND='wj-legend',s._CSS_HEADER='wj-header',s._CSS_FOOTER='wj-footer',s._CSS_TITLE='wj-title',s._CSS_SELECTION='wj-state-selected',s._CSS_PLOT_AREA='wj-plot-area',s._FG='#666',s._epoch=new Date(1899,11,30).getTime(),s._msPerDay=864e5,s}(t.FlexChartBase);t.FlexChartCore=o;u=function(){function n(){this._axes=[];this.left=0;this.right=0;this.top=0;this.bottom=0}return Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),n}();f=function(){function i(){this.stackAbs={};this._xvals=null}return i.prototype.analyse=function(u,f,e,o,s,h){var at=this,ht,w,c,ft,y,k,d,rt,a,p,v,tt,b,ut,et,ot;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var g={},nt={},it={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=o,o!=null)for(ht=o.length,w=0;w<ht;w++)v=o[w],(isNaN(this.minX)||this.minX>v)&&(this.minX=v),(isNaN(this.maxX)||this.maxX<v)&&(this.maxX=v),v>0&&(isNaN(this.minXp)||this.minXp>v)&&(this.minXp=v),w>0&&(k=Math.abs(v-o[w-1]),!isNaN(k)&&(k<this.dx||this.dx==0)&&(this.dx=k));for(w=0;w<u.length;w++){var l=u[w],st=l._getChartType(),ct=l.chartType!==undefined,lt=l.visibility;if(lt!=t.SeriesVisibility.Hidden&&lt!=t.SeriesVisibility.Legend){if(c=l.getDataRect(),c&&(!isNaN(this.minX)&&this.minX<c.left&&(ft=c.right,c.left=this.minX,c.width=ft-this.minX),!isNaN(this.maxX)&&this.maxX>c.right&&(c.width=this.maxX-c.left),!isNaN(this.minY)&&this.minY<c.top&&(ft=c.bottom,c.top=this.minY,c.height=ft-this.minY),!isNaN(this.maxY)&&this.maxY>c.bottom&&(c.height=this.maxY-c.top)),y=null,f?l._isCustomAxisY()||(y=l.getValues(1)):l._isCustomAxisX()||(y=l.getValues(1)),y)for(this.dataTypeX||(this.dataTypeX=l.getDataType(1)),a=0;a<y.length;a++)p=y[a],i.isValid(p)&&((isNaN(this.minX)||this.minX>p)&&(this.minX=p),(isNaN(this.maxX)||this.maxX<p)&&(this.maxX=p),a>0&&(!st||st==t.ChartType.Column||st==t.ChartType.Bar)&&(k=Math.abs(p-y[a-1]),!isNaN(k)&&k>0&&(k<this.dx||this.dx==0)&&(this.dx=k)));if(d=null,rt=!1,f?(rt=l._isCustomAxisX(),d=l.getValues(0)):(rt=l._isCustomAxisY(),d=l.getValues(0)),d&&(this.dataTypeY||rt||(this.dataTypeY=l.getDataType(0)),isNaN(this.minX)?this.minX=0:y||o||(this.minX=Math.min(this.minX,0)),isNaN(this.maxX)?this.maxX=d.length-1:y||o||(this.maxX=Math.max(this.maxX,d.length-1)),!rt))for(a=0;a<d.length;a++)p=d[a],v=y?n.asNumber(y[a],!0):o?n.asNumber(o[a],!0):a,n.isArray(p)?p.forEach(function(n){at._parseYVal(n,v,ct,it,g,nt)}):this._parseYVal(p,v,ct,it,g,nt);tt=l.getDataRect(new n.Rect(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY),c);tt&&(this.minX=tt.left,this.maxX=tt.right,this.minY=tt.top,this.maxY=tt.bottom)}}if(e==r.Stacked){for(b in g)g[b]>this.maxY&&(this.maxY=g[b]);for(b in nt)nt[b]<this.minY&&(this.minY=nt[b])}else if(e==r.Stacked100pc){this.minY=0;this.maxY=1;for(b in it)ut=it[b],isFinite(ut)&&ut!=0&&(et=g[b],ot=nt[b],isFinite(et)&&(et=Math.min(et/ut,this.maxY)),isFinite(ot)&&(ot=Math.max(ot/ut,this.minY)))}this.stackAbs=it;s&&(f?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);h&&(f?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},i.prototype._parseYVal=function(n,t,r,u,f,e){i.isValid(n)&&((isNaN(this.minY)||this.minY>n)&&(this.minY=n),(isNaN(this.maxY)||this.maxY<n)&&(this.maxY=n),r||(n>0?(isNaN(f[t])?f[t]=n:f[t]+=n,(isNaN(this.minYp)||this.minYp>n)&&(this.minYp=n)):isNaN(e[t])?e[t]=n:e[t]+=n,isNaN(u[t])?u[t]=Math.abs(n):u[t]+=Math.abs(n)))},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinXp=function(){return this.minXp},i.prototype.getMinYp=function(){return this.minYp},i.prototype.getDeltaX=function(){return this.dx},i.prototype.getDataTypeX=function(){return this.dataTypeX},i.prototype.getDataTypeY=function(){return this.dataTypeY},i.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},i.prototype.getXVals=function(){return this._xvals},i.isValid=function(n){return isFinite(n)},i}();t._DataInfo=f;e=function(t){function i(){t.call(this);this._content='<b>{seriesName}</b><br/>{x} {y}';this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea";n[n.Funnel=12]="Funnel"})(t.ChartType||(t.ChartType={}));var i=t.ChartType,r=function(r){function u(n,t){r.call(this,n,null);this._chartType=i.Column;this.initialize(t)}return __extends(u,r),u.prototype._getChartType=function(){return this._chartType},Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(i){i!=this._stacking&&(this._stacking=n.asEnum(i,t.Stacking),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),u}(t.FlexChartCore);t.FlexChart=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var u,r,s,f,h,c,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Auto=5]="Auto"})(t.Position||(t.Position={}));u=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));r=t.AxisType,function(n){n[n.Auto=0]="Auto";n[n.Show=1]="Show"}(t.OverlappingLabels||(t.OverlappingLabels={}));s=t.OverlappingLabels,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));f=t.TickMark;h=function(){function i(t){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._minorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this._labelPadding=2;this.rangeChanged=new n.Event;this._customConvert=null;this._customConvertBack=null;this.__uniqueId=i._id++;this._position=t;t==u.Bottom||t==u.Top?this._axisType=r.X:(this._axisType=r.Y,this._axisLine=!1);this._minorTickMarks=f.None;this._overlap=s.Auto}return Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=n.asBoolean(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,u,!1),this._axisType=this._position==u.Bottom||this._position==u.Top?r.X:r.Y,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){t!=this._minorTickMarks&&(this._minorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){t!=this._overlap&&(this._overlap=n.asEnum(t,s,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=n.asFunction(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"plotArea",{get:function(){return this._parea},set:function(i){i!=this._parea&&(this._parea=n.asType(i,t.PlotArea,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_groupClass",{get:function(){return this.axisType===r.X?t.FlexChartCore._CSS_AXIS_X:t.FlexChartCore._CSS_AXIS_Y},enumerable:!0,configurable:!0}),i.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},i.prototype._isOverlapped=function(n,t,i){var u=this._lbls,r,f,e,o;if(u!=null&&u.length>1){var s=u.length,h=this._values&&this._values.length==s?this._values:null,c=0,l=0;for(r=0;r<s;r++)if(f=h?h[r]:r,f>=this._actualMin&&f<=this._actualMax){if(e=t*(f-this._actualMin)/(this._actualMax-this._actualMin),o=n.measureString(u[r],i,this._groupClass),r>0&&Math.abs(e-c)<Math.max(o.width,l)+12)return!0;c=e;l=o.width}}return!1},i.prototype._getHeight=function(i,u){var k,d,h,g,c,e,s,it,l,o;this._actualAngle=undefined;var a=t.FlexChart._CSS_LABEL,rt=t.FlexChart._CSS_TITLE,nt=this._actualMax-this._actualMin,b=this._nicePrecision(nt);(b<0||b>15)&&(b=0);var v=.1*nt,y=this._lbls,p=this.labelAngle;if(this.labels&&this._chart._getChartType()!==t.ChartType.Funnel){if(v=this._updateAutoFormat(v),y!=null&&y.length>0){for(k=y.length,d=this._values&&this._values.length==k?this._values:null,this._annoSize=new n.Size,h=0;h<k;h++)g=d?d[h]:h,g>=this._actualMin&&g<=this._actualMax&&(e=i.measureString(y[h],a,this._groupClass),this.axisType==r.X?e.width>this._annoSize.width&&(this._annoSize.width=e.width):e.width>this._annoSize.width&&(this._annoSize.width=e.width),e.height>this._annoSize.height&&(this._annoSize.height=e.height));p===undefined&&this.axisType==r.X&&(this._isOverlapped(i,u,a)?p=this._actualAngle=-45:this._actualAngle=0)}else c=this._formatValue(this._actualMin-v),e=i.measureString(c,a,this._groupClass),this._annoSize=e,c=this._formatValue(this._actualMax+v),e=i.measureString(c,a,this._groupClass),e.width>this._annoSize.width&&(this._annoSize.width=e.width),e.height>this._annoSize.height&&(this._annoSize.height=e.height);if(p){var w=p*Math.PI/180,tt=this._annoSize.width,s=this._annoSize.height;this._annoSize.width=tt*Math.abs(Math.cos(w))+s*Math.abs(Math.sin(w));this._annoSize.height=tt*Math.abs(Math.sin(w))+s*Math.abs(Math.cos(w))}}else this._annoSize=new n.Size;return s=2*this._labelPadding,s+=this._axisType==r.X?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,it=this._TICK_HEIGHT,l=this._TICK_OVERLAP,o==f.Outside?l=1:o==f.Inside?l=-1:o==f.Cross&&(l=0),o=this.majorTickMarks,(o===undefined||o===null)&&(o=f.Outside),o!=f.None&&(s+=.5*(1+l)*it),this._title&&(c=this._title,this._szTitle=i.measureString(c,rt,this._groupClass),s+=this._szTitle.height),i.fontSize=null,s},i.prototype._updateAutoFormat=function(n){if(this._isTimeAxis){var t=this.format,r=.001*(this._actualMax-this._actualMin)/10,u=new e(r*e.TicksPerSecond),i=isNaN(this._majorUnit)?o.NiceTimeSpan(u,t):e.fromDays(this._majorUnit);t||(this._tfmt=o.GetTimeDefaultFormat(1e3*i.TotalSeconds,0));n=i.TotalSeconds}return n},i.prototype._updateActualLimitsByChartType=function(n,i,r){if(n&&n.length>0&&!this._isTimeAxis){var u=this._chart._getChartType();u!=t.ChartType.Column&&u!=t.ChartType.Bar&&(i-=.5,r+=.5)}return{min:i,max:r}},i.prototype._updateActualLimits=function(t,i,r,u,f){var l,a,v,e,o,s,y,b,k,h,c,p,w;if(u===void 0&&(u=null),f===void 0&&(f=null),l=this._actualMin,a=this._actualMax,this._isTimeAxis=t==n.DataType.Date,v=this._updateActualLimitsByChartType(u,i,r),i=v.min,r=v.max,e=this._min,o=this._max,n.isDate(e)&&(e=e.valueOf()),n.isDate(o)&&(o=o.valueOf()),this._actualMin=e!==null&&e!==undefined?e:i,this._actualMax=o!==null&&o!==undefined?o:r,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),this.logBase>0&&(s=this.logBase,y=Math.log(s),this._max||(b=Math.ceil(Math.log(this._actualMax)/y),this._actualMax=Math.pow(s,b)),this._min||(k=Math.floor(Math.log(this._actualMin)/y),this._actualMin=Math.pow(s,k)),(this._actualMin<=0||isNaN(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)),(l==this._actualMin||isNaN(l)&&isNaN(this._actualMin))&&(a==this._actualMax||isNaN(a)&&isNaN(this._actualMax))||this.onRangeChanged(),this._items){this._values=[];this._lbls=[];var nt=this._items.length,d='value',g='text';for(this.binding&&(h=this.binding.split(','),h.length==2&&(d=h[0],g=h[1])),c=0;c<nt;c++)p=this._items[c],w=p[d],n.isNumber(w)&&(this._values.push(w),this._lbls.push(p[g]))}else this._lbls=u,this._values=f},i.prototype._layout=function(t,i){var f=this.axisType==r.Y,e=this._position!=u.Top&&this._position!=u.Right;this._plotrect=i;this._axrect=f?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(n){var s,h,a,p,nt,tt,e;if(this.position!=u.None){this._vals={};s=0;this.labelAngle&&(s=this.labelAngle,s>90?s=90:s<-90&&(s=-90));this.labelAngle===undefined&&this._actualAngle!==undefined&&(s=this._actualAngle);var ut=this.axisType==r.Y,ft=this._position!=u.Top&&this._position!=u.Right,d=t.FlexChart._FG,w=this._actualMax-this._actualMin;if(!isNaN(w)){h=this._calcMajorUnit();h==0&&(h=this._niceTickNumber(w)*.1);var y=Math.min(i.MAX_MAJOR,Math.floor(w/h)+1),o=[],c=[];if(this._rects=[],this._vals.major=o,this._vals.hasLbls=[],a=Math.floor(this._actualMin/h)*h,a<this._actualMin&&(a+=h),p=!1,this._lbls&&this._lbls.length>0)if(c=this._lbls,this._values.length==0)for(p=!0,e=0;e<c.length;e++)o.push(e);else o=this._values;else this._isTimeAxis?this._createTimeLabels(a,y,o,c):this.logBase?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,o,c,!0):this._createLabels(a,y,h,o,c);y=Math.min(o.length,c.length);n.textFill=d;var g=this._TICK_HEIGHT,v=this._TICK_OVERLAP,l=this.majorTickMarks;for((l===undefined||l===null)&&(l=f.Outside),l==f.Outside?v=1:l==f.Inside?v=-1:l==f.Cross&&(v=0),nt=.5*(v-1)*g,tt=.5*(1+v)*g,e=0;e<y;e++){var it=!0,b=o[e],rt=c[e],k=this.labels;k&&(p||this.itemsSource)&&this.majorUnit&&e%this.majorUnit!=0&&(k=!1);b>=this._actualMin&&b<=this._actualMax&&(it=this._renderLabelsAndTicks(n,e,b,rt,s,l,k,nt,tt));this._vals.hasLbls.push(it)}}(this.minorGrid||this.minorTickMarks!=f.None)&&this._renderMinor(n,o,p);n.stroke=d;n.fontSize=null;this._renderLineAndTitle(n);n.stroke=null;n.fontSize=null;n.textFill=null;n.strokeWidth=null}},i.prototype._renderLineAndTitle=function(i){var h=this.axisType==r.Y,s=this._position!=u.Top&&this._position!=u.Right,e=t.FlexChart._CSS_TITLE,o=t.FlexChart._CSS_LINE,f;h?s?(this._title&&(f=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,-90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)):(this._title&&(f=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o)):s?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,e)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,e))},i.prototype._renderMinor=function(n,t,i){var h=this.axisType==r.Y,c=this._position!=u.Top&&this._position!=u.Right,f,s,e,o;if(this.logBase){if(this.minorUnit>0){for(f=[],this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,f,null,!1),s=[],e=0;e<f.length;e++)o=f[e],t.indexOf(o)==-1&&o>this._actualMin&&s.push(o);this._renderMinors(n,s,h,c)}}else this._createMinors(n,t,h,c,i)},i.prototype._renderLabelsAndTicks=function(i,e,o,h,c,l,a,v,y){var d=!0,rt=this.axisType==r.Y,g=this._position!=u.Top&&this._position!=u.Right,nt=this.labelPadding||2,ut=this._TICK_WIDTH,tt=this._getLabelAlign(rt),w=t.FlexChart._CSS_LABEL,ft=t.FlexChart._CSS_GRIDLINE,it=t.FlexChart._CSS_TICK,et=t.FlexChart._FG,ot=t.FlexChart._FG,st=this._GRIDLINE_WIDTH,ht=o!=this._actualMin&&this.majorGrid,k,b,p;return rt?(k=this.convert(o),ht&&(i.stroke=et,i.strokeWidth=st,i.drawLine(this._plotrect.left,k,this._plotrect.right,k,ft)),i.stroke=ot,i.strokeWidth=ut,g?(l!=f.None&&i.drawLine(this._axrect.right-v,k,this._axrect.right-y,k,it),a&&(p=new n.Point(this._axrect.right-y-this._TICK_LABEL_DISTANCE-nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,2,tt,w))):(l!=f.None&&i.drawLine(this._axrect.left+v,k,this._axrect.left+y,k,it),a&&(p=new n.Point(this._axrect.left+y+this._TICK_LABEL_DISTANCE+nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,0,tt,w)))):(b=this.convert(o),this.overlappingLabels==s.Auto&&this._xCross(b)&&(a=!1),ht&&(i.stroke=et,i.strokeWidth=st,i.drawLine(b,this._plotrect.top,b,this._plotrect.bottom,ft)),i.stroke=ot,i.strokeWidth=ut,g?(d=!1,a&&(p=new n.Point(b,this._axrect.top+y+nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,0,w)),l!=f.None&&d&&(b=this.convert(o),i.drawLine(b,this._axrect.top+v,b,this._axrect.top+y,it))):(a&&(p=new n.Point(b,this._axrect.bottom-y-nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,2,w)),l!=f.None&&(b=this.convert(o),i.drawLine(b,this._axrect.bottom-v,b,this._axrect.bottom-y,it)))),d},i.prototype._xCross=function(n){for(var i,r=this._rects.length,t=0;t<r;t++)if(i=this._rects[t],n>=i.left&&n<=i.right)return!0;return!1},i.prototype._createMinors=function(t,r,u,f,e){var o;if(r&&r.length>1){var c=this.majorUnit?this._isTimeAxis?this.majorUnit*864e5:this.majorUnit:r[1]-r[0],h=n.isNumber(this.minorUnit)?this._isTimeAxis?this.minorUnit*864e5:this.minorUnit:c*.5,s=[];for(o=r[0];o>this._actualMin&&s.length<i.MAX_MINOR;o-=h)r.indexOf(o)==-1&&s.push(o);for(o=r[0]+h;o<this._actualMax&&s.length<i.MAX_MINOR;o+=h)r.indexOf(o)==-1?s.push(o):e&&this.majorUnit&&o%this.majorUnit!=0&&s.push(o);this._renderMinors(t,s,u,f)}},i.prototype._renderMinors=function(n,i,r,u){var w=this._TICK_HEIGHT,b=this._TICK_WIDTH,h=this._TICK_OVERLAP,k=t.FlexChart._FG,y=this.minorTickMarks,p=!0,e,o,s;this._vals.minor=i;y==f.Outside?h=1:y==f.Inside?h=-1:y==f.Cross?h=0:p=!1;var c=.5*(h-1)*w,l=.5*(1+h)*w,it=i?i.length:0,d=this.minorGrid,a=this._plotrect,g=this._GRIDLINE_WIDTH,nt=t.FlexChart._FG,tt=t.FlexChart._CSS_GRIDLINE_MINOR,v=t.FlexChart._CSS_TICK_MINOR;for(e=0;e<it;e++)i[e]>=this.actualMin&&i[e]<=this.actualMax&&(r?(o=this.convert(i[e]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(this._axrect.right-c,o,this._axrect.right-l,o,v):n.drawLine(this._axrect.left+c,o,this._axrect.left+l,o,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(a.left,o,a.right,o,tt))):(s=this.convert(i[e]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(s,this._axrect.top+c,s,this._axrect.top+l,v):n.drawLine(s,this._axrect.bottom-c,s,this._axrect.bottom-l,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(s,a.top,s,a.bottom,tt))))},i.prototype._renderLabel=function(n,i,f,e,o,h,c){var p=!1,a,l;if(this.itemFormatter&&(a=e.clone(),this.axisType==r.X?a.y=this.position==u.Top?this._plotrect.top:this._plotrect.bottom:a.x=this.position==u.Right?this._plotrect.right:this._plotrect.left,l={val:i,text:f,pos:a,cls:c},l=this.itemFormatter(n,l),l?(f=l.text,c=l.cls):f=null),f){var y=this._rects,w=this.overlappingLabels==s.Auto&&this._actualAngle===undefined,v=t.FlexChart._renderText(n,f,e,o,h,c,null,null,function(n){var r,i;if(w)for(r=y.length,i=0;i<r;i++)if(t.FlexChart._intersects(y[i],n))return!1;return!0});v&&(v.left+=4,v.width+=8,y.push(v),p=!0)}return p},i.prototype._renderRotatedLabel=function(i,r,u,f,e,o){var y,h,l,p;if(r){var c=i.measureString(r,e,this._groupClass),a=new n.Rect(u.x,u.y,c.height+2,c.width),v=this._rects,w=this.overlappingLabels==s.Auto;if(w)for(y=v.length,h=0;h<y;h++)if(t.FlexChart._intersects(v[h],a))return!1;return f!=90&&f!=-90&&(l=.5*c.height*Math.abs(Math.sin(f*Math.PI/180)),o?u.y+=l:u.y-=l),p=o?f>0?0:2:f>0?2:0,t.FlexChart._renderRotatedText(i,r,u,p,1,u,f,e,this._groupClass),this._rects.push(a),!0}return!1},i.prototype._getLabelAlign=function(n){var t=1,i;return this.labelAlign&&(i=this.labelAlign.toLowerCase(),n?i=='top'?t=0:i=='bottom'&&(t=2):i=='left'?t=0:i=='right'&&(t=2)),t},i.prototype.convert=function(n,t,i){var f=t==null?this._actualMax:t,u=i==null?this._actualMin:i,l,a,c;if(f==u)return 0;var s=this._axrect.left,e=this._axrect.width,h=this._axrect.top,o=this._axrect.height;return this._customConvert!=null?(l=this._customConvert(n,u,f),this.axisType==r.Y?h+l*o:s+l*e):(a=this.logBase,a?n<=0?NaN:(c=Math.log(f/u),this._reversed?this.axisType==r.Y?h+Math.log(n/u)/c*o:s+e-Math.log(n/u)/c*e:this.axisType==r.Y?h+o-Math.log(n/u)/c*o:s+Math.log(n/u)/c*e):this._reversed?this.axisType==r.Y?h+(n-u)/(f-u)*o:s+e-(n-u)/(f-u)*e:this.axisType==r.Y?h+o-(n-u)/(f-u)*o:s+(n-u)/(f-u)*e)},i.prototype.convertBack=function(n){var s;if(this._actualMax==this._actualMin)return 0;var i=this._plotrect.left,t=this._plotrect.width,u=this._plotrect.top,f=this._plotrect.height,e=this._actualMax-this._actualMin,o=this.logBase;return this._customConvertBack!=null?this.axisType==r.Y?this._customConvertBack((n-u)/f,this._actualMin,this._actualMax):this._customConvertBack((n-i)/t,this._actualMin,this._actualMax):o?(s=0,s=this._reversed?this.axisType==r.Y?(n-u)/f:1-(n-i)/t:this.axisType==r.Y?1-(n-u)/f:(n-i)/t,Math.pow(o,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*s)/Math.log(o))):this._reversed?this.axisType==r.Y?this._actualMin+(n-u)*e/f:this._actualMin+(i+t-n)*e/t:this.axisType==r.Y?this._actualMax-(n-u)*e/f:this._actualMin+(n-i)*e/t},Object.defineProperty(i.prototype,"axisType",{get:function(){var n=this._chart;if(n){if(n.axisX==this)return r.X;if(n.axisY==this)return r.Y}return this._axisType},enumerable:!0,configurable:!0}),i.prototype._getMinNum=function(){return this._actualMin},i.prototype._getMaxNum=function(){return this._actualMax},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._cvCollectionChanged=function(){this._invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createLogarithmicLabels=function(n,t,i,r,f,e){var s=this.logBase,w=Math.log(s),b=Math.floor(Math.log(n)/w),k=Math.ceil(Math.log(t)/w),h=s,y=!0,c,p,l,a,d,v,o;for(i>0&&(y=!1,h=i),h<s&&(h=s),c=(k-b+1)*s/h,p=1,e&&(l=this._getAnnoNumber(this.position===u.Left||this.position===u.Right),c>l?p=Math.floor(c/l+1):y&&(c<=.2*l?h=.2*s:c<=.1*l&&(h=.1*s))),a=b;a<=k;a+=p)if(y)for(d=Math.pow(s,a),v=0;v*h<s-1;v++)o=d*(1+v*h),o>=n&&o<=t&&(v==0?(r.unshift(o),f&&f.unshift(this._formatValue(o))):(r.push(o),f&&f.push(this._formatValue(o))));else o=Math.pow(h,a),o>=n&&o<=t&&(r.push(o),f&&f.push(this._formatValue(o)))},i.prototype._createTimeLabels=function(n,t,i,u){var p=this._actualMin,w=this._actualMax,l=new Date(this._actualMin),b=new Date(this._actualMax),k=this._format,d=this._getAnnoNumber(this._axisType==r.Y),tt,g,nt,s,ft,a,v,f,h;d>12&&(d=12);var rt=.001*(this._actualMax-this._actualMin)/d,ut=new e(rt*e.TicksPerSecond),c=isNaN(this._majorUnit)?o.NiceTimeSpan(ut,k):e.fromDays(this._majorUnit);if(k||(this._tfmt=k=o.GetTimeDefaultFormat(1e3*c.TotalSeconds,0)),tt=c.Ticks,g=o.RoundTime(p,c.TotalDays,!1),isFinite(g)&&(p=g),nt=o.RoundTime(w,c.TotalDays,!0),isFinite(nt)&&(w=nt),s=new Date(p),ft=new Date(w),c.TotalDays>=365&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),1,1),s<l&&s.setFullYear(s.getFullYear()+1),a=c.TotalDays/365,a=a-a%1,f=s;f<=b;f.setFullYear(f.getFullYear()+a))h=f.valueOf(),i.push(h),u.push(this._formatValue(h));else if(c.TotalDays>=30&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),l.getMonth(),1),s<l&&s.setMonth(s.getMonth()+1),v=c.TotalDays/30,v=v-v%1,f=s;f<=b;f.setMonth(f.getMonth()+v))h=f.valueOf(),i.push(h),u.push(this._formatValue(h));else{var y=1e3*tt/e.TicksPerSecond,f=s,it=l.getTime()-f.getTime();for(it>y&&(f=new Date(f.getTime()+Math.floor(it/y)*y));f<=b;f=new Date(f.getTime()+y))f>=l&&(h=f.valueOf(),i.push(h),u.push(this._formatValue(h)))}},i.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?n.Globalize.format(new Date(t),this._format):n.Globalize.format(new Date(t),this._tfmt);if(this._format)return n.Globalize.format(t,this._format);var i=t==Math.round(t)?'n0':'n';return n.Globalize.format(t,i)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,u=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==r.Y);n=this._niceNumber(2*t,-u,!0);n<t&&(n=this._niceNumber(t,-u+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/(i+6)),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i.MAX_MAJOR=1e3,i.MAX_MINOR=2e3,i._id=0,i}();t.Axis=h;c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=c,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=60]="minute";n[n.hour=3600]="hour";n[n.day=86400]="day";n[n.week=604800]="week";n[n.month=2678400]="month";n[n.year=31536e3]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));e=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();o=function(){function r(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return r.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},r.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},r.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},r.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},r.RoundTime=function(n,t,u){var e=t*86400,f;if(e>0)return(f=new r(n),e<i.minute)?(f.second=this.tround(f.second,e,u),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,u),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,u),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,u),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,u)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,u),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return u&&o!=s&&(o+=t),e+o},r.TimeSpanFromTmInc=function(n){var r=e.fromSeconds(1),t,u;if(n!=i.maxtime)if(n>i.tickf1)r=e.fromSeconds(n);else{for(t=n,u=1,t+=7;t>0;)u*=10,t--;r=new e(u)}return r},r.manualTimeInc=function(n){var t=i.second,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf('f'),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=='%')f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!='f')break;f--}t=f}else n.indexOf('s')>=0?t=i.second:n.indexOf('m')>=0?t=i.minute:n.indexOf('h')>=0||n.indexOf('H')?t=i.hour:n.indexOf('d')>=0?t=i.day:n.indexOf('M')>=0?t=i.month:n.indexOf('y')>=0&&(t=i.year);return t},r.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},r.NiceTimeSpan=function(n,t){var f=i.second,o,u,s;if(t!=null&&t.length>0&&(f=r.manualTimeInc(t)),o=0,u=0,f<i.second&&n.TotalSeconds<10){for(o=n.Ticks,u=r.TimeSpanFromTmInc(f).Ticks;o>10*u;)u*=10;return s=u,o>s&&(s*=2),o>s&&(s=5*u),o>s&&(s=10*u),new e(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return r.TimeSpanFromTmInc(f);if(u=1,f<i.minute){if(o<i.minute&&(u=r.getNiceInc([1,2,5,10,15,30],o,f),u!=0))return e.fromSeconds(u);f=i.minute}if(f<i.hour){if(o<i.hour&&(u=r.getNiceInc([1,2,5,10,15,30],o,f),u!=0))return e.fromSeconds(u);f=i.hour}if(f<i.day){if(o<i.day&&(u=r.getNiceInc([1,3,6,12],o,f),u!=0))return e.fromSeconds(u);f=i.day}if(f<i.month){if(o<i.month&&(u=r.getNiceInc([1,2,7,14],o,f),u!=0))return e.fromSeconds(u);f=i.month}if(f<i.year){if(o<i.year&&(u=r.getNiceInc([1,2,3,4,6],o,f),u!=0))return e.fromSeconds(u);f=i.year}return u=100*i.year,o<u&&(u=r.getNiceInc([1,2,5,10,20,50],o,f),u==0&&(u=100*i.year)),e.fromSeconds(u)},r.NiceTimeUnit=function(n,t){var i=e.fromDays(n);return i=r.NiceTimeSpan(i,t),i.TotalDays},r.GetTimeDefaultFormat=function(n,t){var f;if(isNaN(n)||isNaN(t))return'';var r='s',o=e.fromSeconds(.001*(n-t)),u=o.TotalSeconds;if(u>=i.year)r='yyyy';else if(u>=i.month)r='MMM yyyy';else if(u>=i.day)r='MMM d';else if(u>=i.hour)r='ddd H:mm';else if(u>=.5*i.hour)r='H:mm';else if(u>=1)r='H:mm:ss';else if(u>0)for(f=o.Ticks,r="s.";f<e.TicksPerSecond;)f*=10,r+='f';return r},r.secInYear=86400,r}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var f=function(){function t(){this._row=0;this._col=0;this._rect=new n.Rect(0,0,0,0)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){n!=this._width&&(this._width=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){n!=this._height&&(this._height=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(n){n.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(n,t){this._rect.left=n;this._rect.width=t},t.prototype._setPlotY=function(n,t){this._rect.top=n;this._rect.height=t},t}(),u,i,r;t.PlotArea=f;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getPlotArea=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t.prototype._getWidth=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.column==n&&t.row==0)return t.width;return r},t.prototype._getHeight=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.row==n&&t.column==0)return t.height;return r},t.prototype._calculateWidths=function(n,t){var u,i,f;if(t<=0)throw"ncols";for(u=[],i=0;i<t;i++)f=this._getWidth(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateHeights=function(n,t){var u,i,f;if(t<=0)throw"nrows";for(u=[],i=0;i<t;i++)f=this._getHeight(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateLengths=function(n,t,i){for(var s,e,u=[t],o=0,f=0,r=0;r<t;r++)i[r].isAbsolute?(u[r]=i[r].value,o+=u[r]):i[r].isStar?f+=i[r].value:i[r].isAuto&&f++;for(s=n-o,e=s/f,r=0;r<t;r++)i[r].isStar?u[r]=e*i[r].value:i[r].isAuto&&(u[r]=e),u[r]<0&&(u[r]=0);return u},t}(n.collections.ObservableArray);t.PlotAreaCollection=u,function(n){n[n.Auto=0]="Auto";n[n.Pixel=1]="Pixel";n[n.Star=2]="Star"}(i||(i={}));r=function(){function n(n){n===void 0&&(n=null);this._unitType=i.Auto;n&&(n=n.toString(),n.indexOf('*')>=0?(this._unitType=i.Star,n=n.replace('*',''),this._value=parseFloat(n),isNaN(this._value)&&(this._value=1)):(this._unitType=i.Pixel,this._value=parseFloat(n),isNaN(this._value)&&(this._unitType=i.Auto,this._value=1)))}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStar",{get:function(){return this._unitType==i.Star},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAbsolute",{get:function(){return this._unitType==i.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAuto",{get:function(){return this._unitType==i.Auto},enumerable:!0,configurable:!0}),n}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,i,u,f,e;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));i=t.Marker;u=function(){function n(){}return n}();t.DataArray=u;f=function(t){function i(i){t.call(this);this._series=n.asType(i,e)}return __extends(i,t),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.SeriesEventArgs=f;e=function(){function e(){this._altStyle=null;this._symbolMarker=i.Dot;this._visibility=r.Visible;this.rendering=new n.Event;this.rendered=new n.Event}return Object.defineProperty(e.prototype,"_chart",{get:function(){return this.__chart},set:function(n){n!==this.__chart&&(this.__chart=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altStyle",{get:function(){return this._altStyle},set:function(n){n!=this._altStyle&&(this._altStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),e.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(e.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,i,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new f(this))},enumerable:!0,configurable:!0}),e.prototype.onRendering=function(n,i,r){var u=new t.SeriesRenderingEventArgs(n,i,r);return this.rendering.raise(this,u),u.cancel},e.prototype.onRendered=function(n){this.rendered.raise(this,new t.RenderEventArgs(n))},e.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},e.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(e.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(n){n!=this.__plotter&&(this.__plotter=n)},enumerable:!0,configurable:!0}),e.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},e.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},e.prototype.drawLegendItem=function(n,i,r){var u=this._getChartType();u==null&&(u=this._chart._getChartType());u===t.ChartType.Funnel?this._drawFunnelLegendItem(n,i,r,this.style,this.symbolStyle):this._drawLegendItem(n,i,u,this.name,this.style,this.symbolStyle)},e.prototype.measureLegendItem=function(n,i){var r=this._getChartType();return r==null&&(r=this._chart._getChartType()),r===t.ChartType.Funnel?this._measureLegendItem(n,this._getFunnelLegendName(i)):this._measureLegendItem(n,this.name)},e.prototype.legendItemLength=function(){var n=this._getChartType();return n==null&&(n=this._chart._getChartType()),n===t.ChartType.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:1:1},e.prototype.getDataRect=function(){return null},e.prototype._getChartType=function(){return this._chartType},e.prototype._clearValues=function(){this._values=null;this._xvalues=null;this.__plotter=null},e.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(','),t&&t.length>n&&(i=t[n].trim())),i},e.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},e.prototype._getItem=function(n){var i=null,t=null;return this.itemsSource!=null?t=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(t=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),t!=null&&(i=t[n]),i},e.prototype._getLength=function(){var t=0,n=null;return this.itemsSource!=null?n=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(n=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),n!=null&&(t=n.length),t},e.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},e.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},e.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},e.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},e.prototype._getAxisX=function(){var n=null;return this.axisX?n=this.axisX:this.chart&&(n=this.chart.axisX),n},e.prototype._getAxisY=function(){var n=null;return this.axisY?n=this.axisY:this.chart&&(n=this.chart.axisY),n},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,this._name&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawFunnelLegendItem=function(i,r,u,f,e){i.strokeWidth=1;var c=t.Series._LEGEND_ITEM_MARGIN,o=null,s=null;o===null&&(o=this._chart._getColorLight(u));s===null&&(s=this._chart._getColor(u));i.fill=o;i.stroke=s;var l=r.top+.5*r.height,v=t.Series._LEGEND_ITEM_WIDTH,h=t.Series._LEGEND_ITEM_HEIGHT,a=this._getFunnelLegendName(u);i.drawRect(r.left+c,l-.5*h,v,h,null,e?e:f);a&&t.FlexChart._renderText(i,a,new n.Point(r.left+h+2*c,l),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getFunnelLegendName=function(n){var t;return this._chart._xlabels&&this._chart._xlabels.length&&(t=this._chart._xlabels[n]),t||(t=this.name),t},e.prototype._drawLegendItem=function(r,u,f,e,o,s){var a,v;r.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,p=null,w=null;p===null&&(p=this._chart._getColorLight(this._chart.series.indexOf(this)));w===null&&(w=this._chart._getColor(this._chart.series.indexOf(this)));r.fill=p;r.stroke=w;var c=u.top+.5*u.height,l=t.Series._LEGEND_ITEM_WIDTH,y=t.Series._LEGEND_ITEM_HEIGHT;switch(f){case t.ChartType.Area:case t.ChartType.SplineArea:r.drawRect(u.left+h,c-.5*y,l,y,null,o);break;case t.ChartType.Bar:case t.ChartType.Column:r.drawRect(u.left+h,c-.5*y,l,y,null,s?s:o);break;case t.ChartType.Scatter:case t.ChartType.Bubble:a=.3*l;v=.3*y;this.symbolMarker==i.Box?r.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s?s:o):r.drawEllipse(u.left+.5*l+h,c,a,v,null,s?s:o);break;case t.ChartType.Line:case t.ChartType.Spline:r.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.LineSymbols:case t.ChartType.SplineSymbols:a=.3*l;v=.3*y;this.symbolMarker==i.Box?r.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s?s:o):r.drawEllipse(u.left+.5*l+h,c,a,v,null,s?s:o);r.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.Candlestick:case t.ChartType.HighLowOpenClose:r.drawLine(u.left+h,c,u.left+l+h,c,null,s?s:o)}this._name&&t.FlexChart._renderText(r,e,new n.Point(u.left+y+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._cvCollectionChanged=function(){this._clearValues();this._invalidate()},e.prototype._cvCurrentChanged=function(){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},e.prototype._bindValues=function(t,i,r){var o,h,s,l,e,f,c;if(r===void 0&&(r=!1),t!=null)for(l=t.length,o=new Array(t.length),e=0;e<l;e++)s=null,f=t[e],i!=null&&(f=f[i]),n.isArray(f)&&f.length>0&&(s=f,f=f[0]),n.isNumber(f)?(o[e]=f,h=n.DataType.Number):n.isDate(f)?(o[e]=f.valueOf(),h=n.DataType.Date):r&&f&&(o[e]=e,h=n.DataType.Number),n.isArray(s)&&s.length>0&&(o[e]=s);return c=new u,c.values=o,c.dataType=h,c},e.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},e.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},e.prototype._getSymbolFill=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.fill),!t&&this.style&&(t=this.style.fill),!t&&this.chart&&(t=this.chart._getColorLight(n)),t},e.prototype._getSymbolStroke=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.stroke),!t&&this.style&&(t=this.style.stroke),!t&&this.chart&&(t=this.chart._getColor(n)),t},e.prototype._getAltSymbolStroke=function(){var n=null;return this.altStyle&&(n=this.altStyle.stroke),n},e.prototype._getAltSymbolFill=function(){var n=null;return this.altStyle&&(n=this.altStyle.fill),n},e.prototype._renderLabels=function(n,t,i,r){this._plotter&&this._plotter._renderLabels(n,this,t,i,r)},e._LEGEND_ITEM_WIDTH=10,e._LEGEND_ITEM_HEIGHT=10,e._LEGEND_ITEM_MARGIN=4,e._DEFAULT_SYM_SIZE=10,e}();t.SeriesBase=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments)}return __extends(r,i),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),r}(t.SeriesBase);t.Series=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(){'use strict'})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r=function(){function r(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._savedGradient={};this._element=n;this._create();this._element.appendChild(this._svg);r._isff===undefined&&(r._isff=navigator.userAgent.toLowerCase().indexOf('firefox')>=0)}return r.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._savedGradient={};this._svg.appendChild(this._defs);this._svg.appendChild(this._textGroup)},r.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},r.prototype.setViewportSize=function(n,t){this._svg.setAttribute('width',n.toString());this._svg.setAttribute('height',t.toString())},Object.defineProperty(r.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),r.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(r.svgNS,'clipPath'),i=document.createElementNS(r.svgNS,'rect');i.setAttribute('x',(n.left-1).toFixed());i.setAttribute('y',(n.top-1).toFixed());i.setAttribute('width',(n.width+2).toFixed());i.setAttribute('height',(n.height+2).toFixed());u.appendChild(i);u.setAttribute('id',t);this._svg.appendChild(u)}},r.prototype.drawEllipse=function(n,t,i,u,f,e){var o=document.createElementNS(r.svgNS,'ellipse');return this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),this._applyColor(o,'fill',this._fill),o.setAttribute('cx',n.toFixed(1)),o.setAttribute('cy',t.toFixed(1)),o.setAttribute('rx',i.toFixed(1)),o.setAttribute('ry',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},r.prototype.drawRect=function(n,t,i,u,f,e,o){var s=document.createElementNS(r.svgNS,'rect');return this._applyColor(s,'fill',this._fill),this._applyColor(s,'stroke',this._stroke),this._strokeWidth!==null&&s.setAttribute('stroke-width',this._strokeWidth.toString()),s.setAttribute('x',n.toFixed(1)),s.setAttribute('y',t.toFixed(1)),i>0&&i<.05?s.setAttribute('width','0.1'):s.setAttribute('width',i.toFixed(1)),u>0&&u<.05?s.setAttribute('height','0.1'):s.setAttribute('height',u.toFixed(1)),o&&s.setAttribute('clip-path','url(#'+o+')'),f&&s.setAttribute('class',f),this._applyStyle(s,e),this._appendChild(s),s},r.prototype.drawLine=function(n,t,i,u,f,e){var o=document.createElementNS(r.svgNS,'line');return this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('x1',n.toFixed(1)),o.setAttribute('x2',i.toFixed(1)),o.setAttribute('y1',t.toFixed(1)),o.setAttribute('y2',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},r.prototype.drawLines=function(n,t,i,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(r.svgNS,'polyline'),this._applyColor(e,'stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),e.setAttribute('fill','none'),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),i&&e.setAttribute('class',i),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},r.prototype.drawSplines=function(n,i,u,f,e){var o,h,s;if(n&&i){var y=new t._Spline(n,i),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(r.svgNS,'polyline'),this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('fill','none'),h='',s=0;s<v;s++)h+=l[s].toFixed(1)+','+a[s].toFixed(1)+' ';return o.setAttribute('points',h),u&&o.setAttribute('class',u),e&&o.setAttribute('clip-path','url(#'+e+')'),this._applyStyle(o,f),this._appendChild(o),o}}return null},r.prototype.drawPolygon=function(n,t,i,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(r.svgNS,'polygon'),this._applyColor(e,'stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),this._applyColor(e,'fill',this._fill),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),i&&e.setAttribute('class',i),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},r.prototype.drawPieSegment=function(t,i,u,f,e,o,s,h){var c,l,y,a,p,v;return e>=Math.PI*2?this.drawEllipse(t,i,u,u,o,s):(c=document.createElementNS(r.svgNS,'path'),this._applyColor(c,'fill',this._fill),this._applyColor(c,'stroke',this._stroke),this._strokeWidth!==null&&c.setAttribute('stroke-width',this._strokeWidth.toString()),l=new n.Point(t,i),l.x+=u*Math.cos(f),l.y+=u*Math.sin(f),y=f+e,a=new n.Point(t,i),a.x+=u*Math.cos(y),a.y+=u*Math.sin(y),p=' 0 0,1 ',Math.abs(e)>Math.PI&&(p=' 0 1,1 '),v='M '+l.x.toFixed(1)+','+l.y.toFixed(1),v+=' A '+u.toFixed(1)+','+u.toFixed(1)+p,v+=a.x.toFixed(1)+','+a.y.toFixed(1),v+=' L '+t.toFixed(1)+','+i.toFixed(1)+' z',c.setAttribute('d',v),h&&c.setAttribute('clip-path','url(#'+h+')'),o&&c.setAttribute('class',o),this._applyStyle(c,s),this._appendChild(c),c)},r.prototype.drawDonutSegment=function(t,i,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;return o>=Math.PI*2&&(k=!0,o-=.001),l=document.createElementNS(r.svgNS,'path'),this._applyColor(l,'fill',this._fill),this._applyColor(l,'stroke',this._stroke),this._strokeWidth!==null&&l.setAttribute('stroke-width',this._strokeWidth.toString()),y=new n.Point(t,i),y.x+=u*Math.cos(e),y.y+=u*Math.sin(e),p=e+o,w=new n.Point(t,i),w.x+=u*Math.cos(p),w.y+=u*Math.sin(p),v=new n.Point(t,i),v.x+=f*Math.cos(p),v.y+=f*Math.sin(p),b=new n.Point(t,i),b.x+=f*Math.cos(e),b.y+=f*Math.sin(e),d=' 0 0,1 ',g=' 0 0,0 ',Math.abs(o)>Math.PI&&(d=' 0 1,1 ',g=' 0 1,0 '),a='M '+y.x.toFixed(3)+','+y.y.toFixed(3),a+=' A '+u.toFixed(3)+','+u.toFixed(3)+d,a+=w.x.toFixed(3)+','+w.y.toFixed(3),a+=k?' M '+v.x.toFixed(3)+','+v.y.toFixed(3):' L '+v.x.toFixed(3)+','+v.y.toFixed(3),a+=' A '+f.toFixed(3)+','+f.toFixed(3)+g,a+=b.x.toFixed(3)+','+b.y.toFixed(3),k||(a+=' z'),l.setAttribute('d',a),c&&l.setAttribute('clip-path','url(#'+c+')'),s&&l.setAttribute('class',s),this._applyStyle(l,h),this._appendChild(l),l},r.prototype.drawString=function(n,t,i,r){var u=this._createText(t,n),f;return i&&u.setAttribute('class',i),this._applyStyle(u,r),this._appendChild(u),f=this._getBBox(u),u.setAttribute('y',(t.y-(f.y+f.height-t.y)).toFixed(1)),u},r.prototype.drawStringRotated=function(n,t,i,u,f,e){var o=this._createText(t,n),s,h;return f&&o.setAttribute('class',f),this._applyStyle(o,e),s=document.createElementNS(r.svgNS,'g'),s.setAttribute('transform','rotate('+u.toFixed(1)+','+i.x.toFixed(1)+','+i.y.toFixed(1)+')'),s.appendChild(o),this._appendChild(s),h=this._getBBox(o),o.setAttribute('y',(t.y-(h.y+h.height-t.y)).toFixed(1)),o},r.prototype.measureString=function(t,i,r,u){var f=new n.Size(0,0),e,o;if(this._fontSize&&this._text.setAttribute('font-size',this._fontSize),this._fontFamily&&this._text.setAttribute('font-family',this._fontFamily),i&&this._text.setAttribute('class',i),r&&this._textGroup.setAttribute('class',r),this._applyStyle(this._text,u),this._setText(this._text,t),e=this._getBBox(this._text),f.width=e.width,f.height=e.height,this._text.removeAttribute('font-size'),this._text.removeAttribute('font-family'),this._text.removeAttribute('class'),u)for(o in u)this._text.removeAttribute(this._deCase(o));return this._textGroup.removeAttribute('class'),this._text.textContent=null,f},r.prototype.startGroup=function(n,t,i){i===void 0&&(i=!1);var u=document.createElementNS(r.svgNS,'g');return n&&u.setAttribute('class',n),t&&u.setAttribute('clip-path','url(#'+t+')'),this._appendChild(u),i&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},r.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},r.prototype.drawImage=function(n,t,i,u,f){var e=document.createElementNS(r.svgNS,'image');return e.setAttributeNS(r.xlinkNS,'href',n),e.setAttribute('x',t.toFixed(1)),e.setAttribute('y',i.toFixed(1)),e.setAttribute('width',u.toFixed(1)),e.setAttribute('height',f.toFixed(1)),this._appendChild(e),e},r.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},r.prototype._create=function(){this._svg=document.createElementNS(r.svgNS,'svg');this._defs=document.createElementNS(r.svgNS,'defs');this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),'');this._textGroup=document.createElementNS(r.svgNS,'g');this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},r.prototype._setText=function(n,t){var i=t?t.toString():null;if(i&&i.indexOf('tspan')>=0)try{n.textContent=null;for(var u=new DOMParser,f='<svg xmlns="http://www.w3.org/2000/svg\">'+i+'</svg>',e=u.parseFromString(f,'text/xml').documentElement,r=e.firstChild;r;)n.appendChild(n.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(o){throw new Error('Error parsing XML string.');}else n.textContent=i},r.prototype._createText=function(n,t){var i=document.createElementNS(r.svgNS,'text');return this._setText(i,t),i.setAttribute('fill',this._textFill),i.setAttribute('x',n.x.toFixed(1)),i.setAttribute('y',n.y.toFixed(1)),this._fontSize&&i.setAttribute('font-size',this._fontSize),this._fontFamily&&i.setAttribute('font-family',this._fontFamily),i},r.prototype._applyStyle=function(n,t){if(t)for(var i in t)i==='fill'||i==='stroke'?this._applyColor(n,i,t[i]):n.setAttribute(this._deCase(i),t[i])},r.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return'-'+n.toLowerCase()})},r.prototype._getBBox=function(n){if(r._isff)try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}else return n.getBBox()},r.prototype._applyColor=function(t,u,f){var e=i.tryParse(f),s,o;e!=null&&(n.isString(e)?t.setAttribute(u,e):(this._savedGradient[f]==null&&(s='gc'+(1e6*Math.random()).toFixed(),e.x1!=null?(o=document.createElementNS(r.svgNS,'linearGradient'),['x1','y1','x2','y2','gradientUnits'].forEach(function(n){e[n]!=null&&o.setAttribute(n,e[n])})):e.r!=null&&(o=document.createElementNS(r.svgNS,'radialGradient'),['cx','cy','r','fx','fy','fr','gradientUnits'].forEach(function(n){e[n]!=null&&o.setAttribute(n,e[n])})),e.colors&&e.colors&&e.colors.length>0&&e.colors.forEach(function(n){var t=document.createElementNS(r.svgNS,'stop');n.color!=null&&t.setAttribute('stop-color',n.color);n.offset!=null&&t.setAttribute('offset',n.offset);n.opacity!=null&&t.setAttribute('stop-opacity',n.opacity);o.appendChild(t)}),o.setAttribute('id',s),this._defs.appendChild(o),this._savedGradient[f]=s),t.setAttribute(u,'url(#'+this._savedGradient[f]+')')))},r.svgNS='http://www.w3.org/2000/svg',r.xlinkNS='http://www.w3.org/1999/xlink',r}(),i;t._SvgRenderEngine=r;i=function(){function n(){}return n.tryParse=function(t){var o;if(n.parsedColor[t])return n.parsedColor[t];if(t==null||t.indexOf('-')===-1)return t;var e=t.replace(/\s+/g,'').split(/\-/g),u=e[0][0],f=!1,i,r=e[0].match(/\(\S+\)/)[0].replace(/[\(\\)]/g,'').split(/\,/g);return u==='l'||u==='L'?(i={x1:'0',y1:'0',x2:'0',y2:'0',colors:[]},u==='l'&&(f=!0),['x1','y1','x2','y2'].forEach(function(n,t){r[t]!=null&&(i[n]=f?+r[t]*100+'%':r[t]+'')})):(u==='r'||u==='R')&&(i={cx:'0',cy:'0',r:'0',colors:[]},u==='r'&&(f=!0),['cx','cy','r','fx','fy','fr'].forEach(function(n,t){r[t]!=null&&r[t]!==''&&(i[n]=f?+r[t]*100+'%':r[t]+'')})),f||(i.gradientUnits="userSpaceOnUse"),n.parsedColor[t]=i,o=e.length-1,e.forEach(function(n,t){n.indexOf(')')>-1&&(n=n.match(/\)\S+/)[0].replace(')',''));var r=n.split(':'),u={color:'black'};r[0]!=null&&(u.color=r[0]);u.offset=r[1]!=null?f?+r[1]*100+'%':r[1]+'':t/o*100+'%';r[2]!=null&&(u.opacity=r[2]);i.colors.push(u)}),i},n.parsedColor={},n}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){this._position=t.Position.Right;this._areas=[];this._sz=new n.Size;this._colRowLens=[];this._chart=i}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart&&this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(i,r,u,f){if(r==t.Position.None)return null;var e=r==t.Position.Right||r==t.Position.Left;if(this._chart instanceof n.chart.FlexChartCore)this._sz=this._getDesiredSizeSeriesChart(i,e,u,f);else if(this._chart instanceof n.chart.FlexPie)this._sz=this._getDesiredSizePieChart(i,e,u,f);else return null;return this._sz},i.prototype._getDesiredSizeSeriesChart=function(i,r,u,f){for(var c,v,p,l,h,e=new n.Size,y=this._chart.series,w=y.length,o=0,s=0,a=0;a<w;a++)if(c=n.tryCast(y[a],n.chart.SeriesBase),v=c.visibility,c.name&&v!=t.SeriesVisibility.Hidden&&v!=t.SeriesVisibility.Plot)for(p=c.legendItemLength(),l=0;l<p;l++)h=c.measureLegendItem(i,l),r?(o+h.height>f?(e.width+=s,s=0,e.height<o&&(e.height=o),o=0):o+=h.height,s<h.width&&(s=h.width)):(s+h.width>u?(e.height+=o,o=0,e.width<s&&(e.width=s),s=h.width):s+=h.width,o<h.height&&(o=h.height));return r?(e.height<o&&(e.height=o),e.width+=s):(e.width<s&&(e.width=s),e.height+=o),e},i.prototype._renderSeriesChart=function(i,r,u,f,e){for(var o,h,k,y,c,s,w,b=this._chart.series,d=b.length,l=r.clone(),a=0,v=0,p=0;p<d;p++)if(o=n.tryCast(b[p],n.chart.SeriesBase),o){if(h=o.visibility,!o.name||h==t.SeriesVisibility.Hidden||h==t.SeriesVisibility.Plot){o._legendElement=null;this._areas.push(null);continue}for(k=o.legendItemLength(),y=i.startGroup(o.cssClass),h==t.SeriesVisibility.Legend?(y.setAttribute('opacity','0.5'),o._legendElement=y):o._legendElement=h==t.SeriesVisibility.Visible?y:null,c=0;c<k;c++)s=o.measureLegendItem(i,c),u?r.y+s.height>l.y+e&&(r.y=l.y,r.x+=v,v=0):r.x+s.width>l.x+f&&(r.x=l.x,r.y+=a,a=0),w=new n.Rect(r.x,r.y,s.width,s.height),(h==t.SeriesVisibility.Legend||h==t.SeriesVisibility.Visible)&&o.drawLegendItem(i,w,c),this._areas.push(w),u?(r.y+=s.height,v<s.width&&(v=s.width)):(r.x+=s.width,a<s.height&&(a=s.height));i.endGroup()}},i.prototype._getDesiredSizePieChart=function(t,i,r,u){var o=new n.Size,a=this._chart,c=new n.Size(r,u),v=a._getLabelsForLegend(),l=v.length,f=0,e=0,h,s;for(this._colRowLens=[],h=0;h<l;h++)s=a._measureLegendItem(t,v[h]),i?(f<s.width&&(f=s.width),e+s.height>c.height&&(o.height=c.height,this._colRowLens.push(f),e=0,f=0),e+=s.height,h===l-1&&(o.height<e&&(o.height=e),this._colRowLens.push(f))):(e<s.height&&(e=s.height),f+s.width>c.width&&(o.width=c.width,this._colRowLens.push(e),e=0,f=0),f+=s.width,h===l-1&&(o.width<f&&(o.width=f),this._colRowLens.push(e))),i?o.width=this._colRowLens.reduce(function(n,t){return n+t},0):o.height=this._colRowLens.reduce(function(n,t){return n+t},0);return o},i.prototype._renderPieChart=function(t,i,r){for(var f,l,o=this._chart,s=o._rectLegend,c=o._getLabelsForLegend(),a=c.length,h=0,u=i.clone(),e=0;e<a;e++)f=o._measureLegendItem(t,c[e]),r?u.y+f.height>s.top+s.height+1&&(u.x+=this._colRowLens[h],h++,u.y=i.y):u.x+f.width>s.left+s.width+1&&(u.y+=this._colRowLens[h],h++,u.x=i.x),l=new n.Rect(u.x,u.y,f.width,f.height),o._drawLegendItem(t,l,e,c[e]),this._areas.push(l),r?u.y+=f.height:u.x+=f.width},i.prototype._getPosition=function(n,i){return this.position==t.Position.Auto?n>=i?t.Position.Right:t.Position.Bottom:this.position},i.prototype._render=function(i,r,u,f,e){this._areas=[];var o=u==t.Position.Right||u==t.Position.Left;if(i.fill='transparent',i.stroke=null,i.drawRect(r.x,r.y,this._sz.width,this._sz.height),this._chart instanceof n.chart.FlexChartCore)this._renderSeriesChart(i,r,o,f,e);else if(this._chart instanceof n.chart.FlexPie)this._renderPieChart(i,r,o);else return null},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(r[i]&&t.FlexChartCore._contains(r[i],n))return i;return null},i}();t.Legend=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.DataLabel=9]="DataLabel";n[n.None=10]="None"})(t.ChartElement||(t.ChartElement={}));var i=t.ChartElement,r=function(){function r(n,t,r){this._pointIndex=null;this._chartElement=i.None;this._chart=n;this._pt=t;this._chartElement=r}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"item",{get:function(){if(this._item==null&&this.pointIndex!==null)if(this.series!=null)this._item=this.series._getItem(this.pointIndex);else if(this._chart instanceof t.FlexPie){var i=this._chart,n=null;n=i._cv!=null?i._cv.items:i.itemsSource;n&&this.pointIndex<n.length&&(this._item=n[this.pointIndex])}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._values[this.pointIndex]}return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){if(this._name===undefined){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._labels[this.pointIndex]}return this.series.name}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),r.prototype._setData=function(n,t){this._series=n;this._pointIndex=t},r.prototype._setDataPoint=function(i){if(i=n.asType(i,t._DataPoint,!0),i){this._pointIndex=i.pointIndex;var u=n.asType(this._chart,n.chart.FlexChartCore,!0),r=i.seriesIndex;r!==null&&r>=0&&r<u.series.length&&(this._series=u.series[r]);i.item!=null&&(this._item=i.item);i.x!=null&&(this._x=i.x);i.y!=null&&(this._y=i.y);i.xfmt!=null&&(this.__xfmt=i.xfmt);i.yfmt!=null&&(this.__yfmt=i.yfmt);i.name!=null&&(this._name=i.name)}},r.prototype._getValue=function(i,r){var s,o,h;if(this._chart instanceof t.FlexPie)return s=this._chart,s._values[this.pointIndex];var u=null,f=this._chart,e=this.pointIndex,c=f._isRotated();return this.series!==null&&e!==null&&(o=this.series.getValues(i),h=this.series.getDataType(i),o&&this.pointIndex<o.length?(u=o[this.pointIndex],h!=n.DataType.Date||r||(u=new Date(u))):i==1&&(f._xlabels&&f._xlabels.length>0&&e<f._xlabels.length?u=f._xlabels[e]:f._xvals&&e<f._xvals.length&&(u=f._xvals[e],f._xDataType!=n.DataType.Date||r||(u=new Date(u))))),u!==null&&r&&(c?i==0?u=f.axisX._formatValue(u):i==1&&(u=f.axisY._formatValue(u)):i==0?u=f.axisY._formatValue(u):i==1&&(u=f.axisX._formatValue(u))),u},r}();t.HitTestInfo=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t=function(){function n(){}return n.standard=['#88bde6','#fbb258','#90cd97','#f6aac9','#bfa554','#bc99c7','#eddd46','#f07e6e','#8c8c8c'],n.cocoa=['#466bb0','#c8b422','#14886e','#b54836','#6e5944','#8b3872','#73b22b','#b87320','#141414'],n.coral=['#84d0e0','#f48256','#95c78c','#efa5d6','#ba8452','#ab95c2','#ede9d0','#e96b7d','#888888'],n.dark=['#005fad','#f06400','#009330','#e400b1','#b65800','#6a279c','#d5a211','#dc0127','#000000'],n.highcontrast=['#ff82b0','#0dda2c','#0021ab','#bcf28c','#19c23b','#890d3a','#607efd','#1b7700','#000000'],n.light=['#ddca9a','#778deb','#cb9fbb','#b5eae2','#7270be','#a6c7a7','#9e95c7','#95b0c7','#9b9b9b'],n.midnight=['#83aaca','#e37849','#14a46a','#e097da','#a26d54','#a584b7','#d89c54','#e86996','#2c343b'],n.modern=['#2d9fc7','#ec993c','#89c235','#e377a4','#a68931','#a672a6','#d0c041','#e35855','#68706a'],n.organic=['#9c88d9','#a3d767','#8ec3c0','#e9c3a9','#91ab36','#d4ccc0','#61bbd8','#e2d76f','#80715a'],n.slate=['#7493cd','#f99820','#71b486','#e4a491','#cb883b','#ae83a4','#bacc5c','#e5746a','#505d65'],n.zen=['#7bb5ae','#e2d287','#92b8da','#eac4cb','#7b8bbd','#c7d189','#b9a0c8','#dfb397','#a9a9a9'],n.cyborg=['#2a9fd6','#77b300','#9933cc','#ff8800','#cc0000','#00cca3','#3d6dcc','#525252','#000000'],n.superhero=['#5cb85c','#f0ad4e','#5bc0de','#d9534f','#9f5bde','#46db8c','#b6b86e','#4e5d6c','#2b3e4b'],n.flatly=['#18bc9c','#3498db','#f39c12','#6cc1be','#99a549','#8f54b5','#e74c3c','#8a9899','#2c3e50'],n.darkly=['#375a7f','#00bc8c','#3498db','#f39c12','#e74c3c','#8f61b3','#b08725','#4a4949','#000000'],n.cerulan=['#033e76','#87c048','#59822c','#53b3eb','#fc6506','#d42323','#e3bb00','#cccccc','#222222'],n}();n.Palettes=t})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0],],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;i<=this._len-1;i+=f)n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n);return{xs:r,ys:u}},t}();t._Spline=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r,u,f,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Center=5]="Center"})(t.LabelPosition||(t.LabelPosition={}));r=t.LabelPosition,function(n){n[n.None=0]="None";n[n.Inside=1]="Inside";n[n.Center=2]="Center";n[n.Outside=3]="Outside"}(t.PieLabelPosition||(t.PieLabelPosition={}));u=t.PieLabelPosition;f=function(n){function t(t,i,r,u){n.call(this,t);this.cancel=!1;this._ht=i;this._pt=r;this._text=u}return __extends(t,n),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(t.RenderEventArgs);t.DataLabelRenderEventArgs=f;i=function(){function t(){this.rendering=new n.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(n){return this.rendering.raise(this,n),n.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}();t.DataLabelBase=i;e=function(t){function i(){t.apply(this,arguments);this._pos=r.Top}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,r),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.DataLabel=e;o=function(t){function i(){t.apply(this,arguments);this._pos=u.Center}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,u),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.PieDataLabel=o})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var o=function(){function t(){this._moveMarker=function(n){var r=n.currentTarget,u=this._markers,t=r.getAttribute('data-markerIndex'),i;t!=null&&(i=u[t],i.forEach(function(t){t._moveMarker(n)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var r=t.chart.hostElement,u=this._markers,f=r.getAttribute('data-markerIndex'),e,i;f!=null?(i=u[f],i&&n.isArray(i)?i.push(t):(u[f]=[t],this._bindMoveEvent(r))):(e=u.length,i=[t],u.push(i),r.setAttribute('data-markerIndex',e),this._bindMoveEvent(r))},t.prototype.detach=function(n){var u=n.chart.hostElement,r=this._markers,f=u.getAttribute('data-markerIndex'),t,i;f!=null&&(i=r[f],t=i.indexOf(n),t>-1&&i.splice(t,1),i.length===0&&(t=r.indexOf(i),t>-1&&(r[t]=undefined),this._unbindMoveEvent(u)))},t.prototype._unbindMoveEvent=function(n){var t=this._bindMoveMarker;n.removeEventListener('mousemove',t);'ontouchstart'in window&&n.removeEventListener('touchmove',t)},t.prototype._bindMoveEvent=function(n){var t=this._bindMoveMarker;n.addEventListener('mousemove',t);'ontouchstart'in window&&n.addEventListener('touchmove',t)},t}(),f=new o,i,r,u,e;(function(n){n[n.None=0]="None";n[n.Vertical=1]="Vertical";n[n.Horizontal=2]="Horizontal";n[n.Both=3]="Both"})(t.LineMarkerLines||(t.LineMarkerLines={}));i=t.LineMarkerLines,function(n){n[n.None=0]="None";n[n.Move=1]="Move";n[n.Drag=2]="Drag"}(t.LineMarkerInteraction||(t.LineMarkerInteraction={}));r=t.LineMarkerInteraction,function(n){n[n.Auto=2]="Auto";n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Bottom=4]="Bottom";n[n.Top=6]="Top"}(t.LineMarkerAlignment||(t.LineMarkerAlignment={}));u=t.LineMarkerAlignment;e=function(){function e(t,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this.positionChanged=new n.Event;var r=this;r._chart=t;t.rendered.addHandler(r._initialize,r);r._resetDefaultValue();n.copy(this,i);r._initialize()}return Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){var i=this;t!==i._isVisible&&(i._isVisible=n.asBoolean(t),i._marker)&&i._toggleVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){var i=this;t!==i._seriesIndex&&(i._seriesIndex=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var i=this;if(t!==i._horizontalPosition){if(i._horizontalPosition=n.asNumber(t,!0),i._horizontalPosition<0||i._horizontalPosition>1)throw'horizontalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){var n=this,t=n._targetPoint.x-n._plotRect.left,i=n._chart.axisX;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){var n=this,t=n._targetPoint.y-n._plotRect.top,i=n._chart.axisY;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=n.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var i=this;if(t!==i._verticalPosition){if(i._verticalPosition=n.asNumber(t,!0),i._verticalPosition<0||i._verticalPosition>1)throw'verticalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(n){var t=this;n!==t._alignment&&(t._alignment=n,t._marker)&&t._updatePositionByAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},set:function(t){var r=this;t!==r._lines&&(r._lines=n.asEnum(t,i),r._marker)&&r._resetLinesVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interaction",{get:function(){return this._interaction},set:function(t){var i=this;t!==i._interaction&&(i._marker&&i._detach(),i._interaction=n.asEnum(t,r),i._marker&&i._attach(),i._toggleElesDraggableClass(i._interaction===r.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var u=this;t!==u._dragContent&&(u._dragContent=n.asBoolean(t));n.toggleClass(u._dragEle,e._CSS_LINE_DRAGGABLE,u._interaction===r.Drag&&u._dragContent&&u._lines!==i.None)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=n.asBoolean(t))},enumerable:!0,configurable:!0}),e.prototype.onPositionChanged=function(n){this.positionChanged.raise(this,n)},e.prototype.remove=function(){var n=this,t=n._chart;n._marker&&(t.rendered.removeHandler(n._initialize,n),n._detach(),n._removeMarker(),n._wrapperMoveMarker=null,n._wrapperMousedown=null,n._wrapperMouseup=null)},e.prototype._attach=function(){var t=this,i=t._chart.hostElement;this._interaction!==r.None?n.addClass(i,e._CSS_TOUCH_DISABLED):n.removeClass(i,e._CSS_TOUCH_DISABLED);f.attach(t);t._attachDrag()},e.prototype._attachDrag=function(){var n=this;n._interaction===r.Drag&&(n._wrapperMousedown||(n._wrapperMousedown=n._onMousedown.bind(n)),n._wrapperMouseup||(n._wrapperMouseup=n._onMouseup.bind(n)),n._toggleDragEventAttach(!0))},e.prototype._detach=function(){var t=this;n.removeClass(t._chart.hostElement,e._CSS_TOUCH_DISABLED);f.detach(t);t._detachDrag()},e.prototype._detachDrag=function(){var n=this;n._interaction===r.Drag&&n._toggleDragEventAttach(!1)},e.prototype._toggleDragEventAttach=function(n){var t=this,r=t._chart.hostElement,i=n?'addEventListener':'removeEventListener';r[i]('mousedown',t._wrapperMousedown);document[i]('mouseup',t._wrapperMouseup);'ontouchstart'in window&&r[i]('touchstart',t._wrapperMousedown);'ontouchend'in window&&document[i]('touchend',t._wrapperMouseup)},e.prototype._onMousedown=function(t){var i=this,u=i._getEventPoint(t),f,o,s,h,c;i._interaction===r.Drag&&(f=n.getElementRect(i._hLine),h=!(f.width===0||f.height===0),o=n.getElementRect(i._vLine),c=!(o.width===0||o.height===0),s=n.getElementRect(i._markerContent),i._dragContent&&i._pointInRect(u,s)?(i._capturedEle=i._markerContent,i._contentDragStartPoint=new n.Point(u.x,u.y),i._mouseDownCrossPoint=new n.Point(i._targetPoint.x,i._targetPoint.y)):h&&(Math.abs(f.top-u.y)<=i._dragThreshold||Math.abs(u.y-f.top-f.height)<=i._dragThreshold||u.y>=f.top&&u.y<=f.top+f.height)?(i._capturedEle=i._hLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,e._CSS_LINE_DRAGGABLE)):c&&(Math.abs(o.left-u.x)<=i._dragThreshold||Math.abs(u.x-o.left-o.width)<=i._dragThreshold||u.x>=o.left&&u.x<=o.left+o.width)&&(i._capturedEle=i._vLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,e._CSS_LINE_DRAGGABLE)),t.preventDefault())},e.prototype._onMouseup=function(){var t=this,r=t._alignment===u.Auto&&t._capturedEle===t._markerContent&&t._lines!==i.None;t._capturedEle=undefined;t._contentDragStartPoint=undefined;t._mouseDownCrossPoint=undefined;r&&(t._updatePositionByAlignment(),t._updatePositionByAlignment());n.removeClass(t._chart.hostElement,e._CSS_LINE_DRAGGABLE)},e.prototype._moveMarker=function(u){var f=this,h=f._chart,e=f._getEventPoint(u),o=f._plotRect,a=f._interaction===r.Drag,v=f._lines===i.Horizontal,y=f._lines===i.Vertical,c=f._seriesIndex,l,p=n.getElementRect(h.hostElement),s,w,b,k,d;if(o&&f._isVisible&&f._interaction!==r.None&&(f._interaction!==r.Drag||f._capturedEle&&f._lines!==i.None)){if(a&&(f._contentDragStartPoint?(e.x=v?f._targetPoint.x:f._mouseDownCrossPoint.x+e.x-f._contentDragStartPoint.x,e.y=y?f._targetPoint.y:f._mouseDownCrossPoint.y+e.y-f._contentDragStartPoint.y):v||!f._dragLines&&f._capturedEle===f._hLine?e.x=f._targetPoint.x:(y||!f._dragLines&&f._capturedEle===f._vLine)&&(e.y=f._targetPoint.y)),a&&f._lines===i.Horizontal||!f._dragLines&&f._capturedEle===f._hLine){if(e.y<=o.top||e.y>=o.top+o.height)return}else if(a&&f._lines===i.Vertical||!f._dragLines&&f._capturedEle===f._vLine){if(e.x<=o.left||e.x>=o.left+o.width)return}else if(e.x<=o.left||e.y<=o.top||e.x>=o.left+o.width||e.y>=o.top+o.height)return;if(c!=null&&c>=0&&c<h.series.length){if(l=h.series[c],s=l.hitTest(new n.Point(e.x,NaN)),s==null||s.x==null||s.y==null)return;w=l.axisX||h.axisX;b=l._getAxisY();k=n.isDate(s.x)?t.FlexChart._toOADate(s.x):s.x;d=n.isDate(s.y)?t.FlexChart._toOADate(s.y):s.y;e.x=w.convert(k)+p.left;e.y=b.convert(d)+p.top}f._updateMarkerPosition(e);u.preventDefault()}},e.prototype._show=function(n){var t=n?n:this._marker;t.style.display='block'},e.prototype._hide=function(n){var t=n?n:this._marker;t.style.display='none'},e.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},e.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0;t._alignment=u.Auto;t._lines=i.None;t._interaction=r.None;t._horizontalPosition=null;t._verticalPosition=null;t._content=null;t._seriesIndex=null;t._dragThreshold=15;t._dragContent=!1;t._dragLines=!1;t._targetPoint=new n.Point},e.prototype._initialize=function(){var i=this,r=i._chart.hostElement.querySelector("."+t.FlexChart._CSS_PLOT_AREA),u;i._plot=r;i._marker||i._createMarker();r&&(i._plotRect=n.getElementRect(r),u=r.getBBox(),i._plotRect.width=u.width,i._plotRect.height=u.height,i._updateMarkerSize(),i._updateLinesSize());i._updateMarkerPosition();i._wrapperMoveMarker=i._moveMarker.bind(i);i._attach()},e.prototype._createMarker=function(){var t=this,i,r;i=document.createElement('div');n.addClass(i,e._CSS_MARKER);r=t._getContainer();r.appendChild(i);t._markerContainer=r;t._marker=i;t._createChildren()},e.prototype._removeMarker=function(){var n=this,t=n._markerContainer;t.removeChild(n._marker);n._content=null;n._hLine=null;n._vLine=null;t.hasChildNodes()||(n._chart.hostElement.removeChild(n._markerContainer),n._markerContainer=null);n._marker=null},e.prototype._getContainer=function(){var n=this._chart.hostElement.querySelector(e._CSS_MARKER_CONTAINER);return n||(n=this._createContainer()),n},e.prototype._createContainer=function(){var t=document.createElement('div'),i=this._chart.hostElement;return n.addClass(t,e._CSS_MARKER_CONTAINER),i.insertBefore(t,i.firstChild),t},e.prototype._createChildren=function(){var t=this,u=t._marker,f,o,s,i;i=document.createElement('div');i.style.position='absolute';i.style.height='100%';i.style.width='100%';u.appendChild(i);t._dragEle=i;f=document.createElement('div');n.addClass(f,e._CSS_MARKER_CONTENT);u.appendChild(f);t._markerContent=f;o=document.createElement('div');n.addClass(o,e._CSS_MARKER_HLINE);u.appendChild(o);t._hLine=o;s=document.createElement('div');n.addClass(s,e._CSS_MARKER_VLINE);u.appendChild(s);t._vLine=s;t._toggleElesDraggableClass(t._interaction===r.Drag);t._resetLinesVisibility()},e.prototype._toggleElesDraggableClass=function(t){var r=this;n.toggleClass(r._hLine,e._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._vLine,e._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._dragEle,e._CSS_LINE_DRAGGABLE,t&&r._dragContent&&r._lines!==i.None)},e.prototype._updateMarkerSize=function(){var t=this,i=t._plotRect,r=t._chart.hostElement,u=window.getComputedStyle(r,null),f=n.getElementRect(r);t._marker&&(t._marker.style.marginTop=i.top-f.top-(parseFloat(u.getPropertyValue('padding-top'))||0)+'px',t._marker.style.marginLeft=i.left-f.left-(parseFloat(u.getPropertyValue('padding-left'))||0)+'px')},e.prototype._updateLinesSize=function(){var n=this,t=n._plotRect;n._hLine&&n._vLine&&(n._hLine.style.width=t.width+'px',n._vLine.style.height=t.height+'px')},e.prototype._resetLinesVisibility=function(){var n=this;n._hLine&&n._vLine&&(n._hide(n._hLine),n._hide(n._vLine),(n._lines===i.Horizontal||n._lines===i.Both)&&n._show(n._hLine),(n._lines===i.Vertical||n._lines===i.Both)&&n._show(n._vLine))},e.prototype._updateMarkerPosition=function(n){var t=this,f=t._plotRect,e=t._targetPoint,i,u,o=!1,s=t._interaction===r.Drag;t._plot&&(i=f.left+f.width*(t._horizontalPosition||0),u=f.top+f.height*(t._verticalPosition||0),t._horizontalPosition==null&&n&&(i=n.x),t._verticalPosition==null&&n&&(u=n.y),(i!==e.x||u!==e.y)&&(o=!0),e.x=i,e.y=u,t._toggleVisibility(),t._content&&t._updateContent(),o&&t._raisePositionChanged(i,u),t._updatePositionByAlignment(n?!0:!1))},e.prototype._updateContent=function(){var n=this,r=n._chart,t=n._targetPoint,u=r.hitTest(t),i;i=n._content.call(null,u,t);n._markerContent.innerHTML=i||''},e.prototype._raisePositionChanged=function(t,i){var r=this._plotRect;this.onPositionChanged(new n.Point(t,i))},e.prototype._updatePositionByAlignment=function(){var n=this,c=n._alignment,f=n._targetPoint,s=n._marker,t=0,i=0,o=s.clientWidth,h=s.clientHeight,e=n._plotRect,l=12;n._plot&&(!n._capturedEle||n._capturedEle&&n._capturedEle!==n._markerContent?(c===u.Auto?(f.x+o+l>e.left+e.width&&f.x-o>=0&&(i=o),t=h,f.y-h<e.top&&(t=0)):((1&c)==1&&(i=o),(2&c)==2&&(t=h)),n._interaction===r.Move&&t===0&&i===0&&(i=-l)):(parseInt(n._hLine.style.top)>0&&(t=h),parseInt(n._vLine.style.left)>0&&(i=o)),s.style.left=f.x-i-e.left+'px',s.style.top=f.y-t-e.top+'px',n._hLine.style.top=t+'px',n._hLine.style.left=e.left-f.x+i+'px',n._vLine.style.top=e.top-f.y+t+'px',n._vLine.style.left=i+'px')},e.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},e.prototype._pointInRect=function(n,t){return!n||!t?!1:n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},e._CSS_MARKER='wj-chart-linemarker',e._CSS_MARKER_HLINE='wj-chart-linemarker-hline',e._CSS_MARKER_VLINE='wj-chart-linemarker-vline',e._CSS_MARKER_CONTENT='wj-chart-linemarker-content',e._CSS_MARKER_CONTAINER='wj-chart-linemarker-container',e._CSS_LINE_DRAGGABLE='wj-chart-linemarker-draggable',e._CSS_TOUCH_DISABLED='wj-flexchart-touch-disabled',e}();t.LineMarker=e})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var f=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},set:function(n){n!==this._dataX&&(this._dataX=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},set:function(n){n!==this._dataY&&(this._dataY=n)},enumerable:!0,configurable:!0}),n}(),i,e,o,u,r,s;t._DataPoint=f,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(t._MeasureOption||(t._MeasureOption={}));i=t._MeasureOption;e=function(){function t(n){this._rect=n}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,r){var u=t.x-n.x,f=t.y-n.y;return r==i.X?Math.abs(u):r==i.Y?Math.abs(f):Math.sqrt(u*u+f*f)},t.prototype.distance=function(t){var u=i.XY,r;return t.x===null?u=i.Y:t.y===null&&(u=i.X),r=this._rect,t.x<r.left?t.y<r.top?this.pointDistance(t,new n.Point(r.left,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.left,r.bottom),u):u==i.Y?0:r.left-t.x:t.x>r.right?t.y<r.top?this.pointDistance(t,new n.Point(r.right,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.right,r.bottom),u):u==i.Y?0:t.x-r.right:u==i.X?0:t.y<r.top?r.top-t.y:t.y>r.bottom?t.y-r.bottom:0},t}();t._RectArea=e;o=function(){function n(n,t){this._center=n;this.setRadius(t)}return n.prototype.setRadius=function(n){this._rad=n;this._rad2=n*n},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}();t._CircleArea=o;u=function(){function i(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return i.prototype.contains=function(){return!1},i.prototype.distance=function(i){for(var f,u=NaN,r=0;r<this._x.length-1;r++)f=t.FlexChart._dist(i,new n.Point(this._x[r],this._y[r]),new n.Point(this._x[r+1],this._y[r+1])),(isNaN(u)||f<u)&&(u=f);return u},i}();t._LinesArea=u;r=function(){function n(){}return n}();t._HitResult=r;s=function(){function i(n){this._map={};this._chart=n}return i.prototype.add=function(n,t){this._map[t]&&(n.tag||(n.tag=new f(t,NaN,NaN,NaN)),this._map[t].push(n))},i.prototype.clear=function(){var i,n;for(this._map={},i=this._chart.series,n=0;n<i.length;n++)i[n].hitTest===t.Series.prototype.hitTest&&(this._map[n]=[])},i.prototype.hitTest=function(t,i){var e,o,v,s,h,a,c;i===void 0&&(i=!1);var l=null,f=Number.MAX_VALUE,y=this._chart.series;for(e=y.length-1;e>=0;e--)if(o=this._map[e],o){for(v=o.length,s=v-1;s>=0;s--)if((h=o[s],!n.tryCast(h,u)||i)&&(a=h.distance(t),a<f&&(f=a,l=h,f==0)))break;if(f==0)break}return l?(c=new r,c.area=l,c.distance=f,c):null},i.prototype.hitTestSeries=function(n,t){var e=null,i=Number.MAX_VALUE,o=this._map[t],c,u,s,h,f;if(o)for(c=o.length,u=c-1;u>=0;u--)if(s=o[u],h=s.distance(n),h<i&&(i=h,e=s,i==0))break;return e?(f=new r,f.area=e,f.distance=i,f):null},i}();t._HitTester=s})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return i.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},i.prototype._renderLabels=function(i,r,u,f,e){var a=u.length,o=f.dataLabel,v=o.border,s=o.offset,y=o.connectingLine,h,c,l;for(s===undefined&&(s=y?16:0),v&&(s-=2),h=0;h<a;h++)c=u[h],l=n.asType(c.tag,t._DataPoint,!0),l&&this._renderLabel(i,c,l,f,o,r,s,e)},i.prototype._renderLabel=function(n,i,r,u,f,e,o,s){var p=f.position,w=f.border,b=f.connectingLine,a=new t.HitTestInfo(u,h),c,h,l,v,y;(a._setDataPoint(r),c=u._getLabelContent(a,f.content),h=this._getLabelPoint(e,r),this._getPointAndPosition(h,p,i,u),u._plotRect.contains(h))&&(l=new t.DataLabelRenderEventArgs(n,a,h,c),f.onRendering(l)||(c=l.text,h=l.point,v=this._renderLabelAndBorder(n,c,p,o,h,b,2,w),v&&(y=new t._RectArea(v),y.tag=r,s.push(y))))},i.prototype._getPointAndPosition=function(n,i,r,u){if(r instanceof t._RectArea){var f=r;u._isRotated()?n.y=f.rect.top+.5*f.rect.height:n.x=f.rect.left+.5*f.rect.width}},i.prototype._getLabelPoint=function(t,i){var r=t._getAxisX(),u=t._getAxisY();return new n.Point(r.convert(i.dataX),u.convert(i.dataY))},i.prototype._renderLabelAndBorder=function(n,i,r,u,f,e,o,s){var h,c='wj-data-label',l='wj-data-label-line';switch(r){case t.LabelPosition.Top:e&&n.drawLine(f.x,f.y,f.x,f.y-u,l);f.y-=o+u;h=t.FlexChart._renderText(n,i,f,1,2,c);break;case t.LabelPosition.Bottom:e&&n.drawLine(f.x,f.y,f.x,f.y+u,l);f.y+=o+u;h=t.FlexChart._renderText(n,i,f,1,0,c);break;case t.LabelPosition.Left:e&&n.drawLine(f.x,f.y,f.x-u,f.y,l);f.x-=o+u;h=t.FlexChart._renderText(n,i,f,2,1,c);break;case t.LabelPosition.Right:e&&n.drawLine(f.x,f.y,f.x+u,f.y,l);f.x+=o+u;h=t.FlexChart._renderText(n,i,f,0,1,c);break;case t.LabelPosition.Center:h=t.FlexChart._renderText(n,i,f,1,1,c)}return s&&h&&n.drawRect(h.left-o,h.top-o,h.width+2*o,h.height+2*o,'wj-data-label-border'),h},i.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},i.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},i.prototype.isValid=function(i,r){return t._DataInfo.isValid(i)&&t._DataInfo.isValid(r)&&t.FlexChart._contains(this.chart._plotRect,new n.Point(i,r))},i.prototype.load=function(){},i.prototype.unload=function(){},i}();t._BasePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments);this.origin=0;this.width=.7;this.isVolume=!1;this._volHelper=null;this.stackPosMap={};this.stackNegMap={};this.stacking=t.Stacking.None}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={};this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.adjustLimits=function(i){this.dataInfo=i;var e=i.getMinX(),r=i.getMinY(),o=i.getMaxX(),u=i.getMaxY(),f=i.getDeltaX();return f<=0&&(f=1),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),this.rotated?(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(r,e-.5*f,u-r,o-e+f)):(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(e-.5*f,r,o-e+f,u-r))},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ht=[],rt=this.chart.series.indexOf(f),ot=n.asType(f,t.SeriesBase),wi=this.chart.options,tt=this.width,it=0,gt,ct,nt,ei,ri,ai,a,l,v,y,w,p,li,k,d,b,ui,c,dt,g,pi,ft;o=o||0;s=s||1;wi&&wi.groupWidth&&(gt=wi.groupWidth,n.isNumber(gt)?(nt=n.asNumber(gt),isFinite(nt)&&nt>0&&(it=nt,tt=1)):n.isString(gt)&&(ct=n.asString(gt),ct&&ct.indexOf('%')>=0?(ct=ct.replace('%',''),nt=parseFloat(ct),isFinite(nt)&&(nt<0?nt=0:nt>100&&(nt=100),it=0,tt=nt/100)):(nt=parseFloat(ct),isFinite(nt)&&nt>0&&(it=nt,tt=1))));var ni=tt/s,bi=ot._getAxisY()._uniqueId,vt=this.stackNegMap[bi],yt=this.stackPosMap[bi],fi=f.getValues(0),et=f.getValues(1);if(fi){et||(et=this.dataInfo.getXVals());et&&(ei=this.dataInfo.getDeltaX(),ei>0&&(tt*=ei,ni*=ei));var lt=ot._getSymbolFill(rt),pt=ot._getAltSymbolFill(rt)||lt,at=ot._getSymbolStroke(rt),wt=ot._getAltSymbolStroke(rt)||at,bt=fi.length;et!=null&&(bt=Math.min(bt,et.length));var ut=this.origin,st=0,oi,si,ti=this.stacking!=t.Stacking.None,ii=this.stacking==t.Stacking.Stacked100pc;if(ot._getChartType()!==undefined&&(ti=ii=!1),this.rotated){ut<r.actualMin?ut=r.actualMin:ut>r.actualMax&&(ut=r.actualMax);ot._isCustomAxisY()&&(ti=ii=!1);var kt=r.convert(ut),vi=u.actualMin,yi=u.actualMax;for(a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a))),this._getSymbolStyles&&(y=this._getSymbolStyles(a),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.fill:at,wt=y&&y.stroke?y.fill:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(d=l-.5*tt,b=l+.5*tt,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],w=r.convert(k),p=r.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],w=r.convert(k),p=r.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(p,u.convert(l)));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.height,g<0&&(g=0),pi=c.top+.5*c.height,c.top+=(pi-c.top)*g,c.height=Math.min(it,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(p,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,k+v,l);this.hitTester.add(ft,rt)}else{if(d=l-.5*tt+o*ni,b=l-.5*tt+(o+1)*ni,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ui=r.convert(v);c=new n.Rect(Math.min(ui,kt),Math.min(d,b),Math.abs(kt-ui),Math.abs(b-d));h&&ht.push(new n.Point(ui,(d+b)/2));it>0&&(dt=it/s,g=1-dt/c.height,g<0&&(g=0),pi=u.convert(l),c.top+=(pi-c.top)*g,c.height=Math.min(dt,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(ui,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,v,l);this.hitTester.add(ft,rt)}}else{ut<u.actualMin?ut=u.actualMin:ut>u.actualMax&&(ut=u.actualMax);var kt=u.convert(ut),hi=r.actualMin,ci=r.actualMax;for(ot._isCustomAxisY()&&(ti=ii=!1),a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a,bt))),this._getSymbolStyles&&(y=this._getSymbolStyles(a,bt),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.stroke:at,wt=y&&y.stroke?y.stroke:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(w=l-.5*tt,p=l+.5*tt,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],d=u.convert(k),b=u.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],d=u.convert(k),b=u.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(r.convert(l),b));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.width,g<0&&(g=0),ai=c.left+.5*c.width,c.left+=(ai-c.left)*g,c.width=Math.min(it,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,b));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,k+v);this.hitTester.add(ft,rt)}else{if(w=l-.5*tt+o*ni,p=l-.5*tt+(o+1)*ni,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ri=u.convert(v);c=new n.Rect(Math.min(w,p),Math.min(ri,kt),Math.abs(p-w),Math.abs(kt-ri));h&&ht.push(new n.Point((w+p)/2,ri));it>0&&(dt=it/s,g=1-dt/c.width,g<0&&(g=0),ai=r.convert(l),c.left+=(ai-c.left)*g,c.width=Math.min(dt,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,ri));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,v);this.hitTester.add(ft,rt)}}h&&ht&&ht.length&&h(ht)}},r.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},r.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},r}(t._BasePlotter);t._BarPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this.hasSymbols=!1;this.hasLines=!0;this.isSpline=!1;this.stacking=t.Stacking.None;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&!this.chart.axisY.logBase&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var rt=[],y=n.asType(f,t.SeriesBase),v=this.chart.series.indexOf(f),tt=f.getValues(0),d=f.getValues(1),it,et,bt,ot,at,kt,vt,nt,p,k,st,c,l,a;if(tt){d||(d=this.dataInfo.getXVals());var ht=t._BasePlotter.cloneStyle(f.style,['fill']),g=tt.length,yt=!0;d?g=Math.min(g,d.length):(yt=!1,d=new Array(g));var dt=this._DEFAULT_WIDTH,ut=y._getSymbolFill(v),gt=y._getAltSymbolFill(v)||ut,ct=y._getSymbolStroke(v),ni=y._getAltSymbolStroke(v)||ct,lt=y._getSymbolSize();i.stroke=ct;i.strokeWidth=dt;i.fill=ut;var w=[],b=[],ft=[],ti=this.rotated,pt=this.stacking!=t.Stacking.None&&!y._isCustomAxisY(),wt=this.stacking==t.Stacking.Stacked100pc&&!y._isCustomAxisY();for(y._getChartType()!==undefined&&(pt=wt=!1),it=this.chart.interpolateNulls,et=!1,c=0;c<g;c++)l=yt?d[c]:c,a=tt[c],t._DataInfo.isValid(l)&&t._DataInfo.isValid(a)?(pt&&(wt&&(bt=this.dataInfo.getStackedAbsSum(l),a=a/bt),a>=0?(ot=isNaN(this.stackPos[l])?0:this.stackPos[l],a=this.stackPos[l]=ot+a):(ot=isNaN(this.stackNeg[l])?0:this.stackNeg[l],a=this.stackNeg[l]=ot+a)),ti?(at=new t._DataPoint(v,c,a,l),kt=r.convert(a),a=u.convert(l),l=kt):(at=new t._DataPoint(v,c,l,a),l=r.convert(l),a=u.convert(a)),isNaN(l)||isNaN(a)?(et=!0,it!==!0&&(w.push(undefined),b.push(undefined)),ft.push(!0)):(w.push(l),b.push(a),ft.push(!1),h&&rt.push(new n.Point(l,a)),vt=new t._CircleArea(new n.Point(l,a),.5*lt),vt.tag=at,this.hitTester.add(vt,v))):(et=!0,it!==!0&&(w.push(undefined),b.push(undefined)),ft.push(!0));if(nt=0,this.hasLines)if(i.fill=null,et&&it!==!0){for(p=[],k=[],c=0;c<g;c++)w[c]===undefined?(p.length>1&&(this._drawLines(i,p,k,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++),p=[],k=[]):(p.push(w[c]),k.push(b[c]));p.length>1&&(this._drawLines(i,p,k,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++)}else this._drawLines(i,w,b,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(w,b),v),nt++;if((this.hasSymbols||this.chart.itemFormatter)&&lt>0)for(i.fill=ut,st=0,c=0;c<g;c++)it&&ft[c]||(l=w[st],a=b[st],this.hasLines===!1&&(i.fill=tt[c]>0?ut:gt,i.stroke=tt[c]>0?ct:ni),this.isValid(l,a,r,u)&&(this._drawSymbol(i,l,a,lt,y,c),f._setPointIndex(c,nt),nt++),st++);h&&rt&&rt.length&&h(rt)}},r.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},r.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),s._setData(e,o),this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},r.prototype._drawDefaultSymbol=function(n,i,r,u,f,e){f==t.Marker.Dot?n.drawEllipse(i,r,.5*u,.5*u,null,e):f==t.Marker.Box&&n.drawRect(i-.5*u,r-.5*u,u,u,null,e)},r}(t._BasePlotter);t._LinePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this.stacking=t.Stacking.None;this.isSpline=!1;this.stackPos={};this.stackNeg={}}return __extends(r,i),r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),this.chart.axisY.logBase||(i-=f),u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ct=[],d=this.chart.series.indexOf(f),vt=f,yt=f.getValues(0),it=f.getValues(1),rt,pt,v,w,b,ri,k,g,ot,c,y,p,nt,ni;if(yt&&(rt=yt.length,rt)){it||(it=this.dataInfo.getXVals());pt=!0;it?it.length<rt&&(rt=it.length):(pt=!1,it=new Array(rt));var l=[],a=[],ut=[],ft=[],tt=this.stacking!=t.Stacking.None&&!vt._isCustomAxisY(),ti=this.stacking==t.Stacking.Stacked100pc&&!vt._isCustomAxisY();vt._getChartType()!==undefined&&(tt=ti=!1);var et=this.rotated,lt=!1,at=this.chart.interpolateNulls,st=null,ht=null,ii=this.chart._plotRect;for(p=0;p<rt;p++)v=pt?it[p]:p,w=yt[p],(st===null||v>st)&&(st=v),(ht===null||v<ht)&&(ht=v),t._DataInfo.isValid(v)&&t._DataInfo.isValid(w)?(b=et?u.convert(v):r.convert(v),tt&&(ti&&(ri=this.dataInfo.getStackedAbsSum(v),w=w/ri),k=0,w>=0?(k=isNaN(this.stackPos[v])?0:this.stackPos[v],w=this.stackPos[v]=k+w):(k=isNaN(this.stackNeg[v])?0:this.stackNeg[v],w=this.stackNeg[v]=k+w),et?(k<r.actualMin&&(k=r.actualMin),ut.push(r.convert(k)),ft.push(b)):(ut.push(b),k<u.actualMin&&(k=u.actualMin),ft.push(u.convert(k)))),et?(g=r.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined))):(l.push(g),a.push(b),t.FlexChart._contains(ii,new n.Point(g,b))&&(ot=new t._CircleArea(new n.Point(g,b),this._DEFAULT_SYM_SIZE),ot.tag=new t._DataPoint(d,p,w,v),this.hitTester.add(ot,d)))):(g=u.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined))):(l.push(b),a.push(g),t.FlexChart._contains(ii,new n.Point(b,g))&&(ot=new t._CircleArea(new n.Point(b,g),this._DEFAULT_SYM_SIZE),ot.tag=new t._DataPoint(d,p,v,w),this.hitTester.add(ot,d))))):(lt=!0,tt||at===!0||(l.push(undefined),a.push(undefined)));h&&l.forEach(function(t,i){t!=null&&ct.push(new n.Point(t,a[i]))});var wt=this._DEFAULT_WIDTH,bt=e._getColorLight(d),kt=e._getColor(d),dt=t._BasePlotter.cloneStyle(f.style,['fill']),gt=t._BasePlotter.cloneStyle(f.style,['stroke']);if(!tt&&at!==!0&&lt){for(c=[],y=[],p=0;p<rt;p++)l[p]===undefined?(c.length>1&&(this.isSpline&&(nt=this._convertToSpline(c,y),c=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(c,y,null,dt),this.hitTester.add(new t._LinesArea(c,y),d),et?(c.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(c.push(c[c.length-1],c[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(c,y,null,gt)),c=[],y=[]):(c.push(l[p]),y.push(a[p]));c.length>1&&(this.isSpline&&(nt=this._convertToSpline(c,y),c=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(c,y,null,dt),this.hitTester.add(new t._LinesArea(c,y),d),et?(c.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(c.push(c[c.length-1],c[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(c,y,null,gt))}else this.isSpline&&(nt=this._convertToSpline(l,a),l=nt.xs,a=nt.ys),tt?(this.isSpline&&(ni=this._convertToSpline(ut,ft),ut=ni.xs,ft=ni.ys),l=l.concat(ut.reverse()),a=a.concat(ft.reverse())):et?(l.push(r.convert(r.actualMin),r.convert(r.actualMin)),a.push(u.convert(st),u.convert(ht))):(l.push(r.convert(st),r.convert(ht)),a.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(l,a,null,gt),tt?(l=l.slice(0,l.length-ut.length),a=a.slice(0,a.length-ft.length)):(l=l.slice(0,l.length-2),a=a.slice(0,a.length-2)),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(l,a,null,dt),this.hitTester.add(new t._LinesArea(l,a),d);this._drawSymbols(i,f,d);h&&ct&&ct.length&&h(ct)}},r.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},r.prototype._drawSymbols=function(i,r,u){var o,f,e,h,s;if(this.chart.itemFormatter!=null)for(o=this.hitTester._map[u],f=0;f<o.length;f++)e=n.tryCast(o[f],t._CircleArea),e&&(h=e.tag,i.startGroup(),s=new t.HitTestInfo(this.chart,e.center,t.ChartElement.SeriesSymbol),s._setDataPoint(h),this.chart.itemFormatter(i,s,function(){}),i.endGroup())},r}(t._BasePlotter);t._AreaPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(r,i),r.prototype.adjustLimits=function(n,r){var v=this.getNumOption('minSize','bubble'),c,h,p,u,w,f,b,l,k,a;this._minSize=v?v:this._MIN_SIZE;c=this.getNumOption('maxSize','bubble');this._maxSize=c?c:this._MAX_SIZE;var y=this.chart.series,d=y.length,o=NaN,s=NaN;for(h=0;h<d;h++)if(p=y[h],u=p._getBindingValues(1),u)for(w=u.length,f=0;f<w;f++)t._DataInfo.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=i.prototype.adjustLimits.call(this,n,r),g=this.chart.axisX,nt=this.chart.axisY;return g.logBase<=0&&(b=r.width-this._maxSize,l=b/e.width,e.left-=this._maxSize*.5/l,e.width+=this._maxSize/l),nt.logBase<=0&&(k=r.height-this._maxSize,a=k/e.height,e.top-=this._maxSize*.5/a,e.height+=this._maxSize/a),e},r.prototype._drawSymbol=function(i,r,u,f,e,o){var d=this,l,a,v,y,f,b,p,s,k,h,c,w;if(this._minSize==null&&(l=this.getNumOption('minSize','bubble'),this._minSize=l?l:this._MIN_SIZE),this._maxSize==null&&(a=this.getNumOption('maxSize','bubble'),this._maxSize=a?a:this._MAX_SIZE),v=e._getItem(o),v&&(y=e._getBinding(1),y&&(f=v[y],t._DataInfo.isValid(f)&&(b=this._minValue==this._maxValue?1:Math.sqrt((f-this._minValue)/(this._maxValue-this._minValue)),f=this._minSize+(this._maxSize-this._minSize)*b,this.chart.itemFormatter?(p=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),p._setData(e,o),i.startGroup(),this.chart.itemFormatter(i,p,function(){d._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle),s=this.hitTester._map[this.chart.series.indexOf(e)],s!=null))))for(k=s.length,h=k-1;h>=0;h--)c=s[h],c.tag&&c.tag.pointIndex==o&&(w=n.tryCast(c,t._CircleArea),w&&w.setRadius(.5*f))},r}(t._LinePlotter);t._BubblePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(){i.apply(this,arguments);this.isCandle=!0;this.isArms=!1;this.isEqui=!1;this.isVolume=!1;this._volHelper=null;this._symWidth=.7}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.parseSymbolWidth=function(t){var u,r,i;this._isPixel=undefined;t&&(n.isNumber(t)?(u=n.asNumber(t),isFinite(u)&&u>0&&(this._symWidth=u,this._isPixel=!0)):n.isString(t)&&(r=n.asString(t),r&&r.indexOf('%')>=0?(r=r.replace('%',''),i=parseFloat(r),isFinite(i)&&(i<0?i=0:i>100&&(i=100),this._symWidth=i/100,this._isPixel=!1)):(i=parseFloat(t),isFinite(i)&&i>0&&(this._symWidth=i,this._isPixel=!0))))},r.prototype.adjustLimits=function(i){var a,u,s,v,h,tt,o,c,y;this.dataInfo=i;var f=i.getMinX(),r=i.getMinY(),p=i.getMaxX(),e=i.getMaxY(),l=i.getDeltaX(),it=this.chart._xDataType;l<=0&&(l=1);var w=this.chart.series,rt=w.length,b=0;for(this.parseSymbolWidth(this.symbolWidth),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),a=0;a<rt;a++)if(u=w[a],!u._isCustomAxisY()){var k=u._getBinding(1),d=u._getBinding(2),g=u._getBinding(3),nt=u._getLength();if(nt)for(s=u._getSymbolSize(),s>b&&(b=s),v=0;v<nt;v++)h=u._getItem(v),h&&(tt=[k?h[k]:null,d?h[d]:null,g?h[g]:null],tt.forEach(function(n){t._DataInfo.isValid(n)&&n!==null&&((isNaN(r)||n<r)&&(r=n),(isNaN(e)||n>e)&&(e=n))}))}return o=p-f,c=this.chart._plotRect,c&&c.width&&!this.isVolume&&(s+=2,y=c.width/(c.width-s)*o,f=f-.5*(y-o),o=y),it===n.DataType.Date&&this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?new n.Rect(f-.5*l,r,p-f+l,e-r):this.chart._isRotated()?new n.Rect(r,f,e-r,o):new n.Rect(f,r,o,e-r)},r.prototype.plotSeries=function(i,r,u,f){var yt=this,o=n.asType(f,t.SeriesBase),a=this.chart.series.indexOf(f),d=f.getValues(0),c=f.getValues(1),ft=this._symWidth,et=this.chart._isRotated(),g,v,nt,e,l,ut;if(d){c||(c=this.dataInfo.getXVals());c&&(g=this.dataInfo.getDeltaX(),g>0&&this._isPixel===!1&&(ft*=g));v=d.length;nt=!0;c?v=Math.min(v,c.length):(nt=!1,c=new Array(v));var pt=this._DEFAULT_WIDTH,tt=o._getSymbolFill(a),ot=o._getAltSymbolFill(a)||"transparent",w=o._getSymbolStroke(a),st=o._getAltSymbolStroke(a)||w,ht=this._isPixel===undefined?o._getSymbolSize():ft;i.stroke=w;i.strokeWidth=pt;i.fill=tt;var ct=o._getBinding(1),lt=o._getBinding(2),h=o._getBinding(3),wt=et?u.actualMin:r.actualMin,bt=et?u.actualMax:r.actualMax,at=0,y,it,s=null,p=null;for(e=0;e<v;e++)if(s=o._getItem(e),s){if(l=nt?c[e]:e,t._DataInfo.isValid(l)&&wt<=l&&l<=bt){var rt=d[e],vt=ct?s[ct]:null,b=lt?s[lt]:null,k=h?s[h]:null;i.startGroup();this.isEqui&&p!==null?p[h]!==s[h]&&(y=p[h]<s[h]?ot:tt,it=p[h]<s[h]?st:w):(y=b<k?ot:tt,it=b<k?st:w);i.fill=y;i.stroke=it;this.chart.itemFormatter?(ut=new t.HitTestInfo(this.chart,new n.Point(r.convert(l),u.convert(rt)),t.ChartElement.SeriesSymbol),ut._setData(o,e),this.chart.itemFormatter(i,ut,function(){yt._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k)})):this._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k);i.endGroup();f._setPointIndex(e,at);at++}p=s}}},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v){var g=new t._DataPoint(f,e,h,c),k,y=null,w=null,p=null,b=null,d=this.chart._isRotated(),nt,tt;d&&(nt=u,u=r,r=nt);this._isPixel===!1&&(p=r.convert(h-.5*s),b=r.convert(h+.5*s),p>b&&(tt=p,p=b,b=tt));h=r.convert(h);this._isPixel!==!1&&(p=h-.5*s,b=h+.5*s);this.isCandle?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),d?(i.drawRect(y,p,w-y,b-p),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(c)&&(c=u.convert(c),y!==null&&(d?i.drawLine(w,h,c,h):i.drawLine(h,y,h,c))),t._DataInfo.isValid(l)&&(l=u.convert(l),w!==null&&(d?i.drawLine(y,h,l,h):i.drawLine(h,w,h,l)))):this.isEqui?t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f)):this.isArms?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),i.drawRect(p,y,b-p,w-y)),t._DataInfo.isValid(c)&&y!==null&&(c=u.convert(c),i.drawLine(h,y,h,c)),t._DataInfo.isValid(l)&&w!==null&&(l=u.convert(l),i.drawLine(h,w,h,l)),t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(i.fill="transparent",y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f))):(t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),d?(i.drawLine(l,h,c,h),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawLine(h,l,h,c),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(a)&&(a=u.convert(a),d?i.drawLine(a,p,a,h):i.drawLine(p,a,h,a)),t._DataInfo.isValid(v)&&(v=u.convert(v),d?i.drawLine(v,h,v,b):i.drawLine(h,v,b,v)))},r}(t._BasePlotter);t._FinancePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(r){function u(){r.apply(this,arguments);this.stacking=t.Stacking.None}return __extends(u,r),u.prototype.adjustLimits=function(t){this.dataInfo=t;var i=t.getMinX(),r=t.getMinY(),u=t.getMaxX(),f=t.getMaxY();return this.rotated?new n.Rect(r,i,f-r,u-i):new n.Rect(i,r,u-i,f-r)},u.prototype.plotSeries=function(r,u,f,e){var lt=this.chart.series.indexOf(e),d,vt,pt,wt,kt,ht,h,ct;if(!(lt>0)){var g=n.asType(e,t.SeriesBase),w=this.chart.options,at=e.getValues(0),nt=e.getValues(1),v=this.chart._plotRect,tt=w&&w.funnel&&w.funnel.neckWidth!=null?w.funnel.neckWidth:.2,it=w&&w.funnel&&w.funnel.neckHeight!=null?w.funnel.neckHeight:0,y=tt*v.width,o=0,ni=0,ti=0,yt=0,ii,et,p,l,b,c=v.left,s=v.top,a=v.width,ri=v.height;if(at){for(y=y?y:1,nt||(nt=this.dataInfo.getXVals()),d=at.length,nt!=null&&(d=Math.min(d,nt.length)),o=0;o<d;o++)ni+=at[o];if(vt=0,w&&w.funnel&&w.funnel.type==='rectangle')for(it=ri/d,tt=a,o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(kt||(kt=a/k),ht=kt*k,c=c+(tt-ht)/2,r.drawRect(c,s,ht,it),rt=new i(new n.Point(c,s),ht,it,ht,it),s=s+it,tt=ht,rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}else for(ti=v.left+v.width*(1-tt)/2,yt=v.top+v.height*(1-it),et=(1-tt)*v.width/2/(v.height*(1-it)),(isNaN(et)||!isFinite(et))&&(a=y,c=ti,s=yt),ii=v.width*tt*v.height+v.width*(1-tt)/2*v.height*(1-it),o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],dt=[],gt=[],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(ct=ii*k/ni,a>y?(l=this._getTrapezoidOffsetY(a,ct,et),s+l<yt?(p=et*l,dt=[c,c+p,c+a-p,c+a],gt=[s,s+l,s+l,s],rt=new i(new n.Point(c,s),a,l,a-p*2,0),a=a-2*p,c=c+p,s=s+l):(l=yt-s,p=et*l,ct=ct-this._getTrapezoidArea(a,et,l),b=ct/y,dt.push(c,c+p,c+p,c+p+y,c+p+y,c+a),gt.push(s,s+l,s+l+b,s+l+b,s+l,s),rt=new i(new n.Point(c,s),a,l+b,y,b),a=y,c=c+p,s=s+l+b),r.drawPolygon(dt,gt)):(b=ct/y,r.drawRect(c,s,a,b),rt=new i(new n.Point(c,s),y,b,y,b),s=s+b),rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}}}},u.prototype._getTrapezoidArea=function(n,t,i){var r=i*t;return r*i+(n-2*r)*i},u.prototype._getTrapezoidOffsetY=function(n,t,i){var r=Math.pow(n/2/i,2)-t/i;return n/2/i-Math.sqrt(r>=0?r:0)},u.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},u.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},u.prototype._getPointAndPosition=function(n,i,r){var u=r;n.x=u.center.x;n.y=u.center.y;i=i==null?t.LabelPosition.Center:i},u}(t._BasePlotter),i;t._FunnelPlotter=r;i=function(){function t(t,i,r,u,f){this._startPoint=t;this._width=i;this._height=r;this._neckWidth=u;this._neckHeight=f;this._center=new n.Point(this._startPoint.x+i/2,this._startPoint.y+r/2);this._offsetX=(i-u)/2;this._offsetY=r-f}return t.prototype.contains=function(n){var t=this._startPoint,i=this._offsetX,r=this._offsetY;if(n.x>=t.x&&n.x<=t.x+this._width&&n.y>=t.y&&n.y<=t.y+this._height){if(n.x>=t.x+i&&n.x<=t.x+this._width-i)return!0;if(n.y>t.y+r)return!1;if(n.x<this._center.x)return(n.y-t.y)/(n.x-t.x)<r/i;if(n.x>this._center.x)return(n.y-t.y)/(t.x+this._width-n.x)<r/i}return!1},t.prototype.distance=function(n){if(this.contains(n))return 0;var t=this._startPoint,i=this._width,f=this._height,r=this._offsetX,u=this._offsetY;if(n.y<t.y)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(t.y-n.y,2)):t.y-n.y;if(n.y>t.y+f)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y-f,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(n.y-t.y-f,2)):n.y-t.y-f;if(n.y>t.y+u){if(n.x<t.x+r)return t.x+r-n.x;if(n.x>t.x+i-r)return n.x-t.x-i+r}else return n.x<t.x+r?Math.min(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-r-t.x,2)+Math.pow(n.y-u-t.y,2))):Math.min(Math.sqrt(Math.pow(n.x-i-t.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-i+r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-i+r-t.x,2)+Math.pow(n.y-u-t.y,2)));return undefined},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}();t._FunnelSegment=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){"use strict";var i=function(){function t(t,i,r,u,f){this._volumes=n.asArray(t);this._xVals=n.asArray(i);this._xDataMin=n.asNumber(r,!0,!1);this._xDataMax=n.asNumber(u,!0,!1);this._xDataType=n.asEnum(f,n.DataType,!0);this._calcData=[];this._init()}return t.prototype.convert=function(i,r,u){var s=undefined,o=this._calcData.length,f=-1,e;if(this._hasXs&&this._xDataType===n.DataType.Date){if(f=this._xVals.indexOf(i),f===-1)for(e=0;e<this._xVals.length;e++)if(e<this._xVals.length-1&&this._xVals[e]<=i&&i<=this._xVals[e+1]){f=e;break}else if(e===0&&i<=this._xVals[e]){f=e;break}else if(e===this._xVals.length-1&&this._xVals[e]<=i){f=e;break}f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))}else this._hasXs?(f=this._xVals.indexOf(i),f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))):f=n.clamp(Math.round(i),0,o-1);return 0<=f&&f<o&&(this._hasXs&&(i=t.convertToRange(i,0,o-1,this._xDataMin,this._xDataMax)),s=this._calcData[f].value+(i-f)*this._calcData[f].width-.5*this._calcData[f].width,r=this._getXVolume(r),u=this._getXVolume(u),s=(s-r)/(u-r)),s},t.prototype.convertBack=function(n){for(var u=undefined,f=this._calcData.length,r=-1,i=0;i<f;i++)if(this._calcData[i].x1<=n&&n<=this._calcData[i].x2||i===0&&n<=this._calcData[i].x2||i===f-1&&this._calcData[i].x1<=n){r=i;break}return 0<=r&&r<f&&(u=n/this._calcData[r].width-this._calcData[r].value/this._calcData[r].width+.5+i,this._hasXs&&(u=t.convertToRange(u,this._xDataMin,this._xDataMax,0,f-1))),u},t.prototype._init=function(){var r,u,i;this._hasXs=this._xVals!==null&&this._xVals.length>0;this._hasXs&&!n.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals));this._hasXs&&!n.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals));this._hasXs&&(this._hasXs=n.isNumber(this._xDataMin)&&n.isNumber(this._xDataMax));this._hasXs&&this._xDataType===n.DataType.Date&&this._fillGaps();for(var f=0,t=0,e=this._volumes!==null&&this._volumes.length>0?this._volumes.length:0,t=0;t<e;t++)f+=this._volumes[t];for(i=0,t=0;t<e;t++)u=this._volumes[t]/f,r=i+u,this._calcData.push({value:r,width:u,x1:i,x2:r}),i=this._calcData[t].value},t.prototype._getXVolume=function(i){var f=this._calcData.length,u=-1,r;if(this._hasXs)for(u=this._xVals.indexOf(i),r=0;r<this._xVals.length;r++)if(r<this._xVals.length-1&&this._xVals[r]<=i&&i<=this._xVals[r+1]){u=r;break}else if(r===0&&i<=this._xVals[r]){u=r;break}else if(r===this._xVals.length-1&&this._xVals[r]<=i){u=r;break}return this._hasXs&&(i=t.convertToRange(i,0,f-1,this._xDataMin,this._xDataMax)),u===-1&&(u=n.clamp(Math.round(i),0,f-1)),this._calcData[u].value+(i-u)*this._calcData[u].width-.5*this._calcData[u].width},t.convertToRange=function(n,t,i,r,u){return t===i||r===u?0:(n-r)*(i-t)/(u-r)+t},t.prototype._fillGaps=function(){if(this._xDataType===n.DataType.Date&&this._xVals!==null&&!(this._xVals.length<=0))for(var t=this._xDataMin,r=this._xDataMax,i=1;t<r;i++)t=new Date(t),t.setDate(t.getDate()+1),t=t.valueOf(),t!==this._xVals[i]&&(this._xVals.splice(i,0,t),this._volumes.splice(i,0,0))},t}();t._VolumeHelper=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))

/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;wijmo.culture.FlexGrid=window.wijmo.culture.FlexGrid||{groupHeaderFormat:'{name}: <b>{value}</b> ({count:n0} items)'},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Column=1]="Column";n[n.Row=2]="Row";n[n.All=3]="All"})(t.HeadersVisibility||(t.HeadersVisibility={}));var i=t.HeadersVisibility,r=function(r){function u(u,f){var e=this,s,h,o;r.call(this,u,null,!0);this._szClient=new n.Size(0,0);this._ptScrl=new n.Point(0,0);this._cellPadding=3;this._autoGenCols=!0;this._autoClipboard=!0;this._readOnly=!1;this._indent=14;this._autoSizeMode=t.AutoSizeMode.Both;this._hdrVis=i.All;this._alSorting=!0;this._alAddNew=!1;this._alDelete=!1;this._alResizing=t.AllowResizing.Columns;this._alDragging=t.AllowDragging.Columns;this._alMerging=t.AllowMerging.None;this._ssHdr=i.None;this._shSort=!0;this._shGroups=!0;this._shAlt=!0;this._shErr=!0;this._valEdt=!0;this._deferResizing=!1;this._pSel=!0;this._pOutline=!0;this._vt=0;this.itemsSourceChanged=new n.Event;this.scrollPositionChanged=new n.Event;this.selectionChanging=new n.Event;this.selectionChanged=new n.Event;this.loadingRows=new n.Event;this.loadedRows=new n.Event;this.updatingLayout=new n.Event;this.updatedLayout=new n.Event;this.resizingColumn=new n.Event;this.resizedColumn=new n.Event;this.autoSizingColumn=new n.Event;this.autoSizedColumn=new n.Event;this.draggingColumn=new n.Event;this.draggingColumnOver=new n.Event;this.draggedColumn=new n.Event;this.resizingRow=new n.Event;this.resizedRow=new n.Event;this.autoSizingRow=new n.Event;this.autoSizedRow=new n.Event;this.draggingRow=new n.Event;this.draggingRowOver=new n.Event;this.draggedRow=new n.Event;this.groupCollapsedChanging=new n.Event;this.groupCollapsedChanged=new n.Event;this.sortingColumn=new n.Event;this.sortedColumn=new n.Event;this.beginningEdit=new n.Event;this.prepareCellForEdit=new n.Event;this.cellEditEnding=new n.Event;this.cellEditEnded=new n.Event;this.rowEditStarting=new n.Event;this.rowEditStarted=new n.Event;this.rowEditEnding=new n.Event;this.rowEditEnded=new n.Event;this.rowAdded=new n.Event;this.deletingRow=new n.Event;this.deletedRow=new n.Event;this.copying=new n.Event;this.copied=new n.Event;this.pasting=new n.Event;this.pasted=new n.Event;this.pastingCell=new n.Event;this.pastedCell=new n.Event;this.formatItem=new n.Event;this.updatingView=new n.Event;this.updatedView=new n.Event;this._mappedColumns=null;s=this.hostElement;n.isIE()&&(s.style.borderRadius='0px');h=this.getTemplate();this.applyTemplate('wj-control wj-flexgrid wj-content',h,{_root:'root',_eSz:'sz',_eCt:'cells',_fCt:'fcells',_eTL:'tl',_eBL:'bl',_eCHdr:'ch',_eRHdr:'rh',_eCFtr:'cf',_eTLCt:'tlcells',_eBLCt:'blcells',_eCHdrCt:'chcells',_eCFtrCt:'cfcells',_eRHdrCt:'rhcells',_eMarquee:'marquee',_eFocus:'focus'});o=this._getDefaultRowHeight();this.deferUpdate(function(){e._rows=new t.RowCollection(e,o);e._cols=new t.ColumnCollection(e,o*4);e._hdrRows=new t.RowCollection(e,o);e._hdrCols=new t.ColumnCollection(e,Math.round(o*1.25));e._ftrRows=new t.RowCollection(e,o);e._gpTL=new t.GridPanel(e,t.CellType.TopLeft,e._hdrRows,e._hdrCols,e._eTLCt);e._gpCHdr=new t.GridPanel(e,t.CellType.ColumnHeader,e._hdrRows,e._cols,e._eCHdrCt);e._gpRHdr=new t.GridPanel(e,t.CellType.RowHeader,e._rows,e._hdrCols,e._eRHdrCt);e._gpCells=new t.GridPanel(e,t.CellType.Cell,e._rows,e._cols,e._eCt);e._gpBL=new t.GridPanel(e,t.CellType.BottomLeft,e._ftrRows,e._hdrCols,e._eBLCt);e._gpCFtr=new t.GridPanel(e,t.CellType.ColumnFooter,e._ftrRows,e._cols,e._eCFtrCt);e._hdrRows.push(new t.Row);e._hdrCols.push(new t.Column);e._hdrCols[0].align='center';e._cf=new t.CellFactory;e._keyHdl=new t._KeyboardHandler(e);e._mouseHdl=new t._MouseHandler(e);e._edtHdl=new t._EditHandler(e);e._selHdl=new t._SelectionHandler(e);e._addHdl=new t._AddNewHandler(e);e._mrgMgr=new t.MergeManager(e);e._bndSortConverter=e._sortConverter.bind(e);e._bndScroll=e._scroll.bind(e);e.initialize(f)});this.addEventListener(this._root,'scroll',function(){e._updateScrollPosition()&&(e.finishEditing(),e._updateContent(!0))})}return __extends(u,r),u.prototype._handleResize=function(){this._rcBounds=null;r.prototype._handleResize.call(this)},Object.defineProperty(u.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){t!=this._hdrVis&&(this._hdrVis=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=n.asBoolean(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnLayout",{get:function(){for(var c,o,r,i,f,s=u._getSerializableProperties(t.Column),l=new t.Column,h=[],e=0;e<this.columns.length;e++){for(c=this.columns[e],o={},r=0;r<s.length;r++)i=s[r],f=c[i],f!=l[i]&&n.isPrimitive(f)&&i!='size'&&(o[i]=f);h.push(o)}return JSON.stringify({columns:h})},set:function(t){var i=JSON.parse(n.asString(t));if(!i||i.columns==null)throw'Invalid columnLayout data.';this.columns.clear();this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=n.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"imeEnabled",{get:function(){return this._imeHdl!=null},set:function(n){n!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),n&&(this._imeHdl=new t._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(i){this._alResizing=n.asEnum(i,t.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(i){this._autoSizeMode=n.asEnum(i,t.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=n.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(i){i!=this._alMerging&&(this._alMerging=n.asEnum(i,t.AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){t!=this._ssHdr&&(this._ssHdr=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var i=this._eMarquee.style;i.visibility='collapse';i.display=n.asBoolean(t)?'':'none';this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=n.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._shErr=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=n.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(i){i!=this._alDragging&&(this._alDragging=n.asEnum(i,t.AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i;t!=this._items&&(this._cv&&(i=n.tryCast(this._cv,n.collections.CollectionView),i&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),i=n.tryCast(this._cv,n.collections.CollectionView),i&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(n.assert(t==null||n.isArray(t)||n.isString(t),'childItemsPath should be an array or a string.'),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),u.prototype.getColumn=function(n){return this.columns.getColumn(n)},Object.defineProperty(u.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(n){this.rows.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(n){this.columns.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(n){var t=this._root,i=-n.x;if(this.rightToLeft)switch(u._getRtlMode()){case'rev':i=t.scrollWidth-t.clientWidth+n.x;break;case'neg':i=n.x;break;default:i=-n.x}t.scrollLeft=i;t.scrollTop=-n.y},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=n.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollSize",{get:function(){return new n.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cellFactory",{get:function(){return this._cf},set:function(i){i!=this._cf&&(this._cf=n.asType(i,t.CellFactory,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.canEditCell=function(n,t){return this._edtHdl._allowEditing(n,t)},u.prototype.getCellData=function(n,t,i){return this.cells.getCellData(n,t,i)},u.prototype.getCellBoundingRect=function(n,t,i){return this.cells.getCellBoundingRect(n,t,i)},u.prototype.setCellData=function(n,t,i,r,u){return r===void 0&&(r=!0),u===void 0&&(u=!0),this.cells.setCellData(n,t,i,r,u)},u.prototype.hitTest=function(i,r){return n.isNumber(i)&&n.isNumber(r)&&(i=new n.Point(i,r)),new t.HitTestInfo(this,i)},u.prototype.getClipString=function(i){var r='',h=!0,s=!0,f,e,o,u;if(!i){i=this.selection;switch(this.selectionMode){case t.SelectionMode.Row:case t.SelectionMode.RowRange:i.col=0;i.col2=this.columns.length-1;break;case t.SelectionMode.ListBox:for(i.col=0,i.col2=this.columns.length-1,f=0;f<this.rows.length;f++)this.rows[f].isSelected&&this.rows[f].isVisible&&(i.row=i.row2=f,r&&(r+='\n'),r+=this.getClipString(i));return r}}for(i=n.asType(i,t.CellRange),e=i.topRow;e<=i.bottomRow;e++)if(this.rows[e].isVisible)for(h||(r+='\n'),h=!1,o=i.leftCol,s=!0;o<=i.rightCol;o++)this.columns[o].isVisible&&(s||(r+='\t'),s=!1,u=this.cells.getCellData(e,o,!0).toString(),u=u.replace(/\t/g,' '),u.indexOf('\n')>-1&&(u='"'+u.replace(/"/g,'""')+'"'),r+=u);return r},u.prototype.setClipString=function(i,r){var y=r==null,e,s,l,u,h,o;if(!r){r=this.selection;switch(this.selectionMode){case t.SelectionMode.Row:case t.SelectionMode.RowRange:case t.SelectionMode.ListBox:r.col=0;r.col2=this.columns.length-1}}r=n.asType(r,t.CellRange);i=n.asString(i).replace(/\r\n/g,'\n').replace(/\r/g,'\n');i&&i[i.length-1]=='\n'&&(i=i.substring(0,i.length-1));y&&!r.isSingleCell&&(i=this._expandClipString(i,r));e=new t.CellRange(r.topRow,r.leftCol);this.beginUpdate();var f=r.topRow,a=this._clipToRows(i),v=!1,c;for(s=0;s<a.length&&f<this.rows.length;s++,f++){if(!this.rows[f].isVisible){s--;continue}for(l=this._clipToCells(a[s]),u=r.leftCol,h=0;h<l.length&&u<this.columns.length;h++,u++){if(!this.columns[u].isVisible){h--;continue}if(this._edtHdl._allowEditing(f,u)){if(c=new t.CellRangeEventArgs(this.cells,new t.CellRange(f,u),l[h]),this.onPastingCell(c)&&this.cells.setCellData(f,u,c.data)){this.onPastedCell(c);v=!0}e.row2=Math.max(e.row2,f);e.col2=Math.max(e.col2,u)}}}this.endUpdate();v&&(o=n.tryCast(this.collectionView,'IEditableCollectionView'),o&&o.currentItem==o.currentAddItem?o.editItem(o.currentItem):this.collectionView&&this.collectionView.refresh());this.select(e)},u.prototype._clipToRows=function(n){for(var r=[],i=0,u=!1,t=0;t<n.length;t++)switch(n[t]){case'"':u=!u;break;case'\n':u||(r.push(n.substr(i,t-i)),i=t+1)}return r.push(n.substr(i)),r},u.prototype._clipToCells=function(n){for(var n,r,t=n.split('\t'),i=0;i<t.length;i++)n=t[i],r=n.length,r>1&&n[0]=='"'&&n[r-1]=='"'&&(n=n.substr(1,r-2),n=n.replace(/""/g,'"')),t[i]=n;return t},u.prototype._expandClipString=function(n,t){var s,r,u,i,f;if(!n)return n;var h=n.split('\n'),o=h.length,e=0,c=[];for(i=0;i<o;i++){if(s=h[i].split('\t'),c.push(s),i>1&&s.length!=e)return n;e=s.length}if(r=t.rowSpan,u=t.columnSpan,(r>1||u>1)&&(r==1&&(r=o),u==1&&(u=e),u%e==0&&r%o==0))for(n='',i=0;i<r;i++)for(f=0;f<u;f++)i>0&&f==0&&(n+='\n'),f>0&&(n+='\t'),n+=c[i%o][f%e];return n},u.prototype.focus=function(){var t,i;if(this.activeEditor){this.activeEditor.focus();return}if(n.getActiveElement()!=this._eFocus){if(t=this.hostElement.getBoundingClientRect(),t.bottom>0&&t.right>0&&t.top<innerHeight&&t.left<innerWidth){this._eFocus.focus();return}(i=this.cells.hostElement.querySelector('.wj-cell.wj-state-selected'),i&&(i.focus(),n.getActiveElement()==i))||r.prototype.focus.call(this)}},u.prototype.containsFocus=function(){var t;if(r.prototype.containsFocus.call(this)||(t=this._edtHdl?this._edtHdl._lbx:null,t!=null&&t.containsFocus()))return!0;var e=n.getActiveElement(),i=n.Control.getControl(e),u=i?i.filter:null,f=u?u.column:null;return f&&f.grid==this?!0:!1},u.prototype.dispose=function(){this.finishEditing(!0);this.itemsSource=null;r.prototype.dispose.call(this)},u.prototype.refresh=function(n){n===void 0&&(n=!0);r.prototype.refresh.call(this,n);this.finishEditing();n&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl);this.refreshCells(n)},u.prototype.refreshCells=function(n,t,i){this.isUpdating||(n?this._updateLayout():this._updateContent(t,i))},u.prototype.autoSizeColumn=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=4);this.autoSizeColumns(n,n,t,i)},u.prototype.autoSizeColumns=function(i,r,f,e){var s=this;f===void 0&&(f=!1);e===void 0&&(e=4);var h=0,l=f?this.topLeftCells:this.columnHeaders,o=f?this.rowHeaders:this.cells,c=this.viewRange;i=i==null?0:n.asInt(i);r=r==null?o.columns.length-1:n.asInt(r);n.asBoolean(f);n.asNumber(e);c.row=Math.max(0,c.row-1e3);c.row2=Math.min(c.row2+1e3,this.rows.length-1);this.finishEditing()&&this.deferUpdate(function(){var a,v,f,y;for(n.setCss(s._eCt,{width:s._gpCells.width}),a=document.createElement('div'),a.setAttribute(u._WJS_MEASURE,'true'),a.style.visibility='hidden',o.hostElement.parentElement.appendChild(a),v=i;v<=r&&v>-1&&v<o.columns.length;v++){if(h=0,s.autoSizeMode&t.AutoSizeMode.Headers)for(f=0;f<l.rows.length;f++)l.rows[f].isVisible&&(y=s._getDesiredWidth(l,f,v,a),h=Math.max(h,y));if(s.autoSizeMode&t.AutoSizeMode.Cells)for(f=c.row;f<=c.row2&&f>-1&&f<o.rows.length;f++)o.rows[f].isVisible&&(y=s._getDesiredWidth(o,f,v,a),h=Math.max(h,y));o.columns[v].width=h+e+2}a.parentElement.removeChild(a)})},u.prototype.autoSizeRow=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=0);this.autoSizeRows(n,n,t,i)},u.prototype.autoSizeRows=function(i,r,f,e){var s=this;f===void 0&&(f=!1);e===void 0&&(e=0);var h=0,c=f?this.topLeftCells:this.rowHeaders,o=f?this.columnHeaders:this.cells;f=n.asBoolean(f);e=n.asNumber(e);i=i==null?0:n.asInt(i);r=r==null?o.rows.length-1:n.asInt(r);this.finishEditing()&&this.deferUpdate(function(){var l,a,f,v;for(n.setCss(s._eCt,{width:s._gpCells.width}),l=document.createElement('div'),l.setAttribute(u._WJS_MEASURE,'true'),l.style.visibility='hidden',o.hostElement.appendChild(l),a=i;a<=r&&a>-1&&a<o.rows.length;a++){if(h=0,s.autoSizeMode&t.AutoSizeMode.Headers)for(f=0;f<c.columns.length;f++)c.columns[f].renderSize>0&&(v=s._getDesiredHeight(c,a,f,l),h=Math.max(h,v));if(s.autoSizeMode&t.AutoSizeMode.Cells)for(f=0;f<o.columns.length;f++)o.columns[f].renderSize>0&&(v=s._getDesiredHeight(o,a,f,l),h=Math.max(h,v));o.rows[a].height=h+e}l.parentElement.removeChild(l)})},Object.defineProperty(u.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=n.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),u.prototype.collapseGroupsToLevel=function(i){if(this.finishEditing()){var r=this.rows;r.deferUpdate(function(){for(var f,u=0;u<r.length;u++)f=n.tryCast(r[u],t.GroupRow),f&&(f.isCollapsed=f.level>=i)})}},Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(i){i!=this.selectionMode&&(this._selHdl.selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(n){this._selHdl.selection=n},enumerable:!0,configurable:!0}),u.prototype.select=function(n,t){t===void 0&&(t=!0);this._selHdl.select(n,t)},u.prototype.getSelectedState=function(n,t){return this.cells.getSelectedState(n,t,null)},Object.defineProperty(u.prototype,"selectedRows",{get:function(){var i=[],r,n;if(this.selectionMode==t.SelectionMode.ListBox)for(n=0;n<this.rows.length;n++)this.rows[n].isSelected&&i.push(this.rows[n]);else if(this.rows.length)for(r=this.selection,n=r.topRow;n>-1&&n<=r.bottomRow;n++)i.push(this.rows[n]);return i},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectedItems",{get:function(){for(var n=this.selectedRows,t=0;t<n.length;t++)n[t]=n[t].dataItem;return n},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u.dataItem)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),u.prototype.scrollIntoView=function(t,i){var u,h;this._maxOffsetY==null&&this._updateLayout();var r=this.scrollPosition,c=this._szClient.width,f=this._szClient.height-this._gpCFtr.rows.getTotalSize(),e=this.cells._getFrozenPos();if(t=n.asInt(t),t>-1&&t<this._rows.length&&t>=this._rows.frozen){var s=this._rows[t],a=this.cells.height>f?Math.round(s.pos/(this.cells.height-f)*100)/100:0,v=Math.round(this._maxOffsetY*a),o=s.pos-v,l=o+s.renderSize-1;l>f-r.y&&(r.y=Math.max(-o,f-l));o-e.y<-r.y&&(r.y=-(o-e.y))}return(i=n.asInt(i),i>-1&&i<this._cols.length&&i>=this._cols.frozen&&(u=this._cols[i],h=u.pos+u.renderSize-1,h>-r.x+c&&(r.x=Math.max(-u.pos,c-h)),u.pos-e.x<-r.x&&(r.x=-(u.pos-e.x))),!r.equals(this._ptScrl))?(this.scrollPosition=r,!0):!1},u.prototype.isRangeValid=function(n){return n.isValid&&n.bottomRow<this.rows.length&&n.rightCol<this.columns.length},u.prototype.startEditing=function(n,t,i,r){return n===void 0&&(n=!0),this._edtHdl.startEditing(n,t,i,r)},u.prototype.finishEditing=function(n){return n===void 0&&(n=!1),this._edtHdl.finishEditing(n)},Object.defineProperty(u.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(i){i!=this._mrgMgr&&(this._mrgMgr=n.asType(i,t.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getMergedRange=function(n,t,i,r){return r===void 0&&(r=!0),this._mrgMgr?this._mrgMgr.getMergedRange(n,t,i,r):null},u.prototype.onItemsSourceChanged=function(n){this.itemsSourceChanged.raise(this,n)},u.prototype.onScrollPositionChanged=function(n){this.scrollPositionChanged.raise(this,n)},u.prototype.onSelectionChanging=function(n){return this.selectionChanging.raise(this,n),!n.cancel},u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onLoadingRows=function(n){return this.loadingRows.raise(this,n),!n.cancel},u.prototype.onLoadedRows=function(n){this.loadedRows.raise(this,n)},u.prototype.onUpdatingLayout=function(n){return this.updatingLayout.raise(this,n),!n.cancel},u.prototype.onUpdatedLayout=function(n){this.updatedLayout.raise(this,n)},u.prototype.onResizingColumn=function(n){return this.resizingColumn.raise(this,n),!n.cancel},u.prototype.onResizedColumn=function(n){this.resizedColumn.raise(this,n)},u.prototype.onAutoSizingColumn=function(n){return this.autoSizingColumn.raise(this,n),!n.cancel},u.prototype.onAutoSizedColumn=function(n){this.autoSizedColumn.raise(this,n)},u.prototype.onDraggingColumn=function(n){return this.draggingColumn.raise(this,n),!n.cancel},u.prototype.onDraggingColumnOver=function(n){return this.draggingColumnOver.raise(this,n),!n.cancel},u.prototype.onDraggedColumn=function(n){this.draggedColumn.raise(this,n)},u.prototype.onResizingRow=function(n){return this.resizingRow.raise(this,n),!n.cancel},u.prototype.onResizedRow=function(n){this.resizedRow.raise(this,n)},u.prototype.onAutoSizingRow=function(n){return this.autoSizingRow.raise(this,n),!n.cancel},u.prototype.onAutoSizedRow=function(n){this.autoSizedRow.raise(this,n)},u.prototype.onDraggingRow=function(n){return this.draggingRow.raise(this,n),!n.cancel},u.prototype.onDraggingRowOver=function(n){return this.draggingRowOver.raise(this,n),!n.cancel},u.prototype.onDraggedRow=function(n){this.draggedRow.raise(this,n)},u.prototype.onGroupCollapsedChanging=function(n){return this.groupCollapsedChanging.raise(this,n),!n.cancel},u.prototype.onGroupCollapsedChanged=function(n){this.groupCollapsedChanged.raise(this,n)},u.prototype.onSortingColumn=function(n){return this.sortingColumn.raise(this,n),!n.cancel},u.prototype.onSortedColumn=function(n){this.sortedColumn.raise(this,n)},u.prototype.onBeginningEdit=function(n){return this.beginningEdit.raise(this,n),!n.cancel},u.prototype.onPrepareCellForEdit=function(n){this.prepareCellForEdit.raise(this,n)},u.prototype.onCellEditEnding=function(n){return this.cellEditEnding.raise(this,n),!n.cancel&&!n.stayInEditMode},u.prototype.onCellEditEnded=function(n){this.cellEditEnded.raise(this,n)},u.prototype.onRowEditStarting=function(n){this.rowEditStarting.raise(this,n)},u.prototype.onRowEditStarted=function(n){this.rowEditStarted.raise(this,n)},u.prototype.onRowEditEnding=function(n){this.rowEditEnding.raise(this,n)},u.prototype.onRowEditEnded=function(n){this.rowEditEnded.raise(this,n)},u.prototype.onRowAdded=function(n){this.rowAdded.raise(this,n)},u.prototype.onDeletingRow=function(n){return this.deletingRow.raise(this,n),!n.cancel},u.prototype.onDeletedRow=function(n){this.deletedRow.raise(this,n)},u.prototype.onCopying=function(n){return this.copying.raise(this,n),!n.cancel},u.prototype.onCopied=function(n){this.copied.raise(this,n)},u.prototype.onPasting=function(n){return this.pasting.raise(this,n),!n.cancel},u.prototype.onPasted=function(n){this.pasted.raise(this,n)},u.prototype.onPastingCell=function(n){return this.pastingCell.raise(this,n),!n.cancel},u.prototype.onPastedCell=function(n){this.pastedCell.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.onUpdatingView=function(n){return this.updatingView.raise(this,n),!n.cancel},u.prototype.onUpdatedView=function(n){this.updatedView.raise(this,n)},u.prototype._getDefaultRowHeight=function(){var f=this.hostElement,t=document.body,i=null,r,e,u;if(t&&!n.contains(t,f)){for(r=f;r;r=r.parentElement)i=r;i&&t.appendChild(i)}return e=n.createElement('<div class="wj-cell">123</div>',f),u=e.scrollHeight+2,f.removeChild(e),i&&t.removeChild(i),(u<=6||isNaN(u)||!t)&&(u=28),u},u.prototype._getCollectionView=function(t){return n.asCollectionView(t)},u.prototype._getDesiredWidth=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.width='',f=r.offsetWidth,u&&u.columnSpan>1?f/u.columnSpan:f},u.prototype._getDesiredHeight=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.height='',f=r.offsetHeight,u&&u.rowSpan>1?f/u.rowSpan:f},u.prototype._getSortRowIndex=function(){return this._sortRowIndex!=null?this._sortRowIndex:this.columnHeaders.rows.length-1},u.prototype._sortConverter=function(n,t,i,r){var u,o,f,e;if(r){if(this._mappedColumns=null,this.collectionView)for(o=this.collectionView.sortDescriptions,f=0;f<o.length;f++)u=this.getColumn(o[f].property),u&&u.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[u.binding]=u.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(u=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&u.dataMap&&(this._mappedColumns[u.binding]=u.dataMap))}return this._mappedColumns&&(e=this._mappedColumns[n.property],e&&e.sortByDisplayValues&&(i=e.getDisplayValue(i))),i},u.prototype._bindGrid=function(i){var r=this;this.deferUpdate(function(){var f,s,h,e,o,c,l,u;if(r._lastCount==0&&r._cv&&r._cv.items&&r._cv.items.length&&(i=!0),f=[],r.preserveSelectedState&&r.selectionMode==t.SelectionMode.ListBox)for(u=0;u<r.rows.length;u++)s=r.rows[u],s.isSelected&&s.dataItem&&f.push(s.dataItem);if(r.preserveOutlineState&&n.isFunction(window.Map)&&r.rows.maxGroupLevel>-1)for(h=new Map,u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&e.isCollapsed&&e.dataItem&&(o=e.dataItem,o instanceof n.collections.CollectionViewGroup&&(o=o._path),h.set(o,!0));if(i&&r.columns.deferUpdate(function(){r._bindColumns()}),r.rows.deferUpdate(function(){r._bindRows()}),c=0,f.length)for(u=0;u<r.rows.length&&c<f.length;u++)f.indexOf(r.rows[u].dataItem)>-1&&(r.rows[u].isSelected=!0,c++);if(r.selectionMode==t.SelectionMode.ListBox&&c==0)for(l=r.selection,u=l.topRow;u<=l.bottomRow&&u>-1&&u<r.rows.length;u++)r.rows[u].isSelected=!0;h&&r.rows.deferUpdate(function(){for(var f,i,u=0;u<r.rows.length;u++)f=r.rows[u],f instanceof t.GroupRow&&(i=f.dataItem,i instanceof n.collections.CollectionViewGroup&&(i=i._path),h.get(i)&&(f.isCollapsed=!0))});!r._lastCount&&r._cv&&r._cv.items&&(r._lastCount=r._cv.items.length)});this.rows.length||(this._selHdl._sel.row=this._selHdl._sel.row2=-1);this.collectionView&&this._cvCurrentChanged(this.collectionView,n.EventArgs.empty)},u.prototype._cvCollectionChanged=function(i,r){var u;if(this.autoGenerateColumns&&this.columns.length==0){this._bindGrid(!0);return}if(this.childItemsPath&&r.action!=n.collections.NotifyCollectionChangedAction.Change){this._bindGrid(!1);return}switch(r.action){case n.collections.NotifyCollectionChangedAction.Change:this.invalidate();return;case n.collections.NotifyCollectionChangedAction.Add:if(r.index==this.collectionView.items.length-1){u=this.rows.length;this.rows[u-1]instanceof t._NewRowTemplate&&u--;this.rows.insert(u,new t.Row(r.item));return}n.assert(!1,'added item should be the last one.');break;case n.collections.NotifyCollectionChangedAction.Remove:if(u=this._findRow(r.item),u>-1){this.rows.removeAt(u);this._cvCurrentChanged(i,r);return}n.assert(!1,'removed item not found in grid.')}this._bindGrid(!1)},u.prototype._cvCurrentChanged=function(){if(this.collectionView){var i=this.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row].dataItem:null;r instanceof n.collections.CollectionViewGroup&&(r=null);r!=this.collectionView.currentItem&&(i.row=i.row2=this._getRowIndex(this.collectionView.currentPosition),this.select(i,!1),this.selectionMode!=t.SelectionMode.None&&this.scrollIntoView(i.row,-1))}},u.prototype._getRowIndex=function(n){var r,n,i;if(this.collectionView){if(n>-1){for(r=this.collectionView.items[n];n<this.rows.length;n++)if(this.rows[n].dataItem===r)return n;return-1}return this.rows.length==1&&this.rows[0]instanceof t._NewRowTemplate?0:(n=this.selection.row,i=n>-1?this.rows[n]:null,i&&(i instanceof t.GroupRow||i.dataItem==null)?n:-1)}return this.selection.row},u.prototype._getCvIndex=function(n){if(n>-1&&this.collectionView){var t=this.rows[n].dataItem;for(n=Math.min(n,this.collectionView.items.length);n>-1;n--)if(this.collectionView.items[n]===t)return n}return-1},u.prototype._findRow=function(n){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==n)return t;return-1},u.prototype._updateLayout=function(){var p=new n.CancelEventArgs,h,l,o,a,c;if(this.onUpdatingLayout(p)){var t=this._hdrVis&i.Row?this._hdrCols.getTotalSize():0,r=this._hdrVis&i.Column?this._hdrRows.getTotalSize():0,e=this._ftrRows.getTotalSize(),s=this._rows.getTotalSize()+e;s<1&&(s=1);this._heightBrowser=Math.min(s,u._getMaxSupportedCssHeight());this._maxOffsetY=Math.max(0,s-this._heightBrowser);this.cells.hostElement&&(h=n.createElement('<div class="wj-cell"></div>',this.cells.hostElement),l=getComputedStyle(h),this._cellPadding=parseInt(this.rightToLeft?l.paddingRight:l.paddingLeft),h.parentElement.removeChild(h));o=this._heightBrowser+r-e;this.rightToLeft?(n.setCss(this._eTL,{right:0,top:0,width:t,height:r}),n.setCss(this._eCHdr,{right:t,top:0,height:r}),n.setCss(this._eRHdr,{right:0,top:r,width:t}),n.setCss(this._eCt,{right:t,top:r,width:this._gpCells.width,height:this._heightBrowser}),n.setCss(this._fCt,{right:t,top:r}),n.setCss(this._eBL,{right:0,top:o,width:t,height:e}),n.setCss(this._eCFtr,{right:t,top:o,height:e})):(n.setCss(this._eTL,{left:0,top:0,width:t,height:r}),n.setCss(this._eCHdr,{left:t,top:0,height:r}),n.setCss(this._eRHdr,{left:0,top:r,width:t}),n.setCss(this._eCt,{left:t,top:r,width:this._gpCells.width,height:this._heightBrowser}),n.setCss(this._fCt,{left:t,top:r}),n.setCss(this._eBL,{left:0,top:o,width:t,height:e}),n.setCss(this._eCFtr,{left:t,top:o,height:e}));this._stickyHdr&&this._updateStickyHeaders();a=[this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee];this._useFrozenDiv()&&this.showMarquee&&(this.frozenRows||this.frozenColumns)?n.setCss(a,{zIndex:1}):n.setCss(a,{zIndex:''});var f=this._root,v=f.offsetWidth-f.clientWidth,y=f.offsetHeight-f.clientHeight;n.setCss(this._eSz,{width:t+v+this._gpCells.width,height:r+y+this._heightBrowser});c=null;this.columns._updateStarSizes(f.clientWidth-t)&&(c=f.clientWidth,n.setCss(this._eCt,{width:this._gpCells.width}));this._rcBounds=null;this._szClient=new n.Size(f.clientWidth-t,f.clientHeight-r);this._updateScrollHandler();this._updateContent(!1);v=f.offsetWidth-f.clientWidth;y=f.offsetHeight-f.clientHeight;n.setCss(this._eSz,{width:t+v+this._gpCells.width,height:r+y+this._heightBrowser});this._szClient=new n.Size(f.clientWidth-t,f.clientHeight-r);c&&c!=f.clientWidth&&this.columns._updateStarSizes(f.clientWidth-t)&&(n.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1));n.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width});n.setCss([this._eRHdr,this._fCt],{height:this._szClient.height});e&&(o=Math.min(o,this._szClient.height+r-e),n.setCss([this._eBL,this._eCFtr],{top:o}));this.onUpdatedLayout(p)}},u.prototype._updateStickyHeaders=function(){var r=!1,o=0,f,t,i,e;if(this._stickyHdr){for(f=0,t=null,i=this.hostElement;i;i=i.parentElement)e=i.getBoundingClientRect(),t==null&&(t=e.top),f=Math.max(f,e.top);t=Math.max(0,f-t-1);o=-t;r=t>0}this._eTL.style.top=this._eCHdr.style.top=r?-o+'px':'';n.toggleClass(this._eTL,u._WJS_STICKY,r);n.toggleClass(this._eCHdr,u._WJS_STICKY,r)},u.prototype._updateScrollHandler=function(){var n=this._stickyHdr||this._clipToScreen();n!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=n,n?this.addEventListener(window,'scroll',this._bndScroll,!0):this.removeEventListener(window,'scroll',this._bndScroll,!0))},u.prototype._clipToScreen=function(){var n=this.hostElement;return this.rows.length>u._MIN_VIRT_ROWS&&n.parentElement==document.body&&n.clientHeight==n.scrollHeight},u.prototype._scroll=function(t){var i=this;n.contains(t.target,this.hostElement)&&(this._clipToScreen()&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){i.finishEditing();i._updateContent(!0);i._afScrl=null})),this._stickyHdr&&(this._toSticky&&cancelAnimationFrame(this._toSticky),this._toSticky=requestAnimationFrame(function(){var t=new n.CancelEventArgs;if(i.onUpdatingLayout(t)){i._updateStickyHeaders();i.onUpdatedLayout(t)}i._toSticky=null})))},u.prototype._updateScrollPosition=function(){var t=this._root,f=t.scrollTop,i=t.scrollLeft,r;return(this.rightToLeft&&u._getRtlMode()=='rev'&&(i=t.scrollWidth-t.clientWidth-i),r=new n.Point(-Math.abs(i),-f),!this._ptScrl.equals(r))?(this._ptScrl=r,this.onScrollPositionChanged(),!0):!1},u.prototype._updateContent=function(t,r){var o=this,e=this.containsFocus()?n.getActiveElement():null,h=new n.CancelEventArgs,c,s,u;if(this.onUpdatingView(h)){if(this._offsetY=0,this._heightBrowser>this._szClient.height&&(c=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*c)),this._updateScrollPosition(),this._gpCells._updateContent(t,r,this._offsetY),this._hdrVis&i.Column&&(!r||this._ssHdr&i.Column)&&this._gpCHdr._updateContent(t,r,0),this._hdrVis&i.Row&&(!r||this._ssHdr&i.Row)&&this._gpRHdr._updateContent(t,r,this._offsetY),this._hdrVis&&!r&&this._gpTL._updateContent(t,r,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,r,0),this._gpCFtr._updateContent(t,r,0)),this.showMarquee)if(s=this._selHdl._sel,u=this._eMarquee,this.isRangeValid(s)){var f=this._getMarqueeRect(s),l=u.firstChild,a=u.offsetWidth-l.offsetWidth,v=u.offsetHeight-l.offsetHeight;n.setCss(u,{left:f.left+this.cells.hostElement.offsetLeft-a/2,top:f.top+this.cells.hostElement.offsetTop-v/2,width:f.width+a,height:f.height+v,visibility:f.width>0&&f.height>0?'':'collapse'})}else n.setCss(u,{left:0,top:0,width:0,height:0,visibility:'collapse'});this._updateFrozenCells(r);!r&&e&&setTimeout(function(){!o.activeEditor&&n.contains(o.hostElement,e)?e!=n.getActiveElement()&&e.tabIndex>-1&&e.focus():o.focus()});this._rcBounds=null;this.onUpdatedView(h)}},u.prototype._useFrozenDiv=function(){return n.isIE()||n.isFirefox()||n.isMobile()},u.prototype._updateFrozenCells=function(t){var r,i,u;if(this._useFrozenDiv())if(r=this._eCt.querySelectorAll('.wj-frozen'),this.frozenRows||this.frozenColumns){if(t&&this._fCt.children.length==r.length){for(i=0;i<r.length;i++)this._fCt.children[i].className=r[i].className;return}if(n.setText(this._fCt,null),!this.activeEditor)for(i=0;i<r.length;i++)u=r[i].cloneNode(!0),u.style.pointerEvents='auto',this._fCt.appendChild(u)}else n.setText(this._fCt,null)},u.prototype._getMarqueeRect=function(i){var s=this.getMergedRange(this.cells,i.topRow,i.leftCol)||new t.CellRange(i.topRow,i.leftCol),h=this.getMergedRange(this.cells,i.bottomRow,i.rightCol)||new t.CellRange(i.bottomRow,i.rightCol),r=this.cells.getCellBoundingRect(s.topRow,s.leftCol,!0),f=this.cells.getCellBoundingRect(h.bottomRow,h.rightCol,!0),o,e,u;return this.rows.frozen&&(o=Math.min(this.rows.length,this.rows.frozen),u=this.cells.getCellBoundingRect(o-1,0,!0),i.topRow>=o&&r.top<u.bottom&&(r.top=u.bottom),i.bottomRow>=o&&f.bottom<u.bottom&&(f.height=u.bottom-f.top)),this.columns.frozen&&(e=Math.min(this.columns.length,this.columns.frozen),u=this.cells.getCellBoundingRect(0,e-1,!0),this.rightToLeft?(i.leftCol>=e&&r.right>u.left&&(r.left=u.left-r.width),i.rightCol>=e&&f.left>u.left&&(f.left=u.left)):(i.leftCol>=e&&r.left<u.right&&(r.left=u.right),i.rightCol>=e&&f.right<u.right&&(f.width=u.right-f.left))),this.rightToLeft?new n.Rect(f.left,r.top,r.right-f.left,f.bottom-r.top):new n.Rect(r.left,r.top,f.right-r.left,f.bottom-r.top)},u.prototype._bindColumns=function(){for(var i,f,e,o,s,r=0;r<this.columns.length;r++)i=this.columns[r],i._getFlag(t.RowColFlags.AutoGenerated)&&(this.columns.removeAt(r),r--);var c=this.collectionView,u=c?c.sourceCollection:null,h=u&&u.length?u[0]:null;if(h&&this.autoGenerateColumns)for(f in h)for(e=null,o=0;o<u.length&&o<1e3&&e==null;o++)e=u[o][f],n.isPrimitive(e)&&(i=new t.Column,i._setFlag(t.RowColFlags.AutoGenerated,!0),i.binding=i.name=f,i.header=n.toHeaderCase(f),i.dataType=n.getType(e),i.dataType==n.DataType.Number&&(i.width=80),s=Object.getOwnPropertyDescriptor(h,f),!s||s.writable||n.isFunction(s.set)||i._setFlag(t.RowColFlags.ReadOnly,!0),this.columns.push(i));this._updateColumnTypes()},u.prototype._updateColumnTypes=function(){var u=this.collectionView,f,r,i,t;if(n.hasItems(u))for(f=u.items[0],r=this.columns,i=0;i<r.length;i++)t=r[i],t.dataType==null&&t._binding&&(t.dataType=n.getType(t._binding.getValue(f)))},u.prototype._getBindingColumn=function(n,t,i){return i},u.prototype._bindRows=function(){var f=new n.CancelEventArgs,i,r,u,t;if(this.onLoadingRows(f)){if(this.rows.clear(),i=this.collectionView,i&&i.items)if(r=i.items,u=i.groups,this.childItemsPath)for(t=0;t<r.length;t++)this._addNode(r,t,0);else if(u!=null&&u.length>0&&this.showGroups)for(t=0;t<u.length;t++)this._addGroup(u[t]);else for(t=0;t<r.length;t++)this._addBoundRow(r,t);this.onLoadedRows(f)}},u.prototype._addBoundRow=function(n,i){this.rows.push(new t.Row(n[i]))},u.prototype._addNode=function(i,r,u){var e=new t.GroupRow,o=this.childItemsPath,c=n.isArray(o)?o[u]:o,h=i[r],s=h[c],f;if(e.dataItem=h,e.level=u,this.rows.push(e),n.isArray(s))for(f=0;f<s.length;f++)this._addNode(s,f,u+1)},u.prototype._addGroup=function(n){var r=new t.GroupRow,u,i;if(r.level=n.level,r.dataItem=n,this.rows.push(r),n.isBottomLevel)for(u=n.items,i=0;i<u.length;i++)this._addBoundRow(u,i);else for(i=0;i<n.groups.length;i++)this._addGroup(n.groups[i])},u._getSerializableProperties=function(n){var f=[],u,i,t,r;for(n=n.prototype;n!=Object.prototype;n=Object.getPrototypeOf(n))for(u=Object.getOwnPropertyNames(n),i=0;i<u.length;i++)t=u[i],r=Object.getOwnPropertyDescriptor(n,t),r&&r.set&&r.get&&t[0]!='_'&&!t.match(/disabled|required/)&&f.push(t);return f},u.prototype._copy=function(i,r){var f,u,e;if(i=='columns'){for(this.columns.clear(),f=n.asArray(r),u=0;u<f.length;u++)e=new t.Column,n.copy(e,f[u]),this.columns.push(e);return!0}return!1},u.prototype._isInputElement=function(n){if(n instanceof HTMLElement){if(n.contentEditable=='true')return!0;var t=n.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return t&&t.length>0}return!1},u.prototype._wantsInput=function(n){return!this.activeEditor&&this._isInputElement(n)&&!n.getAttribute('wj-part')},u._getMaxSupportedCssHeight=function(){var n;if(!u._maxCssHeight){var i=1e6,t=document.createElement('div');for(t.style.visibility='hidden',document.body.appendChild(t),n=i;n<=6e7;n+=5e5){if(t.style.height=n+'px',t.offsetHeight!=n)break;i=n}document.body.removeChild(t);u._maxCssHeight=i}return u._maxCssHeight},u._getRtlMode=function(){var t,i,r;return u._rtlMode||(t=n.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"><\/div><\/div>'),document.body.appendChild(t),i=t.scrollLeft,t.scrollLeft=-1e3,r=t.scrollLeft,document.body.removeChild(t),u._rtlMode=r<0?'neg':i>0?'rev':'std'),u._rtlMode},u._WJS_STICKY='wj-state-sticky',u._WJS_MEASURE='wj-state-measuring',u._MIN_VIRT_ROWS=200,u.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" tabIndex="0" style="position:fixed;opacity:0;pointer-events:none;left:-10px;top:-10px"><\/div><div wj-part="root" tabIndex="-1" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit;box-sizing:content-box"><div wj-part="cells" class="wj-cells" style="position:absolute"><\/div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none"><div style="width:100%;height:100%"><\/div><\/div><\/div><div wj-part="fcells" class="wj-cells" style="position:absolute;pointer-events:none;overflow:hidden"><\/div><div wj-part="rh" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"><\/div><\/div><div wj-part="cf" style="position:absolute;overflow:hidden;outline:none"><div wj-part="cfcells" class="wj-colfooters" style="position:relative"><\/div><\/div><div wj-part="ch" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"><\/div><\/div><div wj-part="bl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="blcells" class="wj-bottomleft" style="position:relative"><\/div><\/div><div wj-part="tl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"><\/div><\/div><div wj-part="sz" style="position:relative;visibility:hidden"><\/div><\/div>',u}(n.Control);t.FlexGrid=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u,f){i.call(this);this._p=n.asType(r,t.GridPanel);this._rng=n.asType(u,t.CellRange);this._data=f}return __extends(r,i),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),r}(n.CancelEventArgs),r,u;t.CellRangeEventArgs=i;r=function(t){function i(i,r,u){t.call(this,i,r);this._cell=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),i}(i);t.FormatItemEventArgs=r;u=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),Object.defineProperty(i.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=n.asBoolean(t)},enumerable:!0,configurable:!0}),i}(i);t.CellEditEndingEventArgs=u})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.ColumnHeader=2]="ColumnHeader";n[n.RowHeader=3]="RowHeader";n[n.TopLeft=4]="TopLeft";n[n.ColumnFooter=5]="ColumnFooter";n[n.BottomLeft=6]="BottomLeft"})(t.CellType||(t.CellType={}));var i=t.CellType,r=function(){function r(i,u,f,e,o){this._offsetY=0;this._g=n.asType(i,t.FlexGrid);this._ct=n.asInt(u);this._rows=n.asType(f,t.RowCollection);this._cols=n.asType(e,t.ColumnCollection);this._e=n.asType(o,HTMLElement);this._vrb=new t.CellRange;r._evtBlur||(r._evtBlur=document.createEvent('HTMLEvents'),r._evtBlur.initEvent('blur',!0,!1))}return Object.defineProperty(r.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),r.prototype.getCellData=function(r,u,f){var s=this._rows[n.asNumber(r,!1,!0)],h,o=null,e,c,l,a;if(n.isString(u)&&(u=this._cols.indexOf(u),u<0))throw'Invalid column name or binding.';if(h=this._cols[n.asNumber(u,!1,!0)],e=this._g?this._g._getBindingColumn(this,r,h):h,!e.binding||!s.dataItem||s.dataItem instanceof n.collections.CollectionViewGroup?s._ubv&&(o=s._ubv[h._hash]):o=e._binding.getValue(s.dataItem),o==null)switch(this._ct){case i.ColumnHeader:(r==this._rows.length-1||e!=h)&&(o=e.header);break;case i.ColumnFooter:e.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(c=this._g.collectionView,c&&(l=n.tryCast(c,n.collections.CollectionView),o=l?l.getAggregate(e.aggregate,e.binding):n.getAggregate(e.aggregate,c.items,e.binding)));break;case i.Cell:e.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(a=n.tryCast(s.dataItem,n.collections.CollectionViewGroup),a&&(o=a.getAggregate(e.aggregate,e.binding,this._g.collectionView)))}return f&&(this.cellType==i.Cell&&e.dataMap&&(o=e.dataMap.getDisplayValue(o)),o=o!=null?n.Globalize.format(o,e.format):''),o},r.prototype.setCellData=function(t,r,u,f,e){var s,v,o,c,y,h,p,a,k;if(f===void 0&&(f=!0),e===void 0&&(e=!0),s=this._rows[n.asNumber(t,!1,!0)],n.isString(r)&&(r=this._cols.indexOf(r),r<0))throw'Invalid column name or binding.';if(v=this._cols[n.asNumber(r,!1,!0)],o=this._g?this._g._getBindingColumn(this,t,v):v,this._ct==i.Cell){if(o.dataMap&&u!=null&&(o.isRequired||u!=''&&u!=null))if(c=o.dataMap,y=c.getKeyValue(u),y==null){if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath)return!1}else u=y;if(h=n.DataType.Object,o.dataType?h=o.dataType:(p=this.getCellData(t,r,!1),h=n.getType(p)),n.isBoolean(o.isRequired))if(o.isRequired||u!==''&&u!==null){if(o.isRequired&&(u===''||u===null))return!1}else u=null,f=!1;if(f&&(u=n.changeType(u,h,o.format),h!=n.DataType.Object&&n.getType(u)!=h))return!1}if(s.dataItem&&o.binding){var w=o._binding,l=s.dataItem,b=w.getValue(l);if(u!==b&&!n.DateTime.equals(u,b)&&(w.setValue(l,u),a=this._g.collectionView,a instanceof n.collections.CollectionView&&l!=a.currentEditItem)){k=new n.collections.NotifyCollectionChangedEventArgs(n.collections.NotifyCollectionChangedAction.Change,l,a.items.indexOf(l));a.onCollectionChanged(k)}}else s._ubv||(s._ubv={}),s._ubv[v._hash]=u;return e&&this._g&&this._g.invalidate(),!0},r.prototype.getCellBoundingRect=function(t,i,r){var o=this.rows[t],s=this.columns[i],u=new n.Rect(s.pos,o.pos,s.renderSize,o.renderSize),f,e;return this._g.rightToLeft&&(u.left=this.hostElement.clientWidth-u.right,n.isIE()||n.isFirefox()||(f=this.hostElement.parentElement,u.left-=f.offsetWidth-f.clientWidth)),r||(e=this.hostElement.getBoundingClientRect(),u.left+=e.left,u.top+=e.top-this._offsetY),t<this.rows.frozen&&(u.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(u.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),u},r.prototype.getCellElement=function(t,i){var u=this.getCellBoundingRect(t,i),r=document.elementFromPoint(u.left+u.width/2,u.top+u.height/2);if(r)while(r&&!n.hasClass(r,'wj-cell'))r=r.parentElement;return r},r.prototype.getSelectedState=function(n,r,u){var e=this._g,o=e.selectionMode,f=e._selHdl._sel;if(o!=t.SelectionMode.None)switch(this._ct){case i.Cell:if(u||(u=e.getMergedRange(this,n,r)),u){if(u.contains(f.row,f.col))return e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor;if(u.intersects(f))return t.SelectedState.Selected}return f.row==n&&f.col==r?e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor:e.rows[n].isSelected||e.columns[r].isSelected?t.SelectedState.Selected:(f=e._selHdl._adjustSelection(f),o==t.SelectionMode.ListBox)?t.SelectedState.None:f.containsRow(n)&&f.containsColumn(r)?t.SelectedState.Selected:t.SelectedState.None;case i.ColumnHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Column&&(e.columns[r].isSelected||f.containsColumn(r)||f.intersectsColumn(u))&&(u&&(n=u.bottomRow),n==this.rows.length-1))return t.SelectedState.Selected;break;case i.RowHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Row&&(e.rows[n].isSelected||f.containsRow(n)||f.intersectsRow(u))&&(u&&(r=u.rightCol),r==this.columns.length-1))return t.SelectedState.Selected}return t.SelectedState.None},Object.defineProperty(r.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),r.prototype._getOffsetY=function(){return this._offsetY},r.prototype._updateContent=function(u,f,e){var o,h,d,v=this._g,c=this._rows,y=this._cols,p=this._ct,w,b,l,s,k,tt,a;if((p==i.ColumnHeader||p==i.ColumnFooter||p==i.RowHeader)&&(w=v._ptScrl,b=this._e.style,p==i.RowHeader?b.top=w.y+'px':v.rightToLeft?b.right=w.x+'px':b.left=w.x+'px'),this._offsetY!=e&&(u=!1,this._offsetY=e),l=this._getViewRange(),c.length<=v._virtualizationThreshold?s=new t.CellRange(0,0,c.length-1,y.length-1):(s=l.clone(),s.isValid&&v.isTouching&&(k=6,s.row=Math.max(l.row-k,c.frozen),s.row2=Math.min(l.row2+k,c.length-1),s.col=Math.max(l.col-1,y.frozen),s.col2=Math.min(l.col2+1,y.length-1))),!u||f||!this._vrb.contains(l)||c.frozen||y.frozen){if(u&&s.equals(this._vrb)||(f=!1),!u){var g=n.getActiveElement(),nt=n.contains(this._e,g)?g:null,it=this._g.cellFactory;for(a=0;a<this._e.childElementCount;a++)it.disposeCell(this._e.children[a]);n.setText(this._e,null);nt&&nt.dispatchEvent(r._evtBlur);this._rowIdx=[]}for(u&&this._ct!=i.TopLeft&&this._reorderCells(s,this._vrb),this._vru=l,this._vrb=s,h=0,this._rowIdx=[],o=s.topRow;o<=s.bottomRow&&o>-1;o++)this._rowIdx.push(h),h=this._renderRow(o,s,!1,f,h);for(this._rowIdx.push(h),o=s.topRow;o<=s.bottomRow&&o>-1;o++)h=this._renderRow(o,s,!0,f,h);for(o=0;o<c.frozen&&o<c.length;o++)h=this._renderRow(o,s,!1,f,h);for(o=0;o<c.frozen&&o<c.length;o++)h=this._renderRow(o,s,!0,f,h);for(tt=this._e.childElementCount,a=h;a<tt;a++)d=this._e.children[a],d.style.display='none'}},r.prototype._reorderCells=function(n,i){var h,r,s,c,f,l,e,o,u;if(this._rowIdx&&!(this._rows.frozen>0)&&!(this._cols.frozen>0)&&n.columnSpan==i.columnSpan&&n.rowSpan==i.rowSpan&&i.isValid&&n.isValid&&n.intersects(i)&&(n.row!=i.row&&(r=n.row-i.row,s=Math.max(1,n.rowSpan-1),r!=0&&Math.abs(r)<s&&(r>0&&(u=this._createRange(0,this._rowIdx[r]),this._e.appendChild(u.extractContents())),r<0&&(h=this._rowIdx.length-1,u=this._createRange(this._rowIdx[h+r],this._rowIdx[h]),this._e.insertBefore(u.extractContents(),this._e.firstChild)))),n.col!=i.col&&(r=n.col-i.col,s=Math.max(1,n.columnSpan-1),r!=0&&Math.abs(r)<s)))for(c=this._e.childElementCount,f=0;f<this._rowIdx.length-1;f++)l=this.rows[n.topRow+f],l instanceof t.GroupRow||(e=this._rowIdx[f],o=this._rowIdx[f+1],r>0&&e+r<=c&&(u=this._createRange(e,e+r),this._e.insertBefore(u.extractContents(),this._e.children[o])),r<0&&o+r-1>=0&&(u=this._createRange(o+r-1,o-1),this._e.insertBefore(u.extractContents(),this._e.children[e])))},r.prototype._createRange=function(n,t){var i=document.createRange();return i.setStart(this._e,n),i.setEnd(this._e,t),i},r.prototype._renderRow=function(n,t,i,r,u){var f;if(this.rows[n].renderSize<=0)return u;if(i)for(f=0;f<this.columns.frozen&&f<this.columns.length;f++)u=this._renderCell(n,f,t,r,u);else for(f=t.leftCol;f<=t.rightCol&&f>-1;f++)u=this._renderCell(n,f,t,r,u);return u},r.prototype._renderCell=function(i,r,u,f,e){var l=this._g,h=l.getMergedRange(this,i,r),s,o,c;if(h){for(s=Math.max(u.row,h.row);s<i;s++)if(this.rows[s].isVisible)return e;for(s=Math.max(u.col,h.col);s<r;s++)if(this.columns[s].isVisible)return e}return this.columns[r].renderSize<=0&&(!h||h.getRenderSize(this).width<=0)?e:(o=this._e.childNodes[e++],o&&f)?(c=this.getSelectedState(i,r,h),n.toggleClass(o,'wj-state-selected',c==t.SelectedState.Cursor),n.toggleClass(o,'wj-state-multi-selected',c==t.SelectedState.Selected),e):(o||(o=document.createElement('div'),o.tabIndex=0,this._e.appendChild(o)),l.cellFactory.updateCell(this,i,r,o,h),e)},r.prototype._getViewRange=function(){var e=this._g,l=e._ptScrl,r=this._rows,u=this._cols,n=new t.CellRange(0,0,r.length-1,u.length-1),o,f;if(this._ct==i.Cell||this._ct==i.RowHeader){var h=-l.y+this._offsetY,a=e._szClient.height,s=Math.min(r.frozen,r.length-1);s>0&&(f=r[s-1].pos,h+=f,a-=f);n.row=Math.min(r.length-1,Math.max(r.frozen,r.getItemAt(h+1)));n.row2=r.getItemAt(h+a);e._clipToScreen()&&(o=e.hostElement.getBoundingClientRect(),o.top<0&&(n.row=Math.max(n.row,r.getItemAt(-o.top)-1)),o.bottom>innerHeight&&(n.row2=Math.min(n.row2,r.getItemAt(-o.top+innerHeight)+1)))}if(this._ct==i.Cell||this._ct==i.ColumnHeader){var c=-l.x,v=e._szClient.width,s=Math.min(u.frozen,u.length-1);s>0&&(f=u[s-1].pos,c+=f,v-=f);n.col=Math.min(u.length-1,Math.max(u.frozen,u.getItemAt(c+1)));n.col2=u.getItemAt(c+v)}return r.length<=r.frozen&&(n.row=n.row2=-1),u.length<=u.frozen&&(n.col=n.col2=-1),n},r.prototype._getFrozenPos=function(){var r=this._rows.frozen,u=this._cols.frozen,t=r>0?this._rows[r-1]:null,i=u>0?this._cols[u-1]:null,f=t?t.pos+t.renderSize:0,e=i?i.pos+i.renderSize:0;return new n.Point(e,f)},r}();t.GridPanel=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){}return i.prototype.updateCell=function(r,u,f,e,o,s){var h=r.grid,ft=h.rightToLeft,y=r.cellType,d=r.rows,g=r.columns,a=d[u],nt=g[f],rt=u,et=f,p=a instanceof t.GroupRow?a:null,ni=a instanceof t._NewRowTemplate?a:null,ti=nt.renderWidth,ii=a.renderHeight,l='wj-cell',v={display:''},vt=s!=!1,yt,st,wt,tt,ht,ri,ct,k,ui,bt,lt,w,kt,dt,b,gt,ut,at,it,si,fi,o,ei;s!=!1&&e.firstElementChild&&(e.childNodes.length!=1||e.firstElementChild.type!='checkbox')&&(n.setText(e,null),vt=!1);o&&!o.isSingleCell&&(u=o.row,f=o.col,rt=o.row2,et=o.col2,a=d[u],nt=g[f],p=n.tryCast(a,t.GroupRow),yt=o.getRenderSize(r),ii=yt.height,ti=yt.width);var c=h._getBindingColumn(r,u,nt),oi=c.dataType==n.DataType.Boolean&&!c.dataMap,ot=nt.pos,pt=a.pos;if(h._useFrozenDiv()&&y==t.CellType.Cell&&!h.editRange?(u<d.frozen&&f>=g.frozen&&(ot+=h._ptScrl.x),f<g.frozen&&u>=d.frozen&&(pt+=h._ptScrl.y)):(u<d.frozen&&(pt-=h._ptScrl.y),f<g.frozen&&(ot-=h._ptScrl.x)),ft?v.right=ot+'px':v.left=ot+'px',v.top=pt-r._getOffsetY()+'px',v.width=ti+'px',v.height=ii+'px',y==t.CellType.Cell?(p&&(l+=' wj-group'),h.showAlternatingRows&&u%2!=0&&(o&&o.row!=o.row2||(l+=' wj-alt')),(u<d.frozen||f<g.frozen)&&(l+=' wj-frozen',vt=!1),ni&&(l+=' wj-new'),a.cssClass&&(l+=' '+a.cssClass),c.cssClass&&(l+=' '+c.cssClass)):(l+=' wj-header',h.showAlternatingRows&&u%2!=0&&(l+=' wj-header-alt')),st=h.collectionView,st&&h.showErrors&&a.dataItem)if(y==t.CellType.Cell)tt=st.getError,n.isFunction(tt)&&(e.title='',wt=tt(a.dataItem,c.binding),wt&&(l+=' wj-state-invalid',e.title=wt));else if(y==t.CellType.RowHeader&&(tt=st.getError,n.isFunction(tt)))for(ht=0;ht<h.columns.length;ht++)if(ri=h._getBindingColumn(r,u,h.columns[ht]),tt(a.dataItem,ri.binding)){l+=' wj-state-invalid';break}ct=r.getSelectedState(u,f,o);ct!=t.SelectedState.None&&y==t.CellType.Cell&&!oi&&h.editRange&&h.editRange.contains(u,f)&&(ct=t.SelectedState.None);switch(ct){case t.SelectedState.Cursor:l+=' wj-state-selected';break;case t.SelectedState.Selected:l+=' wj-state-multi-selected'}if(rt==d.frozen-1&&(l+=' wj-frozen-row'),et==g.frozen-1&&(l+=' wj-frozen-col'),(c.wordWrap||a.wordWrap)&&(l+=' wj-wrap'),vt&&l==e.className&&(k=e.style,k.top==v.top&&k.width==v.width&&k.height==v.height&&(ft&&k.right==v.right||!ft&&k.left==v.left))){k.display&&(k.display='');return}v.textAlign=c.getAlignment();y==t.CellType.Cell&&h.rows.maxGroupLevel>-1&&(v.paddingLeft=v.paddingRight='',f==h.columns.firstVisibleIndex&&h.treeIndent&&(ui=p?Math.max(0,p.level):h.rows.maxGroupLevel+1,bt=h.treeIndent*ui+h._cellPadding,ft?v.paddingRight=bt+'px':v.paddingLeft=bt+'px'));s!=!1&&(lt=r.getCellData(u,f,!1),w=r.getCellData(u,f,!0),y==t.CellType.Cell&&f==h.columns.firstVisibleIndex&&p&&p.hasChildren&&!this._isEditingCell(h,u,f)?(w||(w=p.getGroupHeader()),e.innerHTML=this._getTreeIcon(p)+' '+w,v.textAlign=''):y==t.CellType.ColumnHeader&&c.currentSort&&h.showSort&&(rt==h._getSortRowIndex()||c!=nt)?(l+=' wj-sort-'+(c.currentSort=='+'?'asc':'desc'),e.innerHTML=n.escapeHtml(w)+'&nbsp;'+this._getSortIcon(c)):y!=t.CellType.RowHeader||f!=h.rowHeaders.columns.length-1||w?y!=t.CellType.Cell||c.dataType!=n.DataType.Boolean||c.dataMap||p&&!n.isBoolean(lt)?y==t.CellType.Cell&&this._isEditingCell(h,u,f)?(gt=c.inputType,c.inputType||(gt=c.dataType==n.DataType.Number&&!c.dataMap?'tel':'text'),c.dataMap||c.mask||(ut=r.getCellData(u,f,!1),n.isNumber(ut)&&(at=c.format,at&&ut!=Math.round(ut)&&(at=c.format.replace(/([a-z])(\d*)(.*)/ig,'$0112$3')),w=n.Globalize.formatNumber(ut,at,!0))),e.innerHTML='<input type="'+gt+'" class="wj-grid-editor wj-form-control">',it=e.children[0],it.value=w,it.required=c.getIsRequired(),it.style.textAlign=c.getAlignment(),v.padding='0px',c.mask&&(si=new n._MaskProvider(it,c.mask)),h._edtHdl._edt=it):y==t.CellType.Cell&&(a.isContentHtml||c.isContentHtml)?e.innerHTML=w:n.setText(e,w):(b=e.firstChild,b instanceof HTMLInputElement&&b.type=='checkbox'||(e.innerHTML='<input type="checkbox" class="wj-cell-check"/>',b=e.firstChild),b.checked=lt==!0?!0:!1,b.indeterminate=lt==null,b.disabled=!h.canEditCell(u,f),b.disabled&&(b.style.cursor='default'),h.editRange&&h.editRange.contains(u,f)&&(h._edtHdl._edt=b)):(kt=h.collectionView,dt=kt?kt.currentEditItem:null,dt&&a.dataItem==dt?e.innerHTML='<span class="wj-glyph-pencil"></span>':n.tryCast(a,t._NewRowTemplate)&&(e.innerHTML='<span class="wj-glyph-asterisk"></span>')),y==t.CellType.Cell&&n.input&&c.dataMap&&c.showDropDown!==!1&&h.canEditCell(u,f)&&(i._ddIcon||(i._ddIcon=n.createElement('<div class="'+i._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>')),fi=i._ddIcon.cloneNode(!0),e.appendChild(fi)));switch(y){case t.CellType.RowHeader:e.removeAttribute('draggable');p||ni||(h.allowDragging&t.AllowDragging.Rows)==0||!a.allowDragging||e.setAttribute('draggable','true');break;case t.CellType.ColumnHeader:e.removeAttribute('draggable');(h.allowDragging&t.AllowDragging.Columns)!=0&&nt.allowDragging&&e.setAttribute('draggable','true')}if(e.className!=l&&(e.className=l),n.setCss(e,v),h.itemFormatter&&h.itemFormatter(r,u,f,e),h.formatItem.hasHandlers){o=i._fmtRng;o?o.setRange(u,f,rt,et):o=i._fmtRng=new t.CellRange(u,f,rt,et);ei=new t.FormatItemEventArgs(r,o,e);h.onFormatItem(ei)}},i.prototype.disposeCell=function(){},i.prototype.getEditorValue=function(n){var t=n._edtHdl._edt;return t instanceof HTMLInputElement?t.type=='checkbox'?t.checked:t.value:null},i.prototype._isEditingCell=function(n,t,i){return n.editRange&&n.editRange.contains(t,i)},i.prototype._getTreeIcon=function(n){var t='wj-glyph-'+(n.isCollapsed?'':'down-')+(n.grid.rightToLeft?'left':'right');return'<span class="'+i._WJC_COLLAPSE+' '+t+'"></span>'},i.prototype._getSortIcon=function(n){return'<span class="wj-glyph-'+(n.currentSort=='+'?'up':'down')+'"></span>'},i._WJC_COLLAPSE='wj-elem-collapse',i._WJC_DROPDOWN='wj-elem-dropdown',i}();t.CellFactory=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(n,t,i,r){n===void 0&&(n=-1);t===void 0&&(t=-1);i===void 0&&(i=n);r===void 0&&(r=t);this.setRange(n,t,i,r)}return t.prototype.setRange=function(t,i,r,u){t===void 0&&(t=-1);i===void 0&&(i=-1);r===void 0&&(r=t);u===void 0&&(u=i);this._row=n.asInt(t);this._col=n.asInt(i);this._row2=n.asInt(r);this._col2=n.asInt(u)},Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=n.asInt(t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),t.prototype.contains=function(i,r){var u=n.tryCast(i,t);if(u)return u.topRow>=this.topRow&&u.bottomRow<=this.bottomRow&&u.leftCol>=this.leftCol&&u.rightCol<=this.rightCol;if(n.isInt(i)&&n.isInt(r))return i>=this.topRow&&i<=this.bottomRow&&r>=this.leftCol&&r<=this.rightCol;throw'contains expects a CellRange or row/column indices.';},t.prototype.containsRow=function(t){return n.asInt(t)>=this.topRow&&t<=this.bottomRow},t.prototype.containsColumn=function(t){return n.asInt(t)>=this.leftCol&&t<=this.rightCol},t.prototype.intersects=function(n){return this.intersectsRow(n)&&this.intersectsColumn(n)},t.prototype.intersectsRow=function(n){return n&&!(this.bottomRow<n.topRow||this.topRow>n.bottomRow)},t.prototype.intersectsColumn=function(n){return n&&!(this.rightCol<n.leftCol||this.leftCol>n.rightCol)},t.prototype.getRenderSize=function(t){var u=new n.Size(0,0),i,r;if(this.isValid){for(i=this.topRow;i<=this.bottomRow;i++)u.height+=t.rows[i].renderSize;for(r=this.leftCol;r<=this.rightCol;r++)u.width+=t.columns[r].renderSize}return u},t.prototype.equals=function(n){return n instanceof t&&this._row==n._row&&this._col==n._col&&this._row2==n._row2&&this._col2==n._col2},t}();t.CellRange=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,r,e,o,f,s,h;(function(n){n[n.Visible=1]="Visible";n[n.AllowResizing=2]="AllowResizing";n[n.AllowDragging=4]="AllowDragging";n[n.AllowMerging=8]="AllowMerging";n[n.AllowSorting=16]="AllowSorting";n[n.AutoGenerated=32]="AutoGenerated";n[n.Collapsed=64]="Collapsed";n[n.ParentCollapsed=128]="ParentCollapsed";n[n.Selected=256]="Selected";n[n.ReadOnly=512]="ReadOnly";n[n.HtmlContent=1024]="HtmlContent";n[n.WordWrap=2048]="WordWrap";n[n.RowDefault=3]="RowDefault";n[n.ColumnDefault=23]="ColumnDefault"})(t.RowColFlags||(t.RowColFlags={}));i=t.RowColFlags;u=function(){function r(){this._list=null;this._pos=0;this._idx=-1}return Object.defineProperty(r.prototype,"visible",{get:function(){return this._getFlag(i.Visible)},set:function(n){this._setFlag(i.Visible,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return this._getFlag(i.Visible)?this._getFlag(i.ParentCollapsed)&&!(this instanceof t._NewRowTemplate)?!1:!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pos",{get:function(){return this._list&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._list&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=n.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var n=this._sz,t=this._list;return t&&((n==null||n<0)&&(n=Math.round(t.defaultSize)),t.minSize!=null&&n<t.minSize&&(n=t.minSize),t.maxSize!=null&&n>t.maxSize&&(n=t.maxSize)),this._szMin!=null&&n<this._szMin&&(n=this._szMin),this._szMax!=null&&n>this._szMax&&(n=this._szMax),Math.round(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowResizing",{get:function(){return this._getFlag(i.AllowResizing)},set:function(n){this._setFlag(i.AllowResizing,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowDragging",{get:function(){return this._getFlag(i.AllowDragging)},set:function(n){this._setFlag(i.AllowDragging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowMerging",{get:function(){return this._getFlag(i.AllowMerging)},set:function(n){this._setFlag(i.AllowMerging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isSelected",{get:function(){return this._getFlag(i.Selected)},set:function(n){if(this._setFlag(i.Selected,n,!0)){var t=this.grid;t&&t.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this._getFlag(i.ReadOnly)},set:function(n){this._setFlag(i.ReadOnly,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._getFlag(i.HtmlContent)},set:function(n){this.isContentHtml!=n&&(this._setFlag(i.HtmlContent,n),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._getFlag(i.WordWrap)},set:function(n){this._setFlag(i.WordWrap,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=n.asString(t),this.grid&&this.grid.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),r.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},r.prototype._getFlag=function(n){return(this._f&n)!=0},r.prototype._setFlag=function(n,t,i){return t!=this._getFlag(n)?(this._f=t?this._f|n:this._f&~n,i||this.onPropertyChanged(),!0):!1},r}();t.RowCol=u;r=function(r){function u(t){r.call(this);this._f=i.ColumnDefault;this._hash=u._ctr.toString(36);u._ctr++;t&&n.copy(this,t)}return __extends(u,r),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataType",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=n.asEnum(t,n.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=n.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){var r,i,u;t!=this.binding&&(r=n.asString(t),this._binding=r?new n.Binding(r):null,!this._type&&this.grid&&this._binding&&(i=this.grid.collectionView,i&&i.sourceCollection&&i.sourceCollection.length&&(u=i.sourceCollection[0],this._type=n.getType(this._binding.getValue(u)))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var i=n.asString(t);this._bindingSort=i?new n.Binding(i):null;this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._szStar!=null?this._szStar:this.size},set:function(t){u._parseStarSize(t)!=null?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(n){this._align!=n&&(this._align=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype.getAlignment=function(){var t=this._align;if(t==null&&(t='',!this._map))switch(this._type){case n.DataType.Boolean:t='center';break;case n.DataType.Number:t='right'}return t},u.prototype.getIsRequired=function(){return this._required!=null?this._required:this.dataType==n.DataType.String?this.dataMap!=null||this._mask&&this._mask.length>0:!0},Object.defineProperty(u.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(n){this._hdr!=n&&(this._hdr=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map!=i&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),n.isArray(i)&&(i=new t.DataMap(i,null,null)),this._map=n.asType(i,t.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._fmt},set:function(n){this._fmt!=n&&(this._fmt=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._getFlag(i.AllowSorting)},set:function(n){this._setFlag(i.AllowSorting,n)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentSort",{get:function(){var t,n;if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(t=this.grid.collectionView.sortDescriptions,n=0;n<t.length;n++)if(t[n].property==this._getBindingSort())return t[n].ascending?'+':'-';return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"aggregate",{get:function(){return this._agg!=null?this._agg:n.Aggregate.None},set:function(t){t!=this._agg&&(this._agg=n.asEnum(t,n.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},u._parseStarSize=function(t){if(n.isString(t)&&t.length>0&&t[t.length-1]=='*'){var i=t.length==1?1:t.substr(0,t.length-1)*1;if(i>0&&!isNaN(i))return i}return null},u._ctr=0,u}(u);t.Column=r;e=function(n){function t(t){n.call(this);this._f=i.ColumnDefault;this._data=t}return __extends(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(n){this.size=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(u);t.Row=e;o=function(r){function u(){r.call(this);this._level=-1;this.isReadOnly=!0}return __extends(u,r),Object.defineProperty(u.prototype,"level",{get:function(){return this._level},set:function(t){n.asInt(t);t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasChildren",{get:function(){if(this.grid!=null&&this._list!=null){this._list._update();var i=this.index<this._list.length-1?this._list[this.index+1]:null,r=n.tryCast(i,u),f=n.tryCast(i,t._NewRowTemplate);return i&&f==null&&(r==null||r.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isCollapsed",{get:function(){return this._getFlag(i.Collapsed)},set:function(t){n.asBoolean(t);t!=this.isCollapsed&&this._list!=null&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),u.prototype.getGroupHeader=function(){var u=this.grid,o=u.groupHeaderFormat?u.groupHeaderFormat:n.culture.FlexGrid.groupHeaderFormat,r=n.tryCast(this.dataItem,n.collections.CollectionViewGroup),s;if(r&&o){var f=r.groupDescription.propertyName,i=r.name,t=u.getColumn(f),e=this.isContentHtml;return t&&(e=e||t.isContentHtml,t.header&&(f=t.header),t.dataMap?i=t.dataMap.getDisplayValue(i):t.format&&(i=n.Globalize.format(i,t.format))),s=r.getAggregate(n.Aggregate.CntAll,null,u.collectionView),n.format(o,{name:n.escapeHtml(f),value:e?i:n.escapeHtml(i),level:r.level,count:s})}return''},u.prototype._setCollapsed=function(r){var c=this,f=this.grid,o=f.rows,h=this.getCellRange(),s=new t.CellRangeEventArgs(f.cells,new t.CellRange(this.index,-1)),e;f.onGroupCollapsedChanging(s);if(!s.cancel){f.deferUpdate(function(){c._setFlag(i.Collapsed,r);for(var t=h.topRow+1;t<=h.bottomRow&&t>-1&&t<o.length;t++)o[t]._setFlag(i.ParentCollapsed,r),e=n.tryCast(o[t],u),e!=null&&e.isCollapsed&&(t=e.getCellRange().bottomRow)});f.onGroupCollapsedChanged(s)}},u.prototype.getCellRange=function(){for(var f,e=this._list,o=this.index,r=e.length-1,i=o+1;i<=r;i++)if(f=n.tryCast(e[i],u),f!=null&&f.level<=this.level){r=i-1;break}return new t.CellRange(o,0,r,this.grid.columns.length-1)},u}(e);t.GroupRow=o;f=function(i){function r(r,u){i.call(this);this._frozen=0;this._szDef=28;this._szTot=0;this._dirty=!1;this._g=n.asType(r,t.FlexGrid);this._szDef=n.asNumber(u,!1,!0)}return __extends(r,i),Object.defineProperty(r.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.isFrozen=function(n){return n<this.frozen},Object.defineProperty(r.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.getTotalSize=function(){return this._update(),this._szTot},r.prototype.getItemAt=function(n){if(this._update(),n<=0&&this.length>0)return 0;for(var u=0,i=this.length-1,t,r;u<=i;)if(t=u+i>>>1,r=this[t],r._pos>n)i=t-1;else if(r._pos+r.renderSize<n)u=t+1;else{while(t>0&&!this[t].visible)t--;while(t<this.length-1&&!this[t].visible)t++;return t}return i},r.prototype.getNextCell=function(n,i,r){var u;switch(i){case t.SelMove.Next:for(u=n+1;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.Prev:for(u=n-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.End:for(u=this.length-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.Home:for(u=0;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.NextPage:return u=this.getItemAt(this[n].pos+r),u<0?this.getNextCell(n,t.SelMove.End,r):u==n&&u<this.length-1?u+1:u;case t.SelMove.PrevPage:return u=this.getItemAt(this[n].pos-r),u<0?this.getNextCell(n,t.SelMove.Home,r):u==n&&u>0?u-1:u}return n},r.prototype.canMoveElement=function(n,i){var u,f,r;if(i==n||n<0||n>=this.length||i>=this.length)return!1;for(i<0&&(i=this.length-1),u=Math.min(n,i),f=Math.max(n,i),r=u;r<=f;r++)if(!this[r].allowDragging)return!1;return this[i]instanceof t._NewRowTemplate?!1:!0},r.prototype.moveElement=function(n,t){if(this.canMoveElement(n,t)){var i=this[n];this.removeAt(n);t<0&&(t=this.length);this.insert(t,i)}},r.prototype.onCollectionChanged=function(t){t===void 0&&(t=n.collections.NotifyCollectionChangedEventArgs.reset);this._dirty=!0;this._g.invalidate();i.prototype.onCollectionChanged.call(this,t)},r.prototype.push=function(n){return n._list=this,i.prototype.push.call(this,n)},r.prototype.splice=function(n,t,r){return r&&(r._list=this),i.prototype.splice.call(this,n,t,r)},r.prototype.beginUpdate=function(){this._update();i.prototype.beginUpdate.call(this)},r.prototype._update=function(){var i,n,t;if(this._dirty&&!this.isUpdating){for(this._dirty=!1,i=0,t=0;t<this.length;t++)n=this[t],n._idx=t,n._list=this,n._pos=i,i+=n.renderSize;return this._szTot=i,!0}return!1},r}(n.collections.ObservableArray);t.RowColCollection=f;s=function(n){function t(){n.apply(this,arguments);this._firstVisible=-1}return __extends(t,n),t.prototype.getColumn=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(t){var i;if(t instanceof r)return n.prototype.indexOf.call(this,t);for(i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(n){for(var u,t,e=0,f,i=0;i<this.length;i++)t=this[i],t.isVisible&&(t._szStar?(e+=r._parseStarSize(t._szStar),f=t):n-=t.renderWidth);if(f){for(u=n,i=0;i<this.length;i++)t=this[i],t.isVisible&&t._szStar&&(t==f&&u>0?t._sz=u:(t._sz=Math.max(0,Math.round(r._parseStarSize(t._szStar)/e*n)),u-=t.renderWidth));return this._dirty=!0,this._update(),!0}return!1},t}(f);t.ColumnCollection=s;h=function(t){function i(){t.apply(this,arguments);this._maxLevel=-1}return __extends(i,t),Object.defineProperty(i.prototype,"maxGroupLevel",{get:function(){return this._update(),this._maxLevel},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i,r;if(t.prototype._update.call(this)){for(this._maxLevel=-1,i=0;i<this.length;i++)r=n.tryCast(this[i],o),r&&r.level>this._maxLevel&&(this._maxLevel=r.level);return!0}return!1},i}(f);t.RowCollection=h})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(i){'use strict';var r=function(){function r(t,u){var f,h,a,v;if(this._row=-1,this._col=-1,this._edge=0,t instanceof i.FlexGrid)f=this._g=t;else if(t instanceof i.GridPanel)this._p=t,f=this._g=this._p.grid;else throw'First parameter should be a FlexGrid or GridPanel.';u=n.mouseToPage(u);this._pt=u.clone();var y=f.controlRect,p=f._szClient,tt=f.topLeftCells,it=f._eTL,w=f.headersVisibility,b=i.HeadersVisibility,s=w&b.Row?tt.columns.getTotalSize():0,c=w&b.Column?tt.rows.getTotalSize():0,k=w&b.Column?c+it.offsetTop:0,d=f._eBL,rt=d.offsetHeight;if(u.x-=y.left,u.y-=y.top,this._g.rightToLeft&&(u.x=y.width-u.x),!this._p&&u.x>=0&&u.y>=it.offsetTop&&p&&u.x<=p.width+s&&u.y<=p.height+k&&(this._p=u.y<=k?u.x<=s?f.topLeftCells:f.columnHeaders:u.y<=d.offsetTop?u.x<=s?f.rowHeaders:f.cells:u.x<=s?f.bottomLeftCells:f.columnFooters),this._p!=null){var g=this._p.rows,nt=this._p.columns,e=this._p.cellType,o=i.CellType,l=this._p._getFrozenPos(),ut=e==o.TopLeft||e==o.ColumnHeader?c:e==o.BottomLeft||e==o.ColumnFooter?rt:g.getTotalSize(),ft=e==o.TopLeft||e==o.BottomLeft||e==o.RowHeader?s:nt.getTotalSize();if(e==o.RowHeader||e==o.Cell?(u.y-=c,(u.y>l.y||l.y<=0)&&(u.y-=f._ptScrl.y,u.y+=this._p._getOffsetY())):(e==o.BottomLeft||e==o.ColumnFooter)&&(u.y-=d.offsetTop),(e==o.ColumnHeader||e==o.Cell||e==o.ColumnFooter)&&(u.x-=s,(u.x>l.x||l.x<=0)&&(u.x-=f._ptScrl.x)),(e==o.ColumnHeader||e==o.TopLeft)&&(u.y-=k-c),this._row=u.y>ut?-1:g.getItemAt(u.y),this._col=u.x>ft?-1:nt.getItemAt(u.x),this._row<0||this._col<0){this._p=null;return}this._edge=0;h=r._SZEDGE[this._g.isTouching?1:0];this._col>-1&&(a=nt[this._col],u.x-a.pos<=h&&(this._edge|=1),a.pos+a.renderSize-u.x<=h&&(this._edge|=4));this._row>-1&&(v=g[this._row],u.y-v.pos<=h&&(this._edge|=2),v.pos+v.renderSize-u.y<=h&&(this._edge|=8))}}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._p?this._p.cellType:t.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return new i.CellRange(this._row,this._col)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeLeft",{get:function(){return(this._edge&1)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeTop",{get:function(){return(this._edge&2)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeRight",{get:function(){return(this._edge&4)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeBottom",{get:function(){return(this._edge&8)!=0},enumerable:!0,configurable:!0}),r._SZEDGE=[5,30],r}();i.HitTestInfo=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cells=1]="Cells";n[n.ColumnHeaders=2]="ColumnHeaders";n[n.RowHeaders=4]="RowHeaders";n[n.AllHeaders=6]="AllHeaders";n[n.All=7]="All"})(t.AllowMerging||(t.AllowMerging={}));var i=t.AllowMerging,r=function(){function r(n){this._g=n}return r.prototype.getMergedRange=function(r,u,f,e){var c,g,b,v,y,nt,k,p,w;e===void 0&&(e=!0);var o,l,h=r.cellType,s=r.columns,a=r.rows,d=a[u],tt=s[f];if(d instanceof t._NewRowTemplate)return null;if(d instanceof t.GroupRow&&d.dataItem instanceof n.collections.CollectionViewGroup){if(o=new t.CellRange(u,f),tt.aggregate==n.Aggregate.None){while(o.col>0&&s[o.col-1].aggregate==n.Aggregate.None&&o.col!=s.frozen)o.col--;while(o.col2<s.length-1&&s[o.col2+1].aggregate==n.Aggregate.None&&o.col2+1!=s.frozen)o.col2++}while(o.col<f&&!s[o.col].visible)o.col++;return o.isSingleCell?null:o}c=!1;switch(this._g.allowMerging){case i.None:c=!0;break;case i.Cells:c=h!=t.CellType.Cell;break;case i.ColumnHeaders:c=h!=t.CellType.ColumnHeader&&h!=t.CellType.TopLeft;break;case i.RowHeaders:c=h!=t.CellType.RowHeader&&h!=t.CellType.TopLeft;break;case i.AllHeaders:c=h==t.CellType.Cell}if(c)return null;if(s[f].allowMerging){for(o=new t.CellRange(u,f),g=0,b=a.length-1,u>=a.frozen?e&&(h==t.CellType.Cell||h==t.CellType.RowHeader)&&(l=r._getViewRange(),g=l.topRow,b=l.bottomRow):b=a.frozen-1,v=u-1;v>=g&&this._mergeCell(r,v,f,u,f);v--)o.row=v;for(y=u+1;y<=b&&this._mergeCell(r,u,f,y,f);y++)o.row2=y;while(o.row<u&&!a[o.row].visible)o.row++;if(!o.isSingleCell)return o}if(a[u].allowMerging){for(o=new t.CellRange(u,f),nt=0,k=s.length-1,f>=s.frozen?e&&(h==t.CellType.Cell||h==t.CellType.ColumnHeader)&&(l=r._getViewRange(),nt=l.leftCol,k=l.rightCol):k=s.frozen-1,p=f-1;p>=nt&&this._mergeCell(r,u,p,u,f);p--)o.col=p;for(w=f+1;w<=k&&this._mergeCell(r,u,f,u,w);w++)o.col2=w;while(o.col<f&&!s[o.col].visible)o.col++;if(!o.isSingleCell)return o}return null},r.prototype._mergeCell=function(n,i,r,u,f){var e=n.rows[i],o=n.rows[u];return e instanceof t.GroupRow||e instanceof t._NewRowTemplate||o instanceof t.GroupRow||o instanceof t._NewRowTemplate?!1:i!=u&&n.rows.isFrozen(i)!=n.rows.isFrozen(u)?!1:r!=f&&n.columns.isFrozen(r)!=n.columns.isFrozen(f)?!1:i!=u&&(r>0&&(e.allowMerging&&this._mergeCell(n,i,r-1,i,r)||o.allowMerging&&this._mergeCell(n,u,r-1,u,r))||f<n.columns.length-1&&(e.allowMerging&&this._mergeCell(n,i,f,i,f+1)||o.allowMerging&&this._mergeCell(n,u,f,u,f+1)))?!1:n.getCellData(i,r,!0)!=n.getCellData(u,f,!0)?!1:!0},r}();t.MergeManager=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i,r){var f,u;if(this.mapChanged=new n.Event,n.isArray(t)&&!i&&!r){for(f=[],u=0;u<t.length;u++)f.push({value:t[u]});t=f;i=r='value'}this._cv=n.asCollectionView(t);this._keyPath=n.asString(i,!1);this._displayPath=n.asString(r,!1);this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return this._sortByKey!=!0},set:function(t){this._sortByKey=!n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(n){var t=this._indexOf(n,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null},t.prototype.getDisplayValue=function(n){var t=this._indexOf(n,this._keyPath,!0);return t>-1?this._cv.sourceCollection[t][this._displayPath]:n},t.prototype.getDisplayValues=function(){var i=[],t,n;if(this._cv&&this._displayPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._displayPath]);return i},t.prototype.getKeyValues=function(){var i=[],t,n;if(this._cv&&this._keyPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._keyPath]);return i},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(n){this.mapChanged.raise(this,n)},t.prototype._indexOf=function(n,t,i){var u=-1,e=-1,r,s,f;if(this._cv&&t){var o=n!=null?n.toString():'',h=i?o:o.toLowerCase(),c=this._cv.sourceCollection;for(r=0;r<c.length;r++)if(s=c[r],f=s[t],f==n?u=r:i||f.length!=h.length||f.toLowerCase()!=h?f!=null&&f.toString()==o&&(u=r):u=r,u==r){if(!this._cv.filter||this._cv.filter(s))return u;e<0&&(e=u)}}return e},t}();t.DataMap=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r,f,i,u;(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.CellRange=2]="CellRange";n[n.Row=3]="Row";n[n.RowRange=4]="RowRange";n[n.ListBox=5]="ListBox"})(t.SelectionMode||(t.SelectionMode={}));r=t.SelectionMode,function(n){n[n.None=0]="None";n[n.Selected=1]="Selected";n[n.Cursor=2]="Cursor"}(t.SelectedState||(t.SelectedState={}));f=t.SelectedState,function(n){n[n.None=0]="None";n[n.Next=1]="Next";n[n.Prev=2]="Prev";n[n.NextPage=3]="NextPage";n[n.PrevPage=4]="PrevPage";n[n.Home=5]="Home";n[n.End=6]="End";n[n.NextCell=7]="NextCell";n[n.PrevCell=8]="PrevCell"}(t.SelMove||(t.SelMove={}));i=t.SelMove;u=function(){function u(n){this._sel=new t.CellRange(0,0);this._mode=r.CellRange;this._g=n}return Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._mode},set:function(n){var u,i,f,e;if(n!=this._mode){if(n==r.ListBox||this._mode==r.ListBox)for(u=this._g.rows,i=0;i<u.length;i++)f=u[i],e=n==r.ListBox?this._sel.containsRow(i):!1,f._setFlag(t.RowColFlags.Selected,e,!0);switch(n){case r.None:this._sel.setRange(-1,-1);break;case r.Cell:this._sel.row2=this._sel.row;this._sel.col2=this._sel.col;break;case r.Row:this._sel.row2=this._sel.row}this._mode=n;this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._sel},set:function(n){this.select(n)},enumerable:!0,configurable:!0}),u.prototype.select=function(i,u){var h,c,o,l;u===void 0&&(u=!0);n.isNumber(i)&&n.isNumber(u)&&(i=new t.CellRange(i,u),u=!0);i=n.asType(i,t.CellRange);var f=this._g,a=this._sel,e=i,s=!1;switch(f.selectionMode){case r.Cell:i.row2=i.row;i.col2=i.col;break;case r.Row:i.row2=i.row;break;case r.ListBox:s=!0}if(h=e.equals(a),s&&e.row>-1&&!f.rows[e.row].isSelected&&(h=!1),h){u&&f.scrollIntoView(e.row,e.col);return}if(c=new t.CellRangeEventArgs(f.cells,e),f.onSelectionChanging(c)){if(s){for(o=0;o<f.rows.length;o++)f.rows[o]._setFlag(t.RowColFlags.Selected,e.containsRow(o),!0);f.refreshCells(!1,!0,!0)}e.row=Math.min(e.row,f.rows.length-1);e.row2=Math.min(e.row2,f.rows.length-1);this._sel=e;f.refreshCells(!1,!0,!0);u&&f.scrollIntoView(e.row,e.col);f.collectionView&&(l=f._getCvIndex(e.row),f.collectionView.moveCurrentToPosition(l));f.onSelectionChanged(c)}},u.prototype.moveSelection=function(n,r,u){var e,f,h=this._g,l=h.rows,c=h.columns,o=this._getReferenceCell(n,r,u),s=Math.max(0,h._szClient.height-h.columnHeaders.height),a;r==i.NextCell?(f=c.getNextCell(o.col,i.Next,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Next,s),e>o.row&&(f=c.getNextCell(0,i.Next,s),f=c.getNextCell(f,i.Prev,s))),h.select(e,f)):r==i.PrevCell?(f=c.getNextCell(o.col,i.Prev,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Prev,s),e<o.row&&(f=c.getNextCell(c.length-1,i.Prev,s),f=c.getNextCell(f,i.Next,s))),h.select(e,f)):(e=l.getNextCell(o.row,n,s),f=c.getNextCell(o.col,r,s),u?(a=h._selHdl._sel,h.select(new t.CellRange(e,f,a.row2,a.col2))):h.select(e,f))},u.prototype._getReferenceCell=function(n,t){var f=this._g,u=f._selHdl._sel,r=f.getMergedRange(f.cells,u.row,u.col);if(!r||r.isSingleCell)return u;r=r.clone();switch(n){case i.Next:case i.NextCell:r.row=r.bottomRow;break;case i.None:r.row=u.row}switch(t){case i.Next:case i.NextCell:r.col=r.rightCol;break;case i.None:r.col=u.col}return r},u.prototype._adjustSelection=function(n){switch(this._mode){case r.Cell:return new t.CellRange(n.row,n.col,n.row,n.col);case r.Row:return new t.CellRange(n.row,0,n.row,this._g.columns.length-1);case r.RowRange:case r.ListBox:return new t.CellRange(n.row,0,n.row2,this._g.columns.length-1)}return n},u}();t._SelectionHandler=u})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n){this._g=n;n.addEventListener(n.hostElement,'keypress',this._keypress.bind(this));n.addEventListener(n.hostElement,'keydown',this._keydown.bind(this))}return i.prototype._keydown=function(i){var r=this._g,h=r.selection,o=i.ctrlKey||i.metaKey,f=i.shiftKey,p=i.target,e=!0,y,a,u,v;if(r.isRangeValid(h)&&!i.defaultPrevented){if(r._wantsInput(i.target))return;if(r.activeEditor&&r._edtHdl._keydown(i))return;var l=n.tryCast(r.rows[h.row],t.GroupRow),s=n.tryCast(r.collectionView,'IEditableCollectionView'),c=i.keyCode;if(r.autoClipboard){if(o&&(c==67||c==45)){if(a=new t.CellRangeEventArgs(r.cells,h),r.onCopying(a)){y=r.getClipString()+'\r\n';n.Clipboard.copy(y);r.onCopied(a)}i.stopPropagation();return}if(o&&c==86||f&&c==45){r.isReadOnly||(a=new t.CellRangeEventArgs(r.cells,h),r.onPasting(a)&&n.Clipboard.paste(function(n){r.setClipString(n);r.onPasted(a)}));i.stopPropagation();return}}if(r.rightToLeft)switch(c){case n.Key.Left:c=n.Key.Right;break;case n.Key.Right:c=n.Key.Left}u=t.SelMove;switch(c){case 65:o?r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)):e=!1;break;case n.Key.Left:h.isValid&&h.col==0&&l!=null&&!l.isCollapsed&&l.hasChildren?l.isCollapsed=!0:this._moveSel(u.None,o?u.Home:u.Prev,f);break;case n.Key.Right:h.isValid&&h.col==0&&l!=null&&l.isCollapsed?l.isCollapsed=!1:this._moveSel(u.None,o?u.End:u.Next,f);break;case n.Key.Up:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(o?u.Home:u.Prev,u.None,f);break;case n.Key.Down:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(o?u.End:u.Next,u.None,f);break;case n.Key.PageUp:this._moveSel(u.PrevPage,u.None,f);break;case n.Key.PageDown:this._moveSel(u.NextPage,u.None,f);break;case n.Key.Home:this._moveSel(o?u.Home:u.None,u.Home,f);break;case n.Key.End:this._moveSel(o?u.End:u.None,u.End,f);break;case n.Key.Tab:this._moveSel(u.None,f?u.PrevCell:u.NextCell,!1);break;case n.Key.Enter:this._moveSel(f?u.Prev:u.Next,u.None,!1);!f&&s&&s.currentEditItem!=null&&r._edtHdl._commitRowEdits();break;case n.Key.Escape:if(e=!1,s&&(s.currentAddItem||s.currentEditItem)){v=new t.CellRangeEventArgs(r.cells,r.selection);v.cancel=!0;r.onRowEditEnding(v);s.currentAddItem&&s.cancelNew();s.currentEditItem&&s.cancelEdit();r.onRowEditEnded(v);e=!0}r._mouseHdl.resetMouseState();break;case n.Key.Delete:case n.Key.Back:e=this._deleteSel(i);break;case n.Key.F2:e=this._startEditing(!0,i);break;case n.Key.F4:e=r._edtHdl._toggleListBox(this._g.selection);break;case n.Key.Space:e=this._startEditing(!0,i);e&&setTimeout(function(){var t=r.activeEditor;t&&(t.type=='checkbox'?(t.checked=!t.checked,r.finishEditing()):n.setSelectionRange(t,t.value.length))});break;default:e=!1}e&&(r.focus(),i.preventDefault(),i.stopPropagation())}},i.prototype._keypress=function(t){var i=this._g;i._wantsInput(t.target)||(i.activeEditor?i._edtHdl._keypress(t):t.charCode>n.Key.Space&&this._startEditing(!1,t)&&i.activeEditor&&setTimeout(function(){var r=i.activeEditor;r&&r.type!='checkbox'&&(r.value=String.fromCharCode(t.charCode),n.setSelectionRange(r,1),r.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t))}),t.stopPropagation())},i.prototype._moveSel=function(n,i,r){this._g.selectionMode!=t.SelectionMode.None&&this._g._selHdl.moveSelection(n,i,r)},i.prototype._deleteSel=function(i){var r=this._g,f=n.tryCast(r.collectionView,'IEditableCollectionView'),e=r.selection,c=r.rows,o=[],y=new t.CellRange,a=new t.CellEditEndingEventArgs(r.cells,y,i),u,l,v,s,h,p;if(r.allowDelete&&!r.isReadOnly&&(f==null||f.canRemove&&!f.isAddingNew&&!f.isEditingItem))switch(r.selectionMode){case t.SelectionMode.CellRange:if(e.leftCol==0&&e.rightCol==r.columns.length-1)for(u=e.topRow;u>-1&&u<=e.bottomRow;u++)o.push(c[u]);break;case t.SelectionMode.ListBox:for(u=0;u<c.length;u++)c[u].isSelected&&o.push(c[u]);break;case t.SelectionMode.Row:e.topRow>-1&&o.push(c[e.topRow]);break;case t.SelectionMode.RowRange:for(u=e.topRow;u>-1&&u<=e.bottomRow;u++)o.push(c[u])}if(o.length>0){for(f&&f.beginUpdate(),r.beginUpdate(),u=o.length-1;u>=0;u--)if(l=o[u],y.setRange(l.index,-1),r.onDeletingRow(a)){f&&l.dataItem?f.remove(l.dataItem):r.rows.removeAt(l.index);r.onDeletedRow(a)}return r.endUpdate(),f&&f.endUpdate(),r.selectionMode==t.SelectionMode.ListBox&&(v=r.selection.row,v>-1&&v<r.rows.length&&(r.rows[v].isSelected=!0)),r.childItemsPath&&r.collectionView&&r.collectionView.refresh(),!0}if(!r.isReadOnly&&o.length==0){for(f&&f.beginUpdate(),r.beginUpdate(),s=e.topRow;s<=e.bottomRow;s++)for(h=e.leftCol;h<=e.rightCol;h++)if(p=r._getBindingColumn(r.cells,s,r.columns[h]),!p.getIsRequired()&&r.getCellData(s,h,!0)&&this._startEditing(!1,i,s,h)){r.setCellData(s,h,'',!0,!1);r._edtHdl._rng=null;y.setRange(s,h);r.onCellEditEnding(a);r.onCellEditEnded(a)}return f&&f.endUpdate(),r.endUpdate(),r.selection=e,!0}return!1},i.prototype._startEditing=function(n,t,i,r){return this._g._edtHdl.startEditing(n,i,r,!0,t)},i}();t._KeyboardHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=4,r,e,u,f;(function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both";n[n.ColumnsAllCells=n.Columns|i]="ColumnsAllCells";n[n.RowsAllCells=n.Rows|i]="RowsAllCells";n[n.BothAllCells=n.Both|i]="BothAllCells"})(t.AllowResizing||(t.AllowResizing={}));r=t.AllowResizing,function(n){n[n.None=0]="None";n[n.Headers=1]="Headers";n[n.Cells=2]="Cells";n[n.Both=3]="Both"}(t.AutoSizeMode||(t.AutoSizeMode={}));e=t.AutoSizeMode,function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both"}(t.AllowDragging||(t.AllowDragging={}));u=t.AllowDragging;f=function(){function f(i){var u=this,r=i.hostElement,f,e;this._g=i;this._dvMarker=n.createElement('<div class="wj-marker">&nbsp;</div>');i.addEventListener(r,'mouseenter',function(){i._rcBounds=null});i.addEventListener(r,'dragenter',function(){i._rcBounds=null});i.addEventListener(r,'mousedown',function(r){var s,o;if(i._rcBounds=null,!r.defaultPrevented&&r.button==0){if(s=r.target,!i.activeEditor&&i._isInputElement(s)){if(n.getActiveElement()!=s&&s.tagName!='OPTION'){o=i.hitTest(r);switch(o.cellType){case t.CellType.Cell:i.select(o.range);break;case t.CellType.ColumnHeader:case t.CellType.ColumnFooter:i.scrollIntoView(-1,o.col);break;case t.CellType.RowHeader:i.scrollIntoView(o.row,-1)}}return}n.closest(r.target,'.wj-flexgrid')==i.hostElement&&(i.addEventListener(document,'mousemove',f),i.addEventListener(document,'mouseup',e),u._mousedown(r))}});f=function(n){u._mousemove(n)};e=function(n){i.removeEventListener(document,'mousemove');i.removeEventListener(document,'mouseup');u._mouseup(n)};i.addEventListener(r,'mousemove',this._hover.bind(this));i.addEventListener(r,'dblclick',this._dblclick.bind(this));i.addEventListener(r,'selectstart',function(n){i._isInputElement(n.target)||n.preventDefault()});i.addEventListener(r,'wheel',function(t){var r=i.cells.hostElement.parentElement;r.scrollHeight>r.offsetHeight&&(t.deltaY<0&&r.scrollTop==0||t.deltaY>0&&r.scrollTop+r.offsetHeight>=r.scrollHeight)&&n.closest(t.target,'.wj-flexgrid')==i.hostElement&&(t.preventDefault(),t.stopPropagation())});i.addEventListener(r,'dragstart',this._dragstart.bind(this));i.addEventListener(r,'dragover',this._dragover.bind(this));i.addEventListener(r,'dragleave',this._dragover.bind(this));i.addEventListener(r,'drop',this._drop.bind(this));i.addEventListener(r,'dragend',this._dragend.bind(this))}return f.prototype.resetMouseState=function(){var n,t;this._dragSource&&(this._dragSource.style.opacity=null);this._showDragMarker(null);n=this._g.hostElement;n&&(n.style.cursor=null);t=this._g;t.removeEventListener(document,'mousemove');t.removeEventListener(document,'mouseup');this._htDown=null;this._lbSelRows=null;this._szRowCol=null;this._szArgs=null;this._dragSource=null},f.prototype._mousedown=function(i){var r=this._g,e=r.hitTest(i),o=e.cellType,s,f,h;if((o!=t.CellType.Cell||!r.editRange||!r.editRange.contains(e.range))&&(s=n.getActiveElement(),i.target!=s||!r._isInputElement(i.target))){if(o==t.CellType.None){r._edtHdl._commitRowEdits();return}if(i.target!=s&&r.focus(),this._htDown=e,this._eMouse=i,this._szRowCol!=null){this._handleResizing(i);return}switch(o){case t.CellType.Cell:i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(e.row);this._mouseSelect(i,i.shiftKey);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&(i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(e.row),this._mouseSelect(i,i.shiftKey))}if(o==t.CellType.Cell&&r.rows.maxGroupLevel>-1&&(f=n.tryCast(r.rows[e.row],t.GroupRow),h=n.closest(i.target,'.'+t.CellFactory._WJC_COLLAPSE),f&&h)){i.ctrlKey?r.collapseGroupsToLevel(f.isCollapsed?f.level+1:f.level):f.isCollapsed=!f.isCollapsed;this.resetMouseState();i.preventDefault();return}}},f.prototype._mousemove=function(n){var i=this;if(this._htDown!=null)if(setTimeout(function(){n.which&&i._g.containsFocus()||i.resetMouseState()}),this._eMouse=n,this._szRowCol)this._handleResizing(n);else switch(this._htDown.cellType){case t.CellType.Cell:this._mouseSelect(n,!0);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&this._mouseSelect(n,!0)}},f.prototype._mouseup=function(n){var i,r,u,f;this._dragSource&&this._g.isTouching||(i=this._htDown,!i||i.cellType!=t.CellType.TopLeft||this._szArgs||n.defaultPrevented?this._szArgs?this._finishResizing(n):this._handleSort(n):(r=this._g,u=r.hitTest(n),u.panel==i.panel&&u.row==i.row&&u.col==i.col&&(f=r.getMergedRange(i.panel,i.row,i.col)||u.range,f.row==0&&f.col==0&&r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)))),this.resetMouseState())},f.prototype._dblclick=function(n){var u=this._g,e=u.hitTest(n),o=e.cellType,l=u.selection,s=e.range,f,h,c;if(!n.defaultPrevented){if(e.edgeRight&&u.allowResizing&r.Columns){if(o==t.CellType.ColumnHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.preventDefault(),n.ctrlKey&&l.containsColumn(e.col)&&(s=l),h=s.leftCol;h<=s.rightCol;h++)if(u.columns[h].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(-1,h)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(h);u.onResizedColumn(f);u.onAutoSizedColumn(f)}}else if(o==t.CellType.TopLeft&&e.panel.columns[e.col].allowResizing&&(n.preventDefault(),f=new t.CellRangeEventArgs(e.panel,new t.CellRange(-1,e.col)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(e.col,!0);u.onAutoSizedColumn(f);u.onResizedColumn(f)}this.resetMouseState();return}if(e.edgeBottom&&u.allowResizing&r.Rows){if(o==t.CellType.RowHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.ctrlKey&&l.containsRow(e.row)&&(s=l),c=s.topRow;c<=s.bottomRow;c++)if(u.rows[c].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(c,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(c);u.onResizedRow(f);u.onAutoSizedRow(f)}}else if(o==t.CellType.TopLeft&&e.panel.rows[e.row].allowResizing&&(f=new t.CellRangeEventArgs(e.panel,new t.CellRange(e.row,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(e.row,!0);u.onResizedRow(f);u.onAutoSizedRow(f)}this.resetMouseState()}}},f.prototype._hover=function(n){if(this._htDown==null){var u=this._g,f=u.hitTest(n),s=f.panel,e=f.cellType,o='default';this._szRowCol=null;(e==t.CellType.ColumnHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeRight&&(u.allowResizing&r.Columns)!=0&&(this._szRowCol=this._getResizeCol(f));(e==t.CellType.RowHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeBottom&&(u.allowResizing&r.Rows)!=0&&(this._szRowCol=this._getResizeRow(f));this._szRowCol instanceof t.Column?o='col-resize':this._szRowCol instanceof t.Row&&(o='row-resize');this._szStart=this._szRowCol?this._szRowCol.renderSize:0;u.hostElement.style.cursor=o}},f.prototype._getResizeCol=function(n){for(var i,r=n.panel.columns,f=r[n.col],u=n.col+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.col==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.RowHeader))for(r=this._g.columns,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._getResizeRow=function(n){for(var i,r=n.panel.rows,f=r[n.row],u=n.row+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.row==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.ColumnHeader))for(r=this._g.rows,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._mouseSelect=function(i,r){var f=this,u;this._htDown&&this._htDown.panel&&this._g.selectionMode!=t.SelectionMode.None&&(u=new t.HitTestInfo(this._htDown.panel,i),this._handleSelection(u,r),u.panel||this._g._isInputElement(i.target)||i.preventDefault(),!n.isIE9()&&i.button>=0&&(u=new t.HitTestInfo(this._g,i),u.cellType!=t.CellType.Cell&&u.cellType!=t.CellType.RowHeader&&setTimeout(function(){f._mouseSelect(f._eMouse,r)},100)))},f.prototype._handleResizing=function(n){var u;if(n.preventDefault(),this._szRowCol instanceof t.Column){var i=this._g,e=n.clientX+pageXOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(e-this._htDown.point.x)*(i.rightToLeft?-1:1)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.rowHeaders.columns.indexOf(this._szRowCol)>-1?i.rowHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(-1,this._szRowCol.index))),this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.width=r))}if(this._szRowCol instanceof t.Row){var i=this._g,o=n.clientY+pageYOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(o-this._htDown.point.y)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.columnHeaders.rows.indexOf(this._szRowCol)>-1?i.columnHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.height=r))}},f.prototype._dragstart=function(i){var f=this._g,r=this._htDown,e,o;r&&(this._dragSource=null,this._szRowCol||(e=new t.CellRangeEventArgs(r.panel,r.range),r.cellType==t.CellType.ColumnHeader&&f.allowDragging&u.Columns&&r.col>-1&&f.columns[r.col].allowDragging?f.onDraggingColumn(e)?this._dragSource=i.target:i.preventDefault():r.cellType==t.CellType.RowHeader&&f.allowDragging&u.Rows&&r.row>-1&&f.rows[r.row].allowDragging&&(o=f.rows[r.row],o instanceof t.GroupRow||o instanceof t._NewRowTemplate||(f.onDraggingRow(e)?this._dragSource=i.target:i.preventDefault()))),this._dragSource&&i.dataTransfer&&!i.defaultPrevented&&(n._startDrag(i.dataTransfer,'move'),this._dragSource.style.opacity=.5,i.stopPropagation(),f.beginUpdate(),this._updating=!0))},f.prototype._dragend=function(){this._updating&&(this._g.endUpdate(),this._updating=!1);this.resetMouseState()},f.prototype._dragover=function(n){var r=this._g,i=r.hitTest(n),f=!1,u=new t.CellRangeEventArgs(r.cells,i.range);this._htDown&&i.cellType==this._htDown.cellType&&(i.cellType==t.CellType.ColumnHeader?(u.cancel=!r.columns.canMoveElement(this._htDown.col,i.col),f=r.onDraggingColumnOver(u)):i.cellType==t.CellType.RowHeader&&(u.cancel=!r.rows.canMoveElement(this._htDown.row,i.row),f=r.onDraggingRowOver(u)));f?(n.dataTransfer.dropEffect='move',this._showDragMarker(i),n.preventDefault(),n.stopPropagation()):this._showDragMarker(null)},f.prototype._drop=function(n){var i=this._g,r=i.hitTest(n),f=new t.CellRangeEventArgs(i.cells,r.range),u;if(this._htDown&&r.cellType==this._htDown.cellType)if(u=i.selection,r.cellType==t.CellType.ColumnHeader){i.columns.moveElement(this._htDown.col,r.col);i.select(u.row,r.col);i.onDraggedColumn(f)}else if(r.cellType==t.CellType.RowHeader){i.rows.moveElement(this._htDown.row,r.row);i.select(r.row,u.col);i.onDraggedRow(f)}this.resetMouseState()},f.prototype._showResizeMarker=function(i){var f=this._g,e=this._dvMarker,r,u;e.parentElement||f.cells.hostElement.appendChild(e);u=this._szArgs.panel.cellType;this._szRowCol instanceof t.Column?(r={display:'',left:this._szRowCol.pos+i-1,top:0,right:'',bottom:0,width:3,height:'',zIndex:1e3},f.rightToLeft&&(r.left=e.parentElement.clientWidth-r.left-r.width),(u==t.CellType.TopLeft||u==t.CellType.RowHeader)&&(r.left-=f.topLeftCells.hostElement.offsetWidth)):(r={left:0,top:this._szRowCol.pos+i-1,right:0,bottom:'',width:'',height:3,zIndex:1e3},(u==t.CellType.TopLeft||u==t.CellType.ColumnHeader)&&(r.top-=f.topLeftCells.hostElement.offsetHeight));n.setCss(e,r)},f.prototype._showDragMarker=function(i){var f=this._g,u=this._dvMarker,r,e,o;if(!i){u.parentElement&&u.parentElement.removeChild(u);this._rngTarget=null;return}if(!i.range.equals(this._rngTarget)){this._rngTarget=i.range;u.parentElement||i.panel.hostElement.appendChild(u);r={display:'',left:0,top:0,width:6,height:6};switch(i.cellType){case t.CellType.ColumnHeader:r.height=i.panel.height;e=f.columns[i.col];r.left=e.pos-r.width/2;i.col>this._htDown.col&&(r.left+=e.renderWidth);f.rightToLeft&&(r.left=u.parentElement.clientWidth-r.left-r.width);break;case t.CellType.RowHeader:r.width=i.panel.width;o=f.rows[i.row];r.top=o.pos-r.height/2;i.row>this._htDown.row&&(r.top+=o.renderHeight)}n.setCss(u,r)}},f.prototype._finishResizing=function(n){var r=this._g,s=r.selection,c=this._eMouse.ctrlKey,i=this._szArgs,l=n.clientX+pageXOffset,a=n.clientY+pageYOffset,u,h,e,o;if(i&&!i.cancel&&i.col>-1){u=i.col;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(l-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));i.panel.columns[u].width=Math.round(h);r.onResizedColumn(i);if(c&&this._htDown.cellType==t.CellType.ColumnHeader&&s.containsColumn(u))for(e=s.leftCol;e<=s.rightCol;e++)if(r.columns[e].allowResizing&&e!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(-1,e)),r.onResizingColumn(i))){r.columns[e].size=r.columns[u].size;r.onResizedColumn(i)}}if(i&&!i.cancel&&i.row>-1){u=i.row;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(a-this._htDown.point.y)));i.panel.rows[u].height=Math.round(h);r.onResizedRow(i);if(c&&this._htDown.cellType==t.CellType.RowHeader&&s.containsRow(u))for(o=s.topRow;o<=s.bottomRow;o++)if(r.rows[o].allowResizing&&o!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(o,-1)),r.onResizingRow(i))){r.rows[o].size=r.rows[u].size;r.onResizedRow(i)}}},f.prototype._startListBoxSelection=function(n){var i=this._g.rows,t;for(this._lbSelState=!i[n].isSelected,this._lbSelRows={},t=0;t<i.length;t++)i[t].isSelected&&(this._lbSelRows[t]=!0)},f.prototype._handleSelection=function(n,i){var r=this._g,o=r.rows,e=r._selHdl._sel,f=new t.CellRange(n.row,n.col),s,u,h,c;if(n.row>-1&&n.col>-1)if(this._lbSelRows!=null){for(s=!1,f=new t.CellRange(n.row,n.col,this._htDown.row,this._htDown.col),u=0;u<o.length;u++)if(h=f.containsRow(u)?this._lbSelState:this._lbSelRows[u]!=null,h!=o[u].isSelected&&(c=new t.CellRangeEventArgs(r.cells,new t.CellRange(u,e.col,u,e.col2)),r.onSelectionChanging(c))){o[u]._setFlag(t.RowColFlags.Selected,h,!0);s=!0;r.onSelectionChanged(c)}s&&r.refreshCells(!1,!0,!0);r.scrollIntoView(n.row,n.col)}else n.cellType==t.CellType.RowHeader&&(f.col=0,f.col2=r.columns.length-1),i&&(f.row2=e.row2,f.col2=e.col2),r.select(f)},f.prototype._handleSort=function(i){var u=this._g,o=u.collectionView,r=u.hitTest(i),s,a,h,e;if(this._htDown&&r.cellType==this._htDown.cellType&&r.col==this._htDown.col&&r.cellType==t.CellType.ColumnHeader&&!r.edgeRight&&r.col>-1&&o&&o.canSort&&u.allowSorting){var c=u.getMergedRange(r.panel,r.row,r.col),v=c?c.row2:r.row,l=u.columns[r.col],f=u._getBindingColumn(r.panel,r.row,l);if((v==u._getSortRowIndex()||l!=f)&&(s=f.currentSort,a=s!='+',f.allowSorting&&f.binding)){if(!s&&i.ctrlKey)return;if(h=new t.CellRangeEventArgs(r.panel,new t.CellRange(r.row,r.col)),u.onSortingColumn(h)){e=o.sortDescriptions;i.ctrlKey?e.clear():e.splice(0,e.length,new n.collections.SortDescription(f._getBindingSort(),a));u.onSortedColumn(h)}}}},f._SZ_MIN=0,f}();t._MouseHandler=f})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){var r=this;this._fullEdit=!1;this._list=null;this._g=i;this._evtInput=document.createEvent('HTMLEvents');this._evtInput.initEvent('input',!0,!1);i.selectionChanging.addHandler(function(n,t){var u;if(r.finishEditing()){if(u=i._selHdl._sel.row,u!=t.row){var f=i.rows.length,e=u>-1&&u<f?i.rows[u].dataItem:null,o=t.row>-1&&t.row<f?i.rows[t.row].dataItem:null;e!=o&&r._commitRowEdits()}}else t.cancel=!0});i.lostFocus.addHandler(function(){if(!i.containsFocus()){var t=n.getActiveElement();t&&getComputedStyle(t).position=='fixed'||r._commitRowEdits()}});i.addEventListener(i.hostElement,'mousedown',function(u){var o,e,f,s;if(!u.defaultPrevented&&u.button==0&&!i._mouseHdl._szRowCol)if(o=i.selection,e=i.hitTest(u),r._htDown=null,e.cellType!=t.CellType.Cell&&e.cellType!=t.CellType.None)r._lbx&&n.contains(r._lbx.hostElement,u.target)||r._commitRowEdits();else if(e.cellType!=t.CellType.None){if(f=n.tryCast(u.target,HTMLInputElement),f&&f.type=='checkbox'&&n.hasClass(f,'wj-cell-check')&&n.closest(f,'.wj-flexgrid')==i.hostElement&&(f!=r.activeEditor?(u.preventDefault(),r.startEditing(!1,e.row,e.col)&&(f=r.activeEditor,f&&f.type=='checkbox'&&(f.checked=!f.checked,f.focus(),r.finishEditing()))):r.finishEditing()),s=document.elementFromPoint(u.clientX,u.clientY),n.closest(s,'.'+t.CellFactory._WJC_DROPDOWN)){r._toggleListBox(u,e.range);r._htDown=null;u.preventDefault();return}f==null&&e.row==o.row&&e.col==o.col&&(r._htDown=e)}},!0);i.addEventListener(i.hostElement,'click',function(n){if(r._htDown&&!r.activeEditor&&!i._isInputElement(n.target)){var t=i.hitTest(n);t.panel==i.cells&&t.range.equals(r._htDown.range)&&r.startEditing(!0,t.row,t.col,!0,n)}},!0)}return i.prototype.startEditing=function(i,r,u,f,e){var o,h,c,l,a,v,y,s;if((i===void 0&&(i=!0),i=n.asBoolean(i),o=this._g,r=n.asNumber(r,!0,!0),u=n.asNumber(u,!0,!0),r==null&&(r=o.selection.row),u==null&&(u=o.selection.col),f==null&&(f=!0),!this._allowEditing(r,u))||(h=o.getMergedRange(o.cells,r,u),h||(h=new t.CellRange(r,u)),c=o.rows[r].dataItem,o.select(h,!0),!o.rows[r]||c!=o.rows[r].dataItem))return!1;if(h.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing()||(l=new t.CellRangeEventArgs(o.cells,h,e),!o.onBeginningEdit(l)))return!1;if(a=n.tryCast(o.collectionView,'IEditableCollectionView'),a){if(c=o.rows[r].dataItem,v=c!=a.currentEditItem,v)o.onRowEditStarting(l);if(a.editItem(c),v)o.onRowEditStarted(l)}if(this._fullEdit=i,this._rng=h,this._list=null,y=o.columns[u].dataMap,y&&(this._list=y.getDisplayValues(c)),o.refresh(!1),s=this._edt,s){s.type=='checkbox'?this._fullEdit=!1:f&&n.setSelectionRange(s,0,s.value.length);o.onPrepareCellForEdit(l);s=this._edt;s&&f&&s.focus()}return!0},i.prototype.finishEditing=function(i){var e,c,l,h,y,o,s;if(i===void 0&&(i=!1),e=this._edt,!e)return this._removeListBox(),!0;var r=this._g,f=this._rng,u=new t.CellEditEndingEventArgs(r.cells,f),a=r.containsFocus(),v=r.hostElement.querySelector('.wj-control.wj-state-focused');if(v&&(c=n.Control.getControl(v),c))c.onLostFocus(u);if(u.cancel=i,!i&&r.validateEdits&&(l=this._getValidationError(),l&&(u.cancel=!0,h=e.parentElement,h&&(n.toggleClass(h,'wj-state-invalid',!0),h.title=l,u.stayInEditMode=!0))),!r.onCellEditEnding(u)&&u.stayInEditMode)return a?setTimeout(function(){e.select()}):e.select(),!1;if(!u.cancel)for(u.data=r.cells.getCellData(f.topRow,f.leftCol,!1),y=r.cellFactory.getEditorValue(r),o=f.topRow;o<=f.bottomRow&&o<r.rows.length;o++)for(s=f.leftCol;s<=f.rightCol&&s<r.columns.length;s++)r.cells.setCellData(o,s,y,!0);this._edt=null;this._rng=null;this._list=null;this._removeListBox();r.refresh(!1);a&&r.focus();r.onCellEditEnded(u);return!0},Object.defineProperty(i.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),i.prototype._getValidationError=function(){var t=this._g,e=t.collectionView,o=e?e.getError:null,c;if(n.isFunction(o)){var f=this._rng,i=t._getBindingColumn(t.cells,f.row,t.columns[f.col]),l=i.binding,s=i.dataType,r=t.rows[f.row].dataItem,u=t.cellFactory.getEditorValue(t),h=null;if(u=n.changeType(u,s,i.format),n.getType(u)==s&&r)return c=i._binding.getValue(r),i._binding.setValue(r,u),h=o(r,l),i._binding.setValue(r,c),h}return null},i.prototype._allowEditing=function(n,i){var r=this._g,u;return r.isReadOnly||r.selectionMode==t.SelectionMode.None?!1:n<0||n>=r.rows.length||r.rows[n].isReadOnly||!r.rows[n].isVisible?!1:i<0||i>=r.columns.length?!1:(u=r._getBindingColumn(r.cells,n,r.columns[i]),u&&(u.isReadOnly||!u.isVisible))?!1:!0},i.prototype._commitRowEdits=function(){var i,r,u;if(this.finishEditing()&&(i=this._g,r=n.tryCast(i.collectionView,'IEditableCollectionView'),r&&r.currentEditItem)){u=new t.CellRangeEventArgs(i.cells,i.selection);i.onRowEditEnding(u);r.commitEdit();i.onRowEditEnded(u)}},i.prototype._keydown=function(t){switch(t.keyCode){case n.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case n.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case n.Key.Space:var i=this._edt;return i&&i.type=='checkbox'&&(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case n.Key.Enter:case n.Key.Tab:return t.preventDefault(),!this.finishEditing();case n.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case n.Key.Up:case n.Key.Down:case n.Key.Left:case n.Key.Right:case n.Key.PageUp:case n.Key.PageDown:case n.Key.Home:case n.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case n.Key.Up:case n.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},i.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case n.Key.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case n.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case n.Key.Home:case n.Key.PageUp:this._lbx.selectedIndex=0;break;case n.Key.End:case n.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return i?(t.preventDefault(),!0):!1},i.prototype._keypress=function(t){var i=this._edt,f,u,r;if(i&&i.type!='checkbox'&&t.target==i&&this._list&&this._list.length>0&&t.charCode>=32)for(f=i.selectionStart,u=i.value.substr(0,f),t.target==i&&(f++,u+=String.fromCharCode(t.charCode)),u=u.toLowerCase(),r=0;r<this._list.length;r++)if(this._list[r].toLowerCase().indexOf(u)==0){i.value=this._list[r];n.setSelectionRange(i,f,this._list[r].length);i.dispatchEvent(this._evtInput);t.preventDefault();break}},i.prototype._toggleListBox=function(t,i){var r=this._g,u,f;return(i||(i=r.selection),this._lbx&&(this._removeListBox(),r.selection.contains(i)))?(r.activeEditor?r.activeEditor.focus():r.containsFocus()||r.focus(),!0):(u=r.isTouching,f=r._getBindingColumn(r.cells,i.row,r.columns[i.col]),!n.input||!f.dataMap||f.showDropDown===!1)?!1:!n.input||!this.startEditing(!0,i.row,i.col,!u,t)?!1:(this._lbx=this._createListBox(),this._lbx.showSelection(),u&&this._lbx.focus(),!0)},i.prototype._createListBox=function(){var u=this,t=this._g,r=this._rng,e=t.rows[r.row],o=t._getBindingColumn(t.cells,r.row,t.columns[r.col]),f=document.createElement('div'),i=new n.input.ListBox(f);return n.addClass(f,'wj-dropdown-panel'),i.maxHeight=e.renderHeight*4,i.itemsSource=o.dataMap.getDisplayValues(e.dataItem),i.selectedValue=t.activeEditor?t.activeEditor.value:t.getCellData(r.row,r.col,!0),n.addClass(f,o.dropDownCssClass),i.addEventListener(i.hostElement,'click',function(){u._removeListBox();u.finishEditing()}),i.lostFocus.addHandler(function(){u._removeListBox()}),i.selectedIndexChanged.addHandler(function(){var i=t.activeEditor;i&&(i.value=u._lbx.selectedValue,i.dispatchEvent(u._evtInput),n.setSelectionRange(i,0,i.value.length))}),n.showPopup(f,t.getCellBoundingRect(r.row,r.col)),i},i.prototype._removeListBox=function(){this._lbx&&(n.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},i}();t._EditHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(){function r(n){this._nrt=new i;this._g=n;this._keydownBnd=this._keydown.bind(this);this._attach()}return Object.defineProperty(r.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){t!=this.newRowAtTop&&(this._top=n.asBoolean(t),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),r.prototype.updateNewRowTemplate=function(){var o=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u=this._g,i=u.rows,s=o&&o.canAddNew&&u.allowAddNew&&!u.isReadOnly,r=i.indexOf(this._nrt),h=this._top?0:i.length-1,e=!1,f;!s&&r>-1?(f=u.selection,f.row==r&&u.select(f.row-1,f.col),i.removeAt(r)):s&&(r<0?e=!0:r!=h&&(i.removeAt(r),e=!0),e&&(this._top?i.insert(0,this._nrt):i.push(this._nrt)),this._nrt&&this._nrt._setFlag(t.RowColFlags.ParentCollapsed,!1))},r.prototype._attach=function(){var n=this._g;n&&(n.beginningEdit.addHandler(this._beginningEdit,this),n.pastingCell.addHandler(this._beginningEdit,this),n.rowEditEnded.addHandler(this._rowEditEnded,this),n.loadedRows.addHandler(this.updateNewRowTemplate,this),n.hostElement.addEventListener('keydown',this._keydownBnd,!0))},r.prototype._detach=function(){var n=this._g;n&&(n.beginningEdit.removeHandler(this._beginningEdit),n.pastingCell.removeHandler(this._beginningEdit),n.rowEditEnded.removeHandler(this._rowEditEnded),n.loadedRows.removeHandler(this.updateNewRowTemplate),n.hostElement.removeEventListener('keydown',this._keydownBnd,!0))},r.prototype._keydown=function(t){t.defaultPrevented||t.keyCode!=n.Key.Escape||this._g.activeEditor==null&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},r.prototype._beginningEdit=function(t,r){var e,u,f;if(!r.cancel&&(e=this._g.rows[r.row],n.tryCast(e,i)&&(u=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u&&u.canAddNew)))if(this._top){if(this._nrt.dataItem==null){var f=null,o=u.sourceCollection,s=u.newItemCreator;f=n.isFunction(s)?s():o&&o.length?new o[0].constructor:{};this._nrt.dataItem=f}}else{f=u.currentAddItem&&u.currentAddItem==e.dataItem?u.currentAddItem:u.addNew();u.moveCurrentTo(f);this.updateNewRowTemplate();this._g.refresh(!0);this._g.onRowAdded(r);r.cancel&&u.cancelNew()}},r.prototype._rowEditEnded=function(t,i){var u=this,r=n.tryCast(this._g.collectionView,'IEditableCollectionView'),f=this._nrt.dataItem,o,e;if(r)if(r.isAddingNew)r.commitNew();else if(f&&!i.cancel){this._nrt.dataItem=null;o=r.addNew();for(e in f)o[e]=f[e];this._g.onRowAdded(i);i.cancel?r.cancelNew():r.commitNew();setTimeout(function(){u._g.select(0,u._g.columns.firstVisibleIndex);u.updateNewRowTemplate()},20)}},r}(),i;t._AddNewHandler=r;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t.Row);t._NewRowTemplate=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._g=t;this._tbx=n.createElement('<input class="wj-grid-editor wj-form-control" wj-part="ime-target"/>');this._cssHidden={position:'fixed',pointerEvents:'none',opacity:0,left:-10,top:-10,width:0};n.setCss(this._tbx,this._cssHidden);t.cells.hostElement.parentElement.appendChild(this._tbx);this._updateImeFocus();var i=t.hostElement;t.addEventListener(this._tbx,'compositionstart',this._compositionstart.bind(this));t.addEventListener(this._tbx,'keydown',this._keydown.bind(this));t.addEventListener(i,'blur',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'focus',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'mousedown',this._mousedown.bind(this),!0);t.addEventListener(i,'mouseup',this._mouseup.bind(this),!0);t.cellEditEnded.addHandler(this._cellEditEnded,this);t.selectionChanged.addHandler(this._updateImeFocus,this)}return t.prototype.dispose=function(){var n=this._g,t=n.hostElement;n.removeEventListener(this._tbx,'compositionstart');n.removeEventListener(t,'blur');n.removeEventListener(t,'focus');n.removeEventListener(t,'mousedown');n.removeEventListener(t,'mouseup');n.cellEditEnded.removeHandler(this._cellEditEnded);n.selectionChanged.removeHandler(this._updateImeFocus);this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},t.prototype._cellEditEnded=function(){n.setCss(this._tbx,this._cssHidden);this._tbx.value=''},t.prototype._compositionstart=function(){var t=this._g,i,r,u;t.activeEditor==null&&(i=t._selHdl.selection,t.startEditing(!1,i.row,i.col,!1)&&(r=t.getCellBoundingRect(i.row,i.col),u=t.cells.hostElement,n.setCss(this._tbx,{position:'absolute',pointerEvents:'',opacity:'',left:t.columns[i.col].pos+u.offsetLeft,top:t.rows[i.row].pos+u.offsetTop,width:r.width-1,height:r.height-1}),t._edtHdl._edt=this._tbx))},t.prototype._keydown=function(t){switch(t.keyCode){case n.Key.Up:case n.Key.Down:case n.Key.PageUp:case n.Key.PageDown:this._g._keyHdl._keydown(t)}},t.prototype._mousedown=function(){this._mouseDown=!0;this._updateImeFocus()},t.prototype._mouseup=function(){this._mouseDown=!1;this._updateImeFocus()},t.prototype._updateImeFocus=function(){var i=this._g,r=n.getActiveElement(),t;i.activeEditor||i.isTouching||this._mouseDown||!n.contains(i.hostElement,r)||(t=this._tbx,this._enableIme()?r!=t&&(t.disabled=!1,t.select()):t.disabled=!0)},t.prototype._enableIme=function(){var t=this._g,i=t.selection;return t.canEditCell(i.row,i.col)?t.columns[i.col].dataType==n.DataType.Boolean?!1:!0:!1},t}();t._ImeHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Value=1]="Value";n[n.MinMax=2]="MinMax";n[n.All=3]="All"})(t.ShowText||(t.ShowText={}));var i=t.ShowText,r=function(r){function u(f,e){var o=this,s;r.call(this,f,null,!0);this._ranges=new n.collections.ObservableArray;this._rngElements=[];this._format='n0';this._showRanges=!0;this._shadow=!0;this._animated=!0;this._readOnly=!0;this._step=1;this._showText=i.None;this._showTicks=!1;this._thickness=.8;this._initialized=!1;this.valueChanged=new n.Event;this._getPercent=function(n){var t=this.max>this.min?(n-this.min)/(this.max-this.min):0;return Math.max(0,Math.min(1,t))};u._ctr++;s=this.getTemplate();this.applyTemplate('wj-control wj-gauge',s,{_dSvg:'dsvg',_svg:'svg',_filter:'filter',_gFace:'gface',_gRanges:'granges',_gPointer:'gpointer',_gCover:'gcover',_pFace:'pface',_pPointer:'ppointer',_cValue:'cvalue',_tValue:'value',_tMin:'min',_tMax:'max',_pTicks:'pticks'});this._filterID='wj-gauge-filter-'+u._ctr.toString(36);this._filter.setAttribute('id',this._filterID);this.face=new t.Range;this.pointer=new t.Range;this._ranges.collectionChanged.addHandler(function(){for(var u,r=o._ranges,i=0;i<r.length;i++)if(u=n.tryCast(r[i],t.Range),!u)throw'ranges array must contain Range objects.';o._rangesDirty=!0;o.invalidate()});this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.addEventListener(this.hostElement,'click',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))});this.addEventListener(this.hostElement,'mousedown',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))});this.addEventListener(this.hostElement,'mousemove',function(n){n.buttons==1&&o._applyMouseValue(n,!0)});'ontouchstart'in window&&(this.addEventListener(this.hostElement,'touchstart',function(n){o.focus();n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()}),this.addEventListener(this.hostElement,'touchmove',function(n){n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()}));this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!o.isReadOnly&&o.containsFocus()&&o.value!=null&&o.hitTest(t)){var i=n.clamp(-t.deltaY,-1,1);o.value=n.clamp(o.value+(o.step||1)*i,o.min,o.max);t.preventDefault()}});this.initialize(e);this.invalidate()}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._pointer.max},set:function(t){t!=this._pointer.max&&(this._pointer.max=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._face.min},set:function(t){this._face.min=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._face.max},set:function(t){this._face.max=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this._setAttribute(this._svg,'cursor',this._readOnly?null:'pointer');n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"getText",{get:function(){return this._getText},set:function(t){t!=this._getText&&(this._getText=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thickness",{get:function(){return this._thickness},set:function(t){t!=this._thickness&&(this._thickness=n.clamp(n.asNumber(t,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"face",{get:function(){return this._face},set:function(i){i!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=n.asType(i,t.Range),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pointer",{get:function(){return this._pointer},set:function(i){if(i!=this._pointer){var r=null;this._pointer&&(r=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged));this._pointer=n.asType(i,t.Range);this._pointer&&(r&&(this.value=r),this._pointer.propertyChanged.addHandler(this._rangeChanged,this));this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showText",{get:function(){return this._showText},set:function(t){t!=this._showText&&(this._showText=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showTicks",{get:function(){return this._showTicks},set:function(t){t!=this._showTicks&&(this._showTicks=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(t){t!=this._thumbSize&&(this._thumbSize=n.asNumber(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showRanges",{get:function(){return this._showRanges},set:function(t){t!=this._showRanges&&(this._showRanges=n.asBoolean(t),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasShadow",{get:function(){return this._shadow},set:function(t){t!=this._shadow&&(this._shadow=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.refresh=function(n){var u,o,f,e,t;if(n===void 0&&(n=!0),r.prototype.refresh.call(this,n),this._rangesDirty){for(this._rangesDirty=!1,u=this._gRanges,t=0;t<this._rngElements.length;t++)o=this._rngElements[t],o.rng.propertyChanged.removeHandler(this._rangeChanged);while(u.lastChild)u.removeChild(u.lastChild);if(this._rngElements=[],this._showRanges)for(t=0;t<this.ranges.length;t++)f=this.ranges[t],f.propertyChanged.addHandler(this._rangeChanged,this),this._rngElements.push({rng:f,el:this._createElement('path',u)})}for(this._showElement(this._tValue,(this.showText&i.Value)!=0),this._showElement(this._tMin,(this.showText&i.MinMax)!=0),this._showElement(this._tMax,(this.showText&i.MinMax)!=0),this._showElement(this._cValue,(this.showText&i.Value)!=0||this._thumbSize>0),this._updateText(),e=this._getFilterUrl(),this._setAttribute(this._pFace,'filter',e),this._setAttribute(this._pPointer,'filter',e),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks(),t=0;t<this.ranges.length;t++)this._updateRange(this.ranges[t]);this._initialized=!0},u.prototype.hitTest=function(t,i){n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof n.Point||(t=n.mouseToPage(t));t=n.asType(t,n.Point);var r=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());return t.x-=r.left+pageXOffset,t.y-=r.top+pageYOffset,this._getValueFromPoint(t)},u._getBBox=function(n){try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},u.prototype._getFilterUrl=function(){return this.hasShadow?'url(#'+this._filterID+')':null},u.prototype._getRangeElement=function(n){var t,i;if(n==this._face)return this._pFace;if(n==this._pointer)return this._pPointer;for(t=0;t<this._rngElements.length;t++)if(i=this._rngElements[t],i.rng==n)return i.el;return null},u.prototype._rangeChanged=function(t,i){var r=this;if(t==this._pointer&&i.propertyName=='max'&&(this.onValueChanged(),this._updateText()),t==this._face){this.invalidate();return}if(t==this._pointer&&i.propertyName=='max'&&(this._animInterval&&clearInterval(this._animInterval),this.isAnimated&&!this.isUpdating&&this._initialized)){var u=this._getPointerColor(i.oldValue),f=this._getPointerColor(i.newValue),e=u?new n.Color(u):null,o=f?new n.Color(f):null;this._animInterval=n.animate(function(u){r._animColor=e&&o?n.Color.interpolate(e,o,u).toString():null;r._updateRange(t,i.oldValue+u*(i.newValue-i.oldValue));u>=1&&(r._animColor=null,r._animInterval=null,r._updateRange(t),r._updateText())});return}this._updateRange(t)},u.prototype._createElement=function(n,t,i){var r=document.createElementNS(u._SVGNS,n);return i&&r.setAttribute('class',i),t.appendChild(r),r},u.prototype._centerText=function(t,i,r){var f,e;if(t.getAttribute('display')!='none'){f=n.Globalize.format(i,this.format);n.isFunction(this.getText)&&(e=t==this._tValue?'value':t==this._tMin?'min':t==this._tMax?'max':null,n.assert(e!=null,'unknown element'),f=this.getText(this,e,i,f));t.textContent=f;var o=n.Rect.fromBoundingRect(u._getBBox(t)),s=r.x-o.width/2,h=r.y+o.height/4;t.setAttribute('x',this._fix(s));t.setAttribute('y',this._fix(h))}},u.prototype._copy=function(i,r){var f,u,e;if(i=='ranges'){for(f=n.asArray(r),u=0;u<f.length;u++)e=new t.Range,n.copy(e,f[u]),this.ranges.push(e);return!0}return i=='pointer'?(n.copy(this.pointer,r),!0):!1},u.prototype._showElement=function(n,t){this._setAttribute(n,'display',t?'':'none')},u.prototype._setAttribute=function(n,t,i){i?n.setAttribute(t,i):n.removeAttribute(t)},u.prototype._updateRange=function(n,t){var i,r;t===void 0&&(t=n.max);n==this._pointer&&(n.min=this.origin!=null?this.origin:this.min<0&&this.max>0?0:this.min);i=this._getRangeElement(n);i&&(this._updateRangeElement(i,n,t),r=n.color,n==this._pointer&&(r=this._animColor?this._animColor:this._getPointerColor(n.max)),this._setAttribute(i,'style',r?'fill:'+r:null))},u.prototype._getPointerColor=function(n){var t,r,i;if(!this._showRanges){for(r=0;r<this._ranges.length;r++)i=this._ranges[r],n>=i.min&&n<=i.max&&(t==null||t.max-t.min>i.max-i.min)&&(t=i);if(t)return t.color}return this._pointer.color},u.prototype._keydown=function(t){if(!this._readOnly&&this._step){var r=this._getKey(t.keyCode),i=!0;switch(r){case n.Key.Left:case n.Key.Down:this.value=n.clamp(this.value-this.step,this.min,this.max);break;case n.Key.Right:case n.Key.Up:this.value=n.clamp(this.value+this.step,this.min,this.max);break;case n.Key.Home:this.value=this.min;break;case n.Key.End:this.value=this.max;break;default:i=!1}i&&t.preventDefault()}},u.prototype._getKey=function(n){return n},u.prototype._applyMouseValue=function(t,i){var r,u;return!this.isReadOnly&&this.containsFocus()&&(r=this.hitTest(t),r!=null)?(u=this._animated,i&&(this._animated=!1),this._step!=null&&(r=Math.round(r/this._step)*this._step),this.value=n.clamp(r,this.min,this.max),this._animated=u,!0):!1},u.prototype._updateRangeElement=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateText=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateTicks=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._getValueFromPoint=function(){return null},u.prototype._fix=function(t){return n.isNumber(t)?parseFloat(t.toFixed(4)).toString():this._fix(t.x)+' '+this._fix(t.y)},u._SVGNS='http://www.w3.org/2000/svg',u._ctr=0,u.controlTemplate='<div wj-part="dsvg" style="width:100%;height:100%"><svg wj-part="svg" width="100%" height="100%" style="overflow:visible"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"><\/feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"><\/feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"><\/feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"><\/feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"><\/feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"><\/feComposite><\/filter><\/defs><g wj-part="gface" class="wj-face" style="cursor:inherit"><path wj-part="pface"/><\/g><g wj-part="granges" style="cursor:inherit"/><g wj-part="gpointer" class="wj-pointer" style="cursor:inherit"><path wj-part="ppointer"/><\/g><g wj-part="gcover" style="cursor:inherit"><path wj-part="pticks" class="wj-ticks"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min"/><text wj-part="max" class="wj-max"/><\/g><\/svg><\/div>',u}(n.Control);t.Gauge=r})(t=n.gauge||(n.gauge={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Up=2]="Up";n[n.Down=3]="Down"})(t.GaugeDirection||(t.GaugeDirection={}));var i=t.GaugeDirection,r=function(r){function u(t,u){r.call(this,t,null);this._direction=i.Right;n.addClass(this.hostElement,'wj-lineargauge');this.initialize(u)}return __extends(u,r),Object.defineProperty(u.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=this._direction&&(this._direction=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype._updateRangeElement=function(r,u,f){var e=this._getRangeRect(u,f);this._updateSegment(r,e);var c=u==this._pointer&&(this.showText&t.ShowText.Value)!=0,a=c||u==this._pointer&&this.thumbSize>0,o=e.left+e.width/2,s=e.top+e.height/2;switch(this._getDirection()){case i.Right:o=e.right;break;case i.Left:o=e.left;break;case i.Up:s=e.top;break;case i.Down:s=e.bottom}if(c&&this._centerText(this._tValue,f,new n.Point(o,s)),c||a){e=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue));var l=this._animColor?this._animColor:this._getPointerColor(u.max),v=this.thumbSize!=null?this.thumbSize/2:Math.max(e.width,e.height)*.8,h=this._cValue;this._setAttribute(h,'cx',this._fix(o));this._setAttribute(h,'cy',this._fix(s));this._setAttribute(h,'style',l?'fill:'+l:null);this._setAttribute(h,'r',this._fix(v))}},u.prototype._updateText=function(){var n=this._getRangeRect(this._face);switch(this._getDirection()){case i.Right:this._setText(this._tMin,this.min,n,'left');this._setText(this._tMax,this.max,n,'right');break;case i.Left:this._setText(this._tMin,this.min,n,'right');this._setText(this._tMax,this.max,n,'left');break;case i.Up:this._setText(this._tMin,this.min,n,'bottom');this._setText(this._tMax,this.max,n,'top');break;case i.Down:this._setText(this._tMin,this.min,n,'top');this._setText(this._tMax,this.max,n,'bottom')}},u.prototype._updateTicks=function(){var f='',n,t,r,u;if(this.showTicks&&this.step)for(n=this._getRangeRect(this._face),t=this.min+this.step;t<this.max;t+=this.step)switch(this._getDirection()){case i.Right:r=this._fix(n.left+n.width*this._getPercent(t));f+='M '+r+' '+this._fix(n.top)+' L '+r+' '+this._fix(n.bottom)+' ';break;case i.Left:r=this._fix(n.right-n.width*this._getPercent(t));f+='M '+r+' '+n.top.toFixed(2)+' L '+r+' '+n.bottom.toFixed(2)+' ';break;case i.Up:u=(n.bottom-n.height*this._getPercent(t)).toFixed(2);f+='M '+this._fix(n.left)+' '+u+' L '+this._fix(n.right)+' '+u+' ';break;case i.Down:u=(n.top+n.height*this._getPercent(t)).toFixed(2);f+='M '+n.left.toFixed(2)+' '+u+' L '+n.right.toFixed(2)+' '+u+' '}this._pTicks.setAttribute('d',f)},u.prototype._updateSegment=function(t,i){var r={p1:this._fix(new n.Point(i.left,i.top)),p2:this._fix(new n.Point(i.right,i.top)),p3:this._fix(new n.Point(i.right,i.bottom)),p4:this._fix(new n.Point(i.left,i.bottom))},u=n.format('M {p1} L {p2} L {p3} L {p4} Z',r);t.setAttribute('d',u)},u.prototype._setText=function(i,r,u,f){if(i.getAttribute('display')!='none'){i.textContent=n.Globalize.format(r,this.format);var o=n.Rect.fromBoundingRect(t.Gauge._getBBox(i)),e=new n.Point(u.left+u.width/2-o.width/2,u.top+u.height/2+o.height/2);switch(f){case'top':e.y=u.top-4;break;case'left':e.x=u.left-4-o.width;break;case'right':e.x=u.right+4;break;case'bottom':e.y=u.bottom+4+o.height}i.setAttribute('x',this._fix(e.x));i.setAttribute('y',this._fix(e.y))}},u.prototype._getRangeRect=function(r,u){var f,s,h;u===void 0&&(u=r.max);f=new n.Rect(0,0,this.hostElement.clientWidth,this.hostElement.clientHeight);s=this.thumbSize?Math.ceil(this.thumbSize/2):0;this.showText!=t.ShowText.None&&(h=parseInt(getComputedStyle(this.hostElement).fontSize),isNaN(h)||(s=Math.max(s,3*h)));switch(this._getDirection()){case i.Right:case i.Left:f=f.inflate(-s,-f.height*(1-this.thickness*r.thickness)/2);break;case i.Up:case i.Down:f=f.inflate(-f.width*(1-this.thickness*r.thickness)/2,-s)}var c=r==this._face,e=c?0:this._getPercent(r.min),o=c?1:this._getPercent(u);switch(this._getDirection()){case i.Right:f.left+=f.width*e;f.width*=o-e;break;case i.Left:f.left=f.right-f.width*o;f.width=f.width*(o-e);break;case i.Down:f.top+=f.height*e;f.height*=o-e;break;case i.Up:f.top=f.bottom-f.height*o;f.height=f.height*(o-e)}return f},u.prototype._getValueFromPoint=function(n){var t=this._getRangeRect(this._face),r=0;switch(this._getDirection()){case i.Right:r=t.width>0?(n.x-t.left)/t.width:0;break;case i.Left:r=t.width>0?(t.right-n.x)/t.width:0;break;case i.Up:r=t.height>0?(t.bottom-n.y)/t.height:0;break;case i.Down:r=t.height>0?(n.y-t.top)/t.height:0}return this.min+r*(this.max-this.min)},u.prototype._getDirection=function(){var n=this._direction;if(this.rightToLeft)switch(n){case i.Left:n=i.Right;break;case i.Right:n=i.Left}return n},u.prototype._getKey=function(t){switch(this._getDirection()){case i.Left:switch(t){case n.Key.Left:t=n.Key.Right;break;case n.Key.Right:t=n.Key.Left}break;case i.Down:switch(t){case n.Key.Up:t=n.Key.Down;break;case n.Key.Down:t=n.Key.Up}}return t},u}(t.Gauge);t.LinearGauge=r})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){i.call(this,r,null);this._startAngle=0;this._sweepAngle=180;this._autoScale=!0;n.addClass(this.hostElement,'wj-radialgauge');this._thickness=.4;this.showText=t.ShowText.All;this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(t){t!=this._sweepAngle&&(this._sweepAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoScale",{get:function(){return this._autoScale},set:function(t){t!=this._autoScale&&(this._autoScale=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.refresh=function(r){var u,e,f;r===void 0&&(r=!0);this._setAttribute(this._svg,'viewBox',null);this._rcSvg=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());i.prototype.refresh.call(this,r);this._ctmInv=null;this._ptSvg=null;this._autoScale&&(this._setAttribute(this._svg,'viewBox',''),u=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._pFace)),(this.showText&t.ShowText.Value)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue)))),(this.showText&t.ShowText.MinMax)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMin))),u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMax)))),e=[this._fix(u.left),this._fix(u.top),this._fix(u.width),this._fix(u.height)].join(' '),this._setAttribute(this._svg,'viewBox',e),f=this._pFace.getCTM(),this._ctmInv=f?f.inverse():null,this._ptSvg=this._svg.createSVGPoint())},r.prototype._updateRangeElement=function(t,i,r){if(this._rcSvg){var u=this._rcSvg,s=new n.Point(u.width/2,u.height/2),h=Math.min(u.width,u.height)/2,c=h*this.thickness,l=c*i.thickness,e=h-(c-l)/2,a=e-l,v=this.startAngle+180,o=this.sweepAngle,y=i==this._face,p=y?0:this._getPercent(i.min),k=y?1:this._getPercent(r),d=v+o*p,g=o*(k-p);if(this._updateSegment(t,s,e,a,d,g),i==this._pointer&&this.thumbSize>0){var w=this._animColor?this._animColor:this._getPointerColor(i.max),b=this._getPoint(s,v+o*this._getPercent(r),(e+a)/2),f=this._cValue;this._setAttribute(f,'cx',this._fix(b.x));this._setAttribute(f,'cy',this._fix(b.y));this._setAttribute(f,'style',w?'fill:'+w:null);this._setAttribute(f,'r',this._fix(this.thumbSize/2))}}},r.prototype._updateText=function(){var f,e;if(this._rcSvg){var i=this._rcSvg,r=new n.Point(i.width/2,i.height/2),u=Math.min(i.width,i.height)/2,o=Math.max(0,u*(1-this.thickness)),s=this.startAngle+180,h=this.sweepAngle;this._showElement(this._cValue,this.thumbSize>0);f=(this.showText&t.ShowText.MinMax)!=0&&Math.abs(h)<=300;this._showElement(this._tMin,f);this._showElement(this._tMax,f);this._centerText(this._tValue,this.value,r);e=10*(this.sweepAngle<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(r,s-e,(u+o)/2));this._centerText(this._tMax,this.max,this._getPoint(r,s+h+e,(u+o)/2))}},r.prototype._updateTicks=function(){var r='',i;if(this.showTicks&&this.step){var t=this._rcSvg,u=new n.Point(t.width/2,t.height/2),f=Math.min(t.width,t.height)/2,e=f*this.thickness,o=e*this._face.thickness,s=f-(e-o)/2,c=s-o;for(i=this.min+this.step;i<this.max;i+=this.step){var h=this.startAngle+180+this.sweepAngle*this._getPercent(i),l=this._fix(this._getPoint(u,h,c)),a=this._fix(this._getPoint(u,h,s));r+='M '+l+' L '+a+' '}}this._pTicks.setAttribute('d',r)},r.prototype._updateSegment=function(t,i,r,u,f,e){e=Math.min(Math.max(e,-359.99),359.99);var o=this._getPoint(i,f,u),s=this._getPoint(i,f,r),h=this._getPoint(i,f+e,r),c=this._getPoint(i,f+e,u),l={large:Math.abs(e)>180?1:0,cw:e>0?1:0,ccw:e>0?0:1,or:this._fix(r),ir:this._fix(u),p1:this._fix(o),p2:this._fix(s),p3:this._fix(h),p4:this._fix(c)},a=n.format("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",l);t.setAttribute('d',a)},r.prototype._getPoint=function(t,i,r){return i=i*Math.PI/180,new n.Point(t.x+r*Math.cos(i),t.y+r*Math.sin(i))},r.prototype._getValueFromPoint=function(t){var a;if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=t.x,this._ptSvg.y=t.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),t.x=this._ptSvg.x,t.y=this._ptSvg.y),!this._rcSvg)return null;var u=this._rcSvg,h=new n.Point(u.width/2,u.height/2),e=Math.min(u.width,u.height)/2,c=e*(1-this.thickness),o=t.x-h.x,s=t.y-h.y,l=s*s+o*o;if(l>e*e+16||l<c*c-16)return null;var i=(Math.PI-Math.atan2(-s,o))*180/Math.PI,r=this.startAngle,f=this.sweepAngle;if(f>0){while(i<r)i+=360;while(i>r+f)i-=360}else{while(i<r+f)i+=360;while(i>r)i-=360}return a=Math.abs(i-r)/Math.abs(f),this.min+a*(this.max-this.min)},r}(t.Gauge);t.RadialGauge=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){i.call(this,r,null);n.addClass(this.hostElement,'wj-bulletgraph');this._pointer.thickness=.35;this._rngTarget=new t.Range('target');this._rngTarget.thickness=.8;this._rngTarget.color='black';this._rngGood=new t.Range('good');this._rngGood.color='rgba(0,0,0,.15)';this._rngBad=new t.Range('bad');this._rngBad.color='rgba(0,0,0,.3)';this.ranges.push(this._rngBad);this.ranges.push(this._rngGood);this.ranges.push(this._rngTarget);this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"target",{get:function(){return this._rngTarget.max},set:function(n){this._rngTarget.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"good",{get:function(){return this._rngGood.max},set:function(n){this._rngGood.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bad",{get:function(){return this._rngBad.max},set:function(n){this._rngBad.max=n},enumerable:!0,configurable:!0}),r.prototype._getRangeRect=function(n,r){r===void 0&&(r=n.max);var u=i.prototype._getRangeRect.call(this,n,r);if(n==this._rngTarget)switch(this.direction){case t.GaugeDirection.Right:u.left=u.right-1;u.width=3;break;case t.GaugeDirection.Left:u.width=3;break;case t.GaugeDirection.Up:u.height=3;break;case t.GaugeDirection.Down:u.top=u.bottom-1;u.height=3}return u},r}(t.LinearGauge);t.BulletGraph=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._min=0;this._max=100;this._thickness=1;this.propertyChanged=new n.Event;this._name=t}return Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp('_min',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp('_max',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp('_color',n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp('_thickness',n.clamp(n.asNumber(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp('_name',n.asString(t))},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(n){this.propertyChanged.raise(this,n)},t.prototype._setProp=function(t,i){var r=this[t],u;if(i!=r){this[t]=i;u=new n.PropertyChangedEventArgs(t.substr(1),r,i);this.onPropertyChanged(u)}},t._ctr=0,t}();t.Range=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';var i=function(t){function i(i){var r=this,o,u,f,e;t.call(this,i,null,!0);this._showBtn=!0;this._autoExpand=!0;this._animate=!1;this.textChanged=new n.Event;this.isDroppedDownChanging=new n.Event;this.isDroppedDownChanged=new n.Event;o=this.getTemplate();this.applyTemplate('wj-control wj-dropdown wj-content',o,{_tbx:'input',_btn:'btn',_dropDown:'dropdown'},'input');this._elRef=this._tbx;this._createDropDown();this._updateBtn();u=this._dropDown;u&&u.parentElement&&u.parentElement.removeChild(u);n.addClass(this.hostElement,'wj-state-collapsed');f=this._updateFocusState.bind(this);this.addEventListener(this.dropDown,'blur',f,!0);this.addEventListener(this.dropDown,'focus',f);e=this._keydown.bind(this);this.addEventListener(this.hostElement,'keydown',e);this.addEventListener(this.dropDown,'keydown',e);this.addEventListener(this._tbx,'keypress',function(n){n.keyCode==9787&&r._altDown&&n.preventDefault()});this.addEventListener(this._tbx,'input',function(){r._setText(r.text,!1)});this.addEventListener(this._tbx,'click',function(){r._autoExpand&&r._expandSelection()});n.isIE9()&&this.addEventListener(this._tbx,'keyup',function(){r._setText(r.text,!1)});this.addEventListener(this._btn,'click',this._btnclick.bind(this));this.addEventListener(this._dropDown,'click',function(n){n.stopPropagation()})}return __extends(i,t),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!='none'},set:function(t){if(t=n.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly,t!=this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)){var r=this.hostElement,i=this._dropDown;t?(i.style.minWidth||(i.style.minWidth=r.getBoundingClientRect().width+'px'),i.style.display='block',this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),n.hidePopup(i));this._updateFocusState();n.toggleClass(r,'wj-state-collapsed',!this.isDroppedDown);this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(n.removeClass(this._dropDown,this._cssClass),this._cssClass=n.asString(t),n.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx?n.setSelectionRange(this._tbx,0,this.text.length):this.focus()},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n);this._updateState()},i.prototype.onIsDroppedDownChanging=function(n){return this.isDroppedDownChanging.raise(this,n),!n.cancel},i.prototype.onIsDroppedDownChanged=function(t){var i=this;this.removeEventListener(document,'mousedown');this.removeEventListener(document,'keydown');this.isDroppedDown&&!this.containsFocus()&&(this.addEventListener(document,'mousedown',function(t){n.contains(i.dropDown,t.target)||n.contains(i.hostElement,t.target)||(i.isDroppedDown=!1)}),this.addEventListener(document,'keydown',function(){i.containsFocus()||(i.isDroppedDown=!1)}));this.isDroppedDownChanged.raise(this,t)},i.prototype.onGotFocus=function(n){this.isTouching||this.selectAll();t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(n){this._commitText();this.containsFocus()||(this.isDroppedDown=!1);t.prototype.onLostFocus.call(this,n)},i.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||n.contains(this._dropDown,n.getActiveElement())},i.prototype.dispose=function(){this.isDroppedDown=!1;t.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isDroppedDown&&getComputedStyle(this.hostElement).display!='none'){var r=n.getActiveElement();n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null);r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},i.prototype._expandSelection=function(){var r=this._tbx,i=r.value,n=r.selectionStart,t=r.selectionEnd,u;if(i&&n==t&&(u=this._getCharType(i,n),u>-1)){for(;t<i.length;t++)if(this._getCharType(i,t)!=u)break;for(;n>0;n--)if(this._getCharType(i,n-1)!=u)break;n!=t&&r.setSelectionRange(n,t)}},i.prototype._getCharType=function(n,t){var i=n[t];return i>='0'&&i<='9'?0:i>='a'&&i<='z'||i>='A'&&i<='Z'?1:-1},i.prototype._keydown=function(t){if(!t.defaultPrevented){this._altDown=t.altKey;switch(t.keyCode){case n.Key.Tab:case n.Key.Escape:case n.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==n.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case n.Key.F4:case n.Key.Up:case n.Key.Down:(t.keyCode==n.Key.F4||t.altKey)&&n.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}},i.prototype._btnclick=function(){this.isDroppedDown=!this.isDroppedDown},i.prototype._setText=function(n){n==null&&(n='');n=n.toString();n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?'':'none'},i.prototype._createDropDown=function(){},i.prototype._commitText=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),n.showPopup(this._dropDown,this.hostElement,!1,this._animate,this.dropDownCssClass==null))},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100"><\/div><\/div>',i}(n.Control);t.DropDown=i})(t=n.input||(n.input={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Day=1]="Day";n[n.Month=2]="Month"})(t.DateSelectionMode||(t.DateSelectionMode={}));var i=t.DateSelectionMode,r=function(r){function u(t,u){r.call(this,t);this._readOnly=!1;this._selMode=i.Day;this.valueChanged=new n.Event;this.displayMonthChanged=new n.Event;this.formatItem=new n.Event;this._value=n.DateTime.newDate();this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(!0);this.addEventListener(this.hostElement,'mouseup',this._click.bind(this));this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.initialize(u)}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!0);t=this._clamp(t);this._valid(t)&&(this.displayMonth=this._getMonth(t),n.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var r,u;t!=this._selMode&&(this._selMode=n.asEnum(t,i),r=this._monthMode(),r&&(this.monthView=!1),u=this._btnMth.querySelector('.wj-glyph-down'),u&&(u.style.display=r?'none':''))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if(t=n.asNumber(t,!0),t&&(t>6||t<0))throw'firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).';this._fdw=t;this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){if(!n.DateTime.equals(this.displayMonth,t)){t=n.asDate(t);var i=this.monthView?this._monthInValidRange(t):this._yearInValidRange(t);i&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!='none'},set:function(t){this._tbHdr.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"monthView",{get:function(){return this._tbMth.style.display!='none'},set:function(n){n!=this.monthView&&(this._tbMth.style.display=n?'':'none',this._tbYr.style.display=n?'none':'')},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.onDisplayMonthChanged=function(n){this.displayMonthChanged.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.refresh=function(i){var o,e,u,s,l,c,a,h,f;for(i===void 0&&(i=!0),s=this.displayMonth,l=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),r.prototype.refresh.call(this,i),this._firstDay=n.DateTime.addDays(s,-(s.getDay()-l+7)%7),n.setText(this._spMth,n.Globalize.format(s,'y')),o=this._tbMth.querySelectorAll('td'),f=0;f<7&&f<o.length;f++)u=n.DateTime.addDays(this._firstDay,f),n.setText(o[f],n.Globalize.format(u,'ddd'));for(f=7;f<o.length;f++)if(e=o[f],u=n.DateTime.addDays(this._firstDay,f-7),n.setText(e,u.getDate().toString()),e.className='',c=!this._valid(u),n.toggleClass(e,'wj-state-invalid',c),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(u,this.value)),n.toggleClass(e,'wj-day-today',n.DateTime.sameDate(u,new Date)),n.toggleClass(e,'wj-day-othermonth',c||u.getMonth()!=s.getMonth()||!this._inValidRange(u)),this.itemFormatter&&this.itemFormatter(u,e),this.formatItem.hasHandlers){a=new t.FormatItemEventArgs(f,u,e);this.onFormatItem(a)}for(h=this._tbMth.querySelectorAll('tr'),h.length&&(u=n.DateTime.addDays(this._firstDay,28),h[h.length-2].style.display=u.getMonth()==s.getMonth()?'':'none',u=n.DateTime.addDays(this._firstDay,35),h[h.length-1].style.display=u.getMonth()==s.getMonth()?'':'none'),o=this._tbYr.querySelectorAll('td'),o.length&&n.setText(o[0],s.getFullYear().toString()),f=1;f<o.length;f++)e=o[f],u=new Date(s.getFullYear(),f-1,1),n.setText(e,n.Globalize.format(u,'MMM')),e.className='',n.toggleClass(e,'wj-state-disabled',!this._monthInValidRange(u)),n.toggleClass(e,'wj-state-selected',this._sameMonth(u,this.value))},u.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},u.prototype._valid=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},u.prototype._inValidRange=function(t){return this.min&&t<n.DateTime.fromDateTime(this.min,t)?!1:this.max&&t>n.DateTime.fromDateTime(this.max,t)?!1:!0},u.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=t.getMonth(),u=new Date(i,r,1),f=n.DateTime.addDays(new Date(i,r+1),-1);if(this.min&&this.min>f||this.max&&this.max<u)return!1}return!0},u.prototype._yearInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=new Date(i,0),u=n.DateTime.addDays(new Date(i+1,0),-1);if(this.min&&this.min>u||this.max&&this.max<r)return!1}return!0},u.prototype._sameMonth=function(t,i){return n.isDate(t)&&n.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},u.prototype._clamp=function(t){var i,r;return t&&(this.min&&(i=n.DateTime.fromDateTime(this.min,t),t<i&&(t=i)),this.max&&(r=n.DateTime.fromDateTime(this.max,t),t>r&&(t=r))),t},u.prototype._createChildren=function(){var f=this.getTemplate(),n,i,t,r,u;for(this.applyTemplate('wj-control wj-calendar',f,{_tbHdr:'tbl-header',_btnMth:'btn-month',_spMth:'span-month',_btnPrv:'btn-prev',_btnTdy:'btn-today',_btnNxt:'btn-next',_tbMth:'tbl-month',_tbYr:'tbl-year'}),n=this._createElement('tr',this._tbMth,'wj-header'),t=0;t<7;t++)this._createElement('td',n);for(i=0;i<6;i++)for(n=this._createElement('tr',this._tbMth),t=0;t<7;t++)this._createElement('td',n);for(n=this._createElement('tr',this._tbYr,'wj-header'),this._createElement('td',n).setAttribute('colspan','4'),r=0;r<3;r++)for(n=this._createElement('tr',this._tbYr),u=0;u<4;u++)this._createElement('td',n)},u.prototype._createElement=function(t,i,r){var u=document.createElement(t);return i&&i.appendChild(u),r&&n.addClass(u,r),u},u.prototype._click=function(t){var r=!1,i=t.target,f,u;n.contains(this._btnMth,i)&&!this._monthMode()?(this.monthView=!this.monthView,r=!0):n.contains(this._btnPrv,i)?(this._navigate(-1),r=!0):n.contains(this._btnNxt,i)?(this._navigate(1),r=!0):n.contains(this._btnTdy,i)&&(this._navigate(0),r=!0);i&&!r&&(i=n.closest(i,'TD'),i&&(this.monthView?(f=this._getCellIndex(this._tbMth,i),f>6&&this._canChangeValue()&&(u=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,f-7),this.value),this._inValidRange(u)&&this._valid(u)&&(this.value=u),r=!0)):(f=this._getCellIndex(this._tbYr,i),f>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),f-1,1),this._monthMode()?this._canChangeValue()&&(u=n.DateTime.fromDateTime(this.displayMonth,this.value),this._inValidRange(u)&&(this.value=u)):this.monthView=!0,r=!0))));r&&(t.preventDefault(),this.focus())},u.prototype._getCellIndex=function(n,t){for(var r=n.querySelectorAll('TD'),i=0;i<r.length;i++)if(r[i]==t)return i;return-1},u.prototype._keydown=function(t){var r,e;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var u=0,i=0,f=!0;if(this.monthView)switch(t.keyCode){case n.Key.Left:u=-1;break;case n.Key.Right:u=1;break;case n.Key.Up:u=-7;break;case n.Key.Down:u=7;break;case n.Key.PageDown:i=1;break;case n.Key.PageUp:i=-1;break;default:f=!1}else switch(t.keyCode){case n.Key.Left:i=-1;break;case n.Key.Right:i=1;break;case n.Key.Up:i=-4;break;case n.Key.Down:i=4;break;case n.Key.PageDown:i=12;break;case n.Key.PageUp:i=-12;break;case n.Key.Enter:this._monthMode()?f=!1:this.monthView=!0;break;default:f=!1}if(this.value&&this._canChangeValue()&&(u||i)){for(r=this.value,r=n.DateTime.addDays(r,u),r=n.DateTime.addMonths(r,i),e=0;!this._valid(r)&&e<31;e++)r=n.DateTime.addDays(r,u>0||i>0?1:-1);this.value=r}f&&t.preventDefault()}},u.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},u.prototype._monthMode=function(){return this.selectionMode==i.Month},u.prototype._navigate=function(t){var r=this.monthView,i;switch(t){case 0:i=new Date;r?this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(i,this.value)):this._canChangeValue()&&(this.value=this._getMonth(i));this.displayMonth=this._getMonth(i);break;case 1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?1:12);break;case-1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?-1:-12)}},u.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/><\/div>',u}(n.Control);t.Calendar=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(r,u){var e=this,f,o,s;t.call(this,r);this._hsb=[.5,1,1];this._alpha=1;this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-colorpicker wj-content',f,{_eSB:'div-sb',_eHue:'div-hue',_eAlpha:'div-alpha',_ePreview:'div-pv',_ePal:'div-pal',_eText:'div-text'});this._palette='#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0'.split(',');this._updatePalette();this._eHue.style.backgroundImage='url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)';this._eHue.style.backgroundSize='contain';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eSB.children[0].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)',this._eSB.children[1].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)');f=i._tplCursor;this._cSB=n.createElement(f);this._cHue=n.createElement(f);this._cHue.style.width='100%';this._cAlpha=n.createElement(f);this._cAlpha.style.height='100%';this._eSB.appendChild(this._cSB);this._eHue.appendChild(this._cHue);this._eAlpha.appendChild(this._cAlpha);this.addEventListener(this.hostElement,'mousedown',function(n){document.addEventListener('mousemove',o);document.addEventListener('mouseup',s);e._mouseDown(n)});o=function(n){e._mouseMove(n)};s=function(n){document.removeEventListener('mousemove',o);document.removeEventListener('mouseup',s);e._mouseUp(n)};this.addEventListener(this.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&n.contains(e._ePal,i)&&(r=i.style.backgroundColor,r&&(e.value=new n.Color(r).toString()))});this.value='#ffffff';this.initialize(u);this._updatePanels()}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!='none'},set:function(t){this._eAlpha.parentElement.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return this._eText.style.display!='none'},set:function(t){this._eText.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=n.asString(t);this._eText.innerText=this._value;var r=new n.Color(this._value),i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){var i,r;for(t=n.asArray(t),i=0;i<t.length&&i<this._palette.length;i++)r=n.asString(t[i]),this._palette[i]=r;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this._updatePanels();this.valueChanged.raise(this,n)},i.prototype._mouseDown=function(n){this._htDown=this._getTargetPanel(n);this._htDown&&(n.preventDefault(),this.focus(),this._mouseMove(n))},i.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=n.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=n.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=n.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=n.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()},i.prototype._updatePalette=function(){var o=new n.Color('#fff'),s=new n.Color('#000'),r,t,e;for(this._ePal.innerHTML='',r=0;r<this._palette.length;r++){var u=n.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),i=new n.Color(this._palette[r]),f=i.getHsb();for(u.appendChild(this._makePalEntry(i,4)),t=0;t<5;t++)f[1]==0?(e=t*.1+(f[2]>.5?.05:.55),i=n.Color.interpolate(o,s,e)):i=n.Color.fromHsb(f[0],.1+t*.2,1-t*.1),u.appendChild(this._makePalEntry(i,0));this._ePal.appendChild(u)}},i.prototype._makePalEntry=function(t,i){var r=document.createElement('div');return n.setCss(r,{cursor:'pointer',backgroundColor:t.toString(),marginBottom:i?i:''}),r.innerHTML='&nbsp',r},i.prototype._updatePanels=function(){var i=n.Color.fromHsb(this._hsb[0],1,1,1),t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=i.toString();this._eAlpha.style.background='linear-gradient(to right, transparent 0%, '+t.toString()+' 100%)';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eAlpha.style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr='+t.toString()+', GradientType = 1)');this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+'%';this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+'%';this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+'%';this._cAlpha.style.left=(this._alpha*100).toFixed(0)+'%'},i.prototype._getTargetPanel=function(t){var i=t.target;return n.contains(this._eSB,i)?this._eSB:n.contains(this._eHue,i)?this._eHue:n.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;<\/div><div style="height:6px"><\/div><\/div><\/div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"><\/div><\/div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"><\/div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"><\/div><\/div><div style="float:left;width:1%;height:89%"><\/div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"><\/div><\/div><div style="float:left;width:89%;height:1%"><\/div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"><\/div><\/div><\/div><div style="float:left;width:1%;height:10%"><\/div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"><\/div><\/div><\/div><\/div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',i}(n.Control);t.ColorPicker=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(t){function r(i,r){t.call(this,i);this._pathDisplay=new n.Binding(null);this._pathValue=new n.Binding(null);this._pathChecked=new n.Binding(null);this._html=!1;this._checkedItems=[];this._search='';this.selectedIndexChanged=new n.Event;this.itemsChanged=new n.Event;this.loadingItems=new n.Event;this.loadedItems=new n.Event;this.itemChecked=new n.Event;this.checkedItemsChanged=new n.Event;this.formatItem=new n.Event;this.applyTemplate('wj-control wj-listbox wj-content',null,null);this._orgTag=='SELECT'&&this._populateSelectElement(this.hostElement);var u=this.hostElement;this.addEventListener(u,'click',this._click.bind(this));this.addEventListener(u,'keydown',this._keydown.bind(this));this.addEventListener(u,'keypress',this._keypress.bind(this));this.addEventListener(u,'wheel',function(n){u.scrollHeight>u.offsetHeight&&(n.deltaY<0&&u.scrollTop==0||n.deltaY>0&&u.scrollTop+u.offsetHeight>=u.scrollHeight)&&(n.preventDefault(),n.stopPropagation())});this.initialize(r)}return __extends(r,t),r.prototype.refresh=function(){t.prototype.refresh.call(this);(this.displayMemberPath||!this.checkedMemberPath)&&this._populateList()},Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),r.prototype.getDisplayValue=function(t){var i=null,r;return t>-1&&n.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i))),r=i!=null?i.toString():'',this.itemFormatter&&(r=this.itemFormatter(t,r)),r},r.prototype.getDisplayText=function(n){var t=this.hostElement.children,i=n>-1&&n<t.length?t[n]:null;return i!=null?i.textContent:''},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=this._pathValue.getValue(n)),n},set:function(n){var r=this.selectedValuePath,u=-1,t,i;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(i=this._cv.items[t],r&&this._pathValue.getValue(i)==n||!r&&i==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){var n=this.hostElement;return n?parseFloat(n.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=n.asNumber(t)+'px')},enumerable:!0,configurable:!0}),r.prototype.showSelection=function(){for(var u,f,i=this.selectedIndex,e=this.hostElement,r=e.children,t,o=0;o<r.length;o++)t=r[o],n.toggleClass(t,'wj-state-selected',o==i);i>-1&&i<r.length&&(t=r[i],u=t.getBoundingClientRect(),f=e.getBoundingClientRect(),u.bottom>f.bottom?e.scrollTop+=u.bottom-f.bottom:u.top<f.top&&(e.scrollTop-=f.top-u.top));i>-1&&this.containsFocus()&&(t=r[i],t instanceof HTMLElement&&!n.contains(t,n.getActiveElement())&&t.focus())},r.prototype.getItemChecked=function(t){var r=this._cv.items[t],i;return n.isObject(r)&&this.checkedMemberPath?this._pathChecked.getValue(r):(i=this._getCheckbox(t),i?i.checked:!1)},r.prototype.setItemChecked=function(n,t){this._setItemChecked(n,t,!0)},r.prototype.toggleItemChecked=function(n){this.setItemChecked(n,!this.getItemChecked(n))},Object.defineProperty(r.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var n=0;n<this._cv.items.length;n++)this.getItemChecked(n)&&this._checkedItems.push(this._cv.items[n]);return this._checkedItems},set:function(t){var i=this._cv,u=n.asArray(t,!1),f,r,e;if(i&&u){for(f=i.currentPosition,r=0;r<i.items.length;r++)e=i.items[r],this._setItemChecked(r,u.indexOf(e)>-1,!1);i.moveCurrentToPosition(f);this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),r.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},r.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},r.prototype.onLoadingItems=function(n){this.loadingItems.raise(this,n)},r.prototype.onLoadedItems=function(n){this.loadedItems.raise(this,n)},r.prototype.onItemChecked=function(n){this.itemChecked.raise(this,n)},r.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype._setItemChecked=function(t,i,r){var u,f,e;r===void 0&&(r=!0);u=this._cv.items[t];n.isObject(u)&&(f=n.tryCast(this._cv,'IEditableCollectionView'),this._pathChecked.getValue(u)!=i&&(this._checking=!0,f?(f.editItem(u),this._pathChecked.setValue(u,i),f.commitEdit()):(this._pathChecked.setValue(u,i),this._cv.refresh()),this._checking=!1));e=this._getCheckbox(t);e&&e.checked!=i&&(e.checked=i);r&&(this.onItemChecked(),this.onCheckedItemsChanged())},r.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},r.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},r.prototype._populateList=function(){var f=this.hostElement,e,t,u,o,r,s;if(f){if(e=this.containsFocus(),this.onLoadingItems(),f.innerHTML='',this._cv)for(t=0;t<this._cv.items.length;t++){if(u=this.getDisplayValue(t),this._html!=!0&&(u=n.escapeHtml(u)),this.checkedMemberPath&&(o=this._pathChecked.getValue(this._cv.items[t]),u='<label><input type="checkbox"'+(o?' checked':'')+'> '+u+'</label>'),r=document.createElement('div'),r.innerHTML=u,r.className='wj-listbox-item',n.hasClass(r.firstChild,'wj-separator')&&(r.className+=' wj-separator'),this.formatItem.hasHandlers){s=new i(t,this._cv.items[t],r);this.onFormatItem(s)}f.appendChild(r)}f.children.length==0&&f.appendChild(document.createElement('div'));e&&!this.containsFocus()&&this.focus();this.showSelection();this.onLoadedItems()}},r.prototype._click=function(t){var r,i,u;if(!t.defaultPrevented){for(r=this.hostElement.children,i=0;i<r.length;i++)if(n.contains(r[i],t.target)){this.selectedIndex=i;break}i=this.selectedIndex;this.checkedMemberPath&&i>-1&&(u=this._getCheckbox(i),u==t.target&&this.setItemChecked(i,u.checked))}},r.prototype._keydown=function(t){var i,r,s;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var u=this.selectedIndex,o=this.hostElement,f=o.children;switch(t.keyCode){case n.Key.Down:for(t.preventDefault(),i=this.selectedIndex+1;i<f.length;i++)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Up:for(t.preventDefault(),i=this.selectedIndex-1;i>=0;i--)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Home:t.preventDefault();this.selectedIndex=0;break;case n.Key.End:t.preventDefault();this.selectedIndex=f.length-1;break;case n.Key.PageDown:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u+1;i<this._cv.items.length;i++){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToLast()}break;case n.Key.PageUp:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u-1;i>0;i--){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToFirst()}break;case n.Key.Space:this.checkedMemberPath&&this.selectedIndex>-1&&(s=this._getCheckbox(this.selectedIndex),s&&(this.hostElement.focus(),this.setItemChecked(this.selectedIndex,!s.checked),t.preventDefault()))}}},r.prototype._keypress=function(n){var i=this,t;n.defaultPrevented||n.target instanceof HTMLInputElement||(n.charCode>32||n.charCode==32&&this._search)&&(n.preventDefault(),this._search+=String.fromCharCode(n.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null;i._search=''},r._AUTOSEARCH_DELAY),t=this._findNext(),t<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],t=this._findNext()),t>-1&&(this.selectedIndex=t))},r.prototype._findNext=function(){var i,n,t,r,u;if(this.hostElement)for(i=this.hostElement.childElementCount,n=this.selectedIndex,(n<0||this._search.length==1)&&n++,t=0;t<i;t++)if(r=(n+t)%i,u=this.getDisplayText(r).trim().toLowerCase(),u.indexOf(this._search)==0)return r;return-1},r.prototype._getCheckbox=function(n){var t=this.hostElement;return t&&n>-1&&n<t.children.length?t.children[n].querySelector('input[type=checkbox]'):null},r.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=='OPTION'&&(t.hasAttribute('selected')&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute('value'),cmdParam:t.getAttribute('cmd-param')}):i.push({hdr:'<div class="wj-separator"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath='hdr',this.selectedValuePath='val',this.itemsSource=i,this.selectedIndex=f)},r._AUTOSEARCH_DELAY=600,r}(n.Control),i;t.ListBox=r;i=function(t){function i(i,r,u){t.call(this);this._index=n.asNumber(i);this._data=r;this._item=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.FormatItemEventArgs=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this._editable=!1;this._composing=!1;this._deleting=!1;this._settingText=!1;this.selectedIndexChanged=new n.Event;n.addClass(this.hostElement,'wj-combobox');this.autoExpandSelection=!1;this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text,!0)})});this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isDroppedDown&&!u.isReadOnly&&u.containsFocus()&&u.selectedIndex>-1){var i=n.clamp(-t.deltaY,-1,1);u.selectedIndex=n.clamp(u.selectedIndex-i,0,u.collectionView.items.length-1);t.preventDefault()}});this._orgTag=='SELECT'&&this._lbx._populateSelectElement(this.hostElement);this._lbx.loadedItems.addHandler(function(){u.selectedIndex>-1&&(u.selectedIndex=u._lbx.selectedIndex)});this.isRequired=!0;this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerPath",{get:function(){return this._hdrPath},set:function(t){this._hdrPath=n.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t);this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown;return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown;i.style.maxWidth=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(t){if(t===void 0&&(t=this.selectedIndex),this.headerPath&&t>-1&&n.hasItems(this.collectionView)){var r=this.collectionView.items[t][this.headerPath],i=r!=null?r.toString():'';return this.isContentHtml&&(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent),i.trim()}return this._lbx.getDisplayText(t).trim()},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(t,i){var f=this.collectionView,r,u;if(n.hasItems(f)&&t){if(i&&this.selectedIndex>-1&&t==this.getDisplayText(this.selectedIndex))return this.selectedIndex;for(t=t.toString().toLowerCase(),r=0;r<f.items.length;r++)if(u=this.getDisplayText(r).toLowerCase(),i){if(u==t)return r}else if(t&&u.indexOf(t)==0)return r}return-1},Object.defineProperty(r.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),r.prototype.refresh=function(t){i.prototype.refresh.call(this,t);n.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},r.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0));this.isEditable&&this.isRequired&&!this.text&&n.hasItems(this.collectionView)&&(this.selectedIndex=0);i.prototype.onLostFocus.call(this,t)},r.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||n.hasItems(this.collectionView)||(t.cancel=!0),i.prototype.onIsDroppedDownChanging.call(this,t)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},r.prototype._updateBtn=function(){var t=this.collectionView;this._btn.style.display=this._showBtn&&n.hasItems(t)?'':'none'},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n._updateBtn()});this.addEventListener(this._dropDown,'click',this._dropDownClick.bind(this))},r.prototype._dropDownClick=function(n){n.defaultPrevented||n.target!=this._dropDown&&(this.isDroppedDown=!1)},r.prototype._setText=function(t,r){var o,f;if(!this._composing&&!this._settingText){this._settingText=!0;t==null&&(t='');t=t.toString();var u=this.selectedIndex,s=this.collectionView,e=this._getSelStart(),h=-1;if(this._deleting&&(r=!0),this._deleting?u=this.indexOf(t,!0):(u=this.indexOf(t,r),u<0&&r&&(u=this.indexOf(t,!1)),u<0&&e>0&&(u=this.indexOf(t.substr(0,e),!1))),u<0&&!this.isEditable&&n.hasItems(s)&&(this.isRequired||t))for(o=this._oldText||'',u=Math.max(0,this.indexOf(o,!1)),f=0;f<t.length&&f<o.length;f++)if(t[f]!=o[f]){e=f;break}u>-1&&(h=e,t=this.getDisplayText(u));s&&s.moveCurrentToPosition(u);t!=this._tbx.value&&(this._tbx.value=t);h>-1&&this.containsFocus()&&!this.isTouching&&this._setSelRange(h,t.length);i.prototype._setText.call(this,t,r);this._deleting=!1;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,u,f,r;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,r=1;r<=i;r++)if(u=(this.selectedIndex+r*t+i)%i,f=this.getDisplayText(u).toLowerCase(),f.indexOf(n)==0)return u;return this.selectedIndex},r.prototype._keydown=function(t){var u,r;if((i.prototype._keydown.call(this,t),!t.defaultPrevented)&&this._elRef==this._tbx&&((t.keyCode==n.Key.Back||t.keyCode==n.Key.Delete)&&(this._deleting=!0),u=this.collectionView,u&&u.items))switch(t.keyCode){case n.Key.Up:case n.Key.Down:r=this._getSelStart();r==this.text.length&&(r=0);this.selectedIndex=this._findNext(this.text.substr(0,r),t.keyCode==n.Key.Up?-1:1);n.setSelectionRange(this._tbx,r,this.text.length);t.preventDefault()}},r.prototype._setSelRange=function(t,i){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,t,i)},r.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},r}(t.DropDown);t.ComboBox=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){t.call(this,i);this._cssMatch='wj-autocomplete-match';this._minLength=2;this._maxItems=6;this._itemCount=0;this._delay=500;this._query='';this._inCallback=!1;this._srchProps=[];n.addClass(this.hostElement,'wj-autocomplete');this.isEditable=!0;this.isRequired=!1;this.isContentHtml=!0;this.listBox.formatItem.addHandler(this._formatListItem,this);this._itemsSourceFnCallBackBnd=this._itemSourceFunctionCallback.bind(this);this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=n.asString(t);this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t);n.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case n.Key.Up:case n.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)},i.prototype._setText=function(n){var t=this;if(!this._inCallback){if(!n&&this.selectedIndex>-1&&(this.selectedIndex=-1),n!=this._oldText&&(this._tbx.value!=n&&(this._tbx.value=n),this._oldText=n,this.onTextChanged(),!n&&this.collectionView)){this.collectionView.filter=this._query=null;this.isDroppedDown=!1;return}this._toSearch&&clearTimeout(this._toSearch);n!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length>=t._minLength&&n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp('(?=.*'+n.replace(/ /g,')(?=.*')+')','ig'),t._rxHighlight=t.isContentHtml?new RegExp('('+n.replace(/ /g,'|')+')(?![^<]*>|[^<>]* </)','ig'):new RegExp('('+n.replace(/ /g,'|')+')','ig'),t.itemsSourceFunction?t.itemsSourceFunction(n,t.maxItems,t._itemsSourceFnCallBackBnd):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this._inCallback=!1;this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n);this._query='';this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus()},i.prototype._updateItems=function(){var n=this.collectionView;n&&(this._inCallback=!0,n.beginUpdate(),this._itemCount=0,n.filter=this._filter.bind(this),n.moveCurrentToPosition(-1),n.endUpdate(),this._inCallback=!1,this.isDroppedDown=n.items.length>0&&this.containsFocus(),n.items.length!=0||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(n){var t,i;if(this._itemCount>=this._maxItems)return!1;if(t=n?n.toString():'',this.displayMemberPath)for(t=n[this.displayMemberPath],i=0;i<this._srchProps.length;i++)t+='\0'+n[this._srchProps[i]];return(this.isContentHtml&&(t=t.replace(/<[^>]*>/g,'')),t.match(this._rxMatch))?(this._itemCount++,!0):!1},i.prototype._formatListItem=function(n,t){if(this._cssMatch){var i='<span class="'+this._cssMatch+'">$1</span>';t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,i)}},i}(t.ComboBox);t.AutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,f;t.call(this,i);this.itemClicked=new n.Event;n.addClass(this.hostElement,'wj-menu');this._tbx.style.display='none';f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._hdr=n.createElement(f);this._tbx.parentElement.insertBefore(this._hdr,this._tbx);this._elRef=this._hdr;this.isRequired=!1;this._orgTag=='SELECT'&&(this.header=this.hostElement.getAttribute('header'),this._lbx.itemsSource&&(this.commandParameterPath='cmdParam'));this.isContentHtml=!0;this.maxDropDownHeight=500;this.addEventListener(this._hdr,'click',function(n){n.defaultPrevented||(u._isButton?(u.isDroppedDown=!1,u._raiseCommand()):u.isDroppedDown=!u.isDroppedDown)});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=n.asType(t,HTMLElement,!0);this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.show=function(t){if(!this.isDroppedDown){var i=this.dropDown;this.selectedIndex=-1;this.onIsDroppedDownChanging(new n.CancelEventArgs)&&(n.showPopup(i,t),this.onIsDroppedDownChanged(),i.focus())}},i.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)&&(n.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._keydown=function(i){i.defaultPrevented||i.keyCode==n.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()));t.prototype._keydown.call(this,i)},i.prototype._dropDownClick=function(n){n.defaultPrevented||this.getDisplayText(this.selectedIndex)&&this._raiseCommand();t.prototype._dropDownClick.call(this,n)},i.prototype._raiseCommand=function(n){var r=this.selectedItem,t=this._getCommand(r),i;if(t){if(i=this._cmdParamPath?r[this._cmdParamPath]:null,!this._canExecuteCommand(t,i))return;this._executeCommand(t,i)}this.onItemClicked(n)},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i.prototype._enableDisableItems=function(){var i,t,r,u,f;if(this.collectionView&&(this.command||this.commandPath))for(i=this.collectionView.items,t=0;t<i.length;t++)r=this._getCommand(i[t]),u=this.commandParameterPath?i[t][this.commandParameterPath]:null,r&&(f=this._lbx.hostElement.children[t],n.toggleClass(f,'wj-state-disabled',!this._canExecuteCommand(r,u)))},i}(t.ComboBox);t.Menu=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};wijmo.culture.MultiSelect=window.wijmo.culture.MultiSelect||{itemsSelected:'{count:n0} items selected'},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this;t.call(this,i);this._maxHdrItems=2;this._readOnly=!1;this._hdrFmt=n.culture.MultiSelect.itemsSelected;this.checkedItemsChanged=new n.Event;n.addClass(this.hostElement,'wj-multiselect');this._tbx.readOnly=!0;this.checkedMemberPath=null;this.addEventListener(this.inputElement,'click',function(){u.isDroppedDown=!u.isDroppedDown});this.removeEventListener(this.dropDown,'click');this._updateHeader();this.listBox.itemsChanged.addHandler(function(){u._updateHeader()});this.listBox.checkedItemsChanged.addHandler(function(){u._updateHeader();u.onCheckedItemsChanged()});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var n=this.listBox.checkedMemberPath;return n!=i._DEF_CHECKED_PATH?n:null},set:function(t){t=n.asString(t);this.listBox.checkedMemberPath=t?t:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=n.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=n.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=n.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=n.asArray(t)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(n){n===void 0&&(n=!0);t.prototype.refresh.call(this,n);this._updateHeader()},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},i.prototype._setText=function(){},i.prototype._updateHeader=function(){var t,r,i;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(t=this.checkedItems,r='',t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath)for(i=0;i<t.length;i++)t[i]=t[i][this.displayMemberPath];r=t.join(', ')}else r=n.format(this.headerFormat,{count:t.length});this.inputElement.value=r}this._updateState()},i._DEF_CHECKED_PATH='$checked',i}(t.ComboBox);t.MultiSelect=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this;t.call(this,i);this._selItems=[];this._lastInputValue='';this._selPath=new n.Binding(null);this._notAddItm=!1;this.selectedItemsChanged=new n.Event;n.addClass(this.hostElement,'wj-multi-autocomplete');this.showDropDownButton=!1;this.initialize(r);this._wjTpl=this.hostElement.querySelector('.wj-template');this._wjInput=this.hostElement.querySelector('.wj-input');this.addEventListener(this.hostElement,'keyup',this._keyup.bind(this),!0);this.addEventListener(window,'resize',this._adjustInputWidth.bind(this));this.addEventListener(this._tbx,'focus',function(){u._itemOff()});this._addHelperInput();this._initSeltems();this.listBox.itemsChanged.addHandler(function(){return u.selectedIndex=-1});this._refreshHeader()}return __extends(i,t),Object.defineProperty(i.prototype,"showDropDownButton",{set:function(){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxSelectedItems",{get:function(){return this._maxtems},set:function(t){this._maxtems!=t&&(this._maxtems=n.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){t=n.asString(t);t!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){var i,r;if(this._selItems=n.asArray(t),this.selectedMemberPath&&this.selectedMemberPath!==''&&this._selItems)for(i=0;i<this._selItems.length;i++)r=this._selItems[i],this._setSelItem(r,!1);this._updateMaxItems();this.onSelectedItemsChanged();this._refreshHeader();this._clearSelIndex()},enumerable:!0,configurable:!0}),i.prototype.onSelectedItemsChanged=function(n){this.selectedItemsChanged.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0);this._notAddItm=!1;t.prototype.onIsDroppedDownChanged.call(this,n)},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._initSeltems();this.isDroppedDown||this._refreshHeader()},i.prototype._keydown=function(i){if(!this.isReadOnly){if(!i.defaultPrevented)switch(i.keyCode){case n.Key.Back:this._lastInputValue=this._tbx.value;break;case n.Key.Enter:this._itemOff();this._addItem(!0);n.isIE&&n.setSelectionRange(this._tbx,0,0);break;case n.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value='',this._lbx.selectedIndex=-1,i.preventDefault()):this._updateFocus();break;case n.Key.Space:if(this._tbx.value!=='')return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case n.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case n.Key.Left:this._itemOn(!0);break;case n.Key.Right:this._itemOn(!1);break;case n.Key.Up:case n.Key.Down:var r=n.getActiveElement();if(i.altKey){if(this._tbx==r){this.isDroppedDown=!this.isDroppedDown;this.isDroppedDown||this._tbx.focus();i.preventDefault();return}}else if(this._tbx!==r)return;default:if(i.keyCode===n.Key.Back||i.keyCode===n.Key.Delete)return;this._itemOff();this._maxtems!=null&&this._selItems.length>=this._maxtems&&i.preventDefault()}t.prototype._keydown.call(this,i)}},i.prototype._updateState=function(){(t.prototype._updateState.call(this),this._wjTpl)&&n.hasClass(this.hostElement,'wj-state-focused')===!1&&this._itemOff()},i.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case n.Key.Back:this._tbx.value.length===0&&this._lastInputValue.length===0&&this._delItem(!1);break;case n.Key.Delete:this._delItem(!0)}},i.prototype._addHelperInput=function(){var n=document.createElement("input");n.type='text';n.tabIndex=-1;n.className='wj-token-helper';n.readOnly=!0;this._wjTpl.insertBefore(n,this._wjInput);this._helperInput=n},i.prototype._refreshHeader=function(){for(var r,i,u=this.hostElement.querySelectorAll('.wj-token'),t=0;t<u.length;t++)this._wjTpl.removeChild(u[t]);if(r=this.selectedItems,r&&r.length!==0){for(t=0;t<r.length;t++)i=r[t],this.displayMemberPath&&(i=r[t][this.displayMemberPath]),this.isContentHtml?(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent.trim()):i=n.escapeHtml(i),this._wjTpl.insertBefore(this._createItem(i),this._wjInput);this._adjustInputWidth()}},i.prototype._updateMaxItems=function(){this._maxtems!=null&&this._selItems&&this._selItems.length>this._maxtems&&(this._selItems=this._selItems.slice(0,this._maxtems))},i.prototype._updateFocus=function(){var r=this,t=this._wjTpl.querySelector('.'+i._clsActive);t?(n.removeClass(t,i._clsActive),setTimeout(function(){r._tbx.focus()})):(this._clearSelIndex(),n.removeClass(this.hostElement,'wj-state-focused'))},i.prototype._addItem=function(n){if(this.selectedItems.indexOf(this.selectedItem)>-1){this._clearSelIndex();return}this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),n&&this._clearSelIndex(),this._disableInput(!0))},i.prototype._delItem=function(n){var t=this._wjTpl.querySelector('.'+i._clsActive),r,u,f=!1;(!n||t)&&(t?(u=this._getItemIndex(t),u>-1&&(r=this._selItems[u],f=!0)):(r=this._selItems[this._selItems.length-1],f=!0),f&&(this._updateSelItems(r,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},i.prototype._updateSelItems=function(n,t){if(t){if(this._selItems&&this._selItems.length!==0||(this._selItems=[]),this._maxtems!=null&&this._selItems.length>=this._maxtems)return;this._selItems.push(n)}else{var i=this._selItems.indexOf(n);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(n,t);this.onSelectedItemsChanged()},i.prototype._createItem=function(t){var r=this,u=document.createElement("div"),e=document.createElement("span"),f=document.createElement("a");return u.appendChild(e),u.appendChild(f),u.className='wj-token',e.className='wj-token-label',e.innerHTML=t,f.className='wj-token-close',f.href='#',f.tabIndex=-1,f.text='×',this.addEventListener(u,'click',function(t){r._helperInput.focus();var f=r._wjTpl.querySelector('.'+i._clsActive);f&&n.removeClass(f,i._clsActive);n.addClass(u,i._clsActive);t.stopPropagation();t.preventDefault()}),this.addEventListener(f,'click',function(n){var t,i;r.isReadOnly||(t=r._getItemIndex(u),t>-1&&(i=r._selItems[t],r._updateSelItems(i,!1)),r._wjTpl.removeChild(u),r._adjustInputWidth(),r._disableInput(!1),r._tbx.focus(),n.stopPropagation(),n.preventDefault())}),u},i.prototype._itemOn=function(t){var e=n.getActiveElement(),r,f,u;if((this._tbx!=e||this._tbx.value.length===0)&&(r=this._wjTpl.querySelectorAll('.wj-token'),r.length!==0))if(f=this._wjTpl.querySelector('.'+i._clsActive),u=this._getItemIndex(f),t){if(u===0)return;u===-1?(n.addClass(r[r.length-1],i._clsActive),this._helperInput.focus()):(n.removeClass(f,i._clsActive),n.addClass(r[u-1],i._clsActive),this._helperInput.focus())}else if(!t){if(u===-1)return;u!==r.length-1?(n.removeClass(f,i._clsActive),n.addClass(r[u+1],i._clsActive),this._helperInput.focus()):(n.removeClass(f,i._clsActive),this._tbx.focus())}},i.prototype._itemOff=function(){var t=this._wjTpl.querySelector('.'+i._clsActive);t&&n.removeClass(t,i._clsActive)},i.prototype._initSeltems=function(){var t,n;if(this.selectedMemberPath&&this.selectedMemberPath!==''&&(t=this.itemsSource,this._selItems.splice(0,this._selItems.length),t))for(n=0;n<t.sourceCollection.length;n++)this._getSelItem(n)&&this._selItems.push(t.sourceCollection[n])},i.prototype._getSelItem=function(t){var r=this.itemsSource.sourceCollection,i=r[t];return n.isObject(i)&&this.selectedMemberPath?this._selPath.getValue(i):!1},i.prototype._setSelItem=function(t,i){var r=this.itemsSource;n.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)},i.prototype._clearSelIndex=function(){this.selectedIndex=-1},i.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&this.selectedMemberPath!==''},i.prototype._disableInput=function(){this._maxtems!=null&&(this._selItems.length<this._maxtems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},i.prototype._adjustInputWidth=function(){this._tbx.style.width='60px';var t=n.getElementRect(this.hostElement),r=n.getElementRect(this._tbx),i=getComputedStyle(this._tbx),u=parseInt(i.paddingLeft,10),f=parseInt(i.paddingRight,10),e=t.left+t.width-r.left-u-f-8;this._tbx.style.width=e+'px'},i.prototype._getItemIndex=function(n){for(var i=this.hostElement.querySelectorAll('.wj-token'),t=0;t<i.length;t++)if(n===i[t])return t;return-1},i._clsActive='wj-token-active',i}(t.AutoComplete);t.MultiAutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Click=1]="Click";n[n.Blur=2]="Blur";n[n.ClickOrBlur=3]="ClickOrBlur"})(t.PopupTrigger||(t.PopupTrigger={}));var i=t.PopupTrigger,r=function(t){function r(r,u){var f=this,e;t.call(this,r,null,!0);this._showTrigger=i.Click;this._hideTrigger=i.Blur;this._fadeIn=!0;this._fadeOut=!0;this._click=this._handleClick.bind(this);this._mousedown=this._handleMouseDown.bind(this);this._visible=!1;this.showing=new n.Event;this.shown=new n.Event;this.hiding=new n.Event;this.hidden=new n.Event;e=this.hostElement;n.addClass(e,'wj-control wj-content wj-popup');e.getAttribute('tabindex')||(e.tabIndex=0);n.hidePopup(e,!1);this.addEventListener(e,'keydown',function(t){if(!t.defaultPrevented&&(t.keyCode==n.Key.Escape&&(t.preventDefault(),f.hide()),t.keyCode==n.Key.Enter)){var i=f.dialogResultEnter;i&&(t.preventDefault(),f._validateAndHide(i))}});this.addEventListener(e,'keydown',function(t){!t.defaultPrevented&&f.modal&&t.keyCode==n.Key.Tab&&(t.preventDefault(),n.moveFocus(f.hostElement,t.shiftKey?-1:1))});this.addEventListener(e,'click',function(n){if(n.target instanceof HTMLElement){var i=n.target,t=i.className.match(/\bwj-hide[\S]*\b/);t&&t.length>0&&(n.preventDefault(),n.stopPropagation(),f.hide(t[0]))}});this.addEventListener(document,'wheel',function(n){if(f.isVisible&&f._modal){for(var t=n.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;n.preventDefault();n.stopPropagation()}});this.initialize(u)}return __extends(r,t),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&(this.removeEventListener(this._owner,'mousedown'),this.removeEventListener(this._owner,'click'));this._owner=t!=null?n.getElement(t):null;this._owner&&(this.addEventListener(this._owner,'mousedown',this._mousedown,!0),this.addEventListener(this._owner,'click',this._click,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(n){n!=this.content&&(this.hostElement.innerHTML='',n instanceof HTMLElement&&this.hostElement.appendChild(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResult",{get:function(){return this._result},set:function(n){this._result=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(n){this._resultEnter=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var n=this.hostElement;return this._visible&&n&&n.style.display!='none'},enumerable:!0,configurable:!0}),r.prototype.show=function(t,i){var r=this,u,f;if(!this.isVisible&&(this.dialogResult=null,this._callback=null,u=new n.CancelEventArgs,this.onShowing(u))){t!=null&&(this.modal=n.asBoolean(t));i!=null&&(this._callback=n.asFunction(i));f=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,f,!1,this._fadeIn);this._modal&&this._showBackdrop();this._visible=!0;this.onShown(u);setTimeout(function(){if(!r.isTouching){var t=r.hostElement.querySelector('input[autofocus]');t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!n.closest(t,'[disabled],.wj-state-disabled')?(t.focus(),t.select()):n.moveFocus(r.hostElement,0)}r.containsFocus()||(r.hostElement.tabIndex=0,r.hostElement.focus())},200)}},r.prototype.hide=function(t){if(this.isVisible){n.isUndefined(t)||(this.dialogResult=t);var i=new n.CancelEventArgs;if(this.onHiding(i)){this._modal&&n.hidePopup(this._bkdrop,!0,this.fadeOut);n.hidePopup(this.hostElement,!0,this.fadeOut);this._visible=!1;this.onHidden(i);this._callback&&this._callback(this)}}},r.prototype.onShowing=function(n){return this.showing.raise(this,n),!n.cancel},r.prototype.onShown=function(n){this.shown.raise(this,n)},r.prototype.onHiding=function(n){return this.hiding.raise(this,n),!n.cancel},r.prototype.onHidden=function(n){this.hidden.raise(this,n)},r.prototype.dispose=function(){this._owner=null;t.prototype.dispose.call(this)},r.prototype.onLostFocus=function(n){this.isVisible&&this._hideTrigger&i.Blur&&(this.containsFocus()||this.hide());t.prototype.onLostFocus.call(this,n)},r.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing){this._refreshing=!0;var r=n.getActiveElement(),u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u);this._modal&&r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus();this._refreshing=!1}},r.prototype._handleResize=function(){this.isVisible&&this.refresh()},r.prototype._handleClick=function(){if(this.isVisible)this._hideTrigger&i.Click&&this.hide();else if(this._showTrigger&i.Click&&!this._wasVisible){var n=this.hostElement;n&&n.style.display=='none'&&this.show()}},r.prototype._handleMouseDown=function(){this._wasVisible=this.isVisible},r.prototype._showBackdrop=function(){var t=this,r;this._bkdrop||(this._bkdrop=document.createElement('div'),this._bkdrop.tabIndex=-1,n.addClass(this._bkdrop,'wj-popup-backdrop'),this.addEventListener(this._bkdrop,'mousedown',function(n){n.preventDefault();n.stopPropagation();t.hostElement.focus();t.hideTrigger&i.Blur&&t.hide()}));this._bkdrop.style.display='';r=this.hostElement;r.parentElement.insertBefore(this._bkdrop,r)},r.prototype._validateAndHide=function(n){var t=this.hostElement.querySelector(':invalid');t?t.focus():this.hide(n)},r}(n.Control);t.Popup=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e;i.call(this,r);this._format='d';this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputdate');this._msk=new n._MaskProvider(this._tbx);n.isIE9()||(this._tbx.type='tel');this.addEventListener(this.hostElement,'wheel',function(i){if(!i.defaultPrevented&&!f.isDroppedDown&&f.containsFocus()&&f.value!=null&&f._canChangeValue()){var r=n.clamp(-i.deltaY,-1,1);f.value=f.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(f.value,r):n.DateTime.addDays(f.value,r);f.selectAll();i.preventDefault()}});this.value=n.DateTime.newDate();this._orgTag=='INPUT'&&(e=this._tbx.getAttribute('value'),e&&(this.value=n.Globalize.parseDate(e,'yyyy-MM-dd')));this.isRequired=!0;this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.isRequired||t==null&&this._value==null),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?n.Globalize.format(t,this.format):'',t==this._value||n.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?n.Globalize.format(this.value,this.format):'',this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(n){this.calendar.selectionMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=n.asFunction(t))},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._msk&&this._msk.refresh();this._calendar&&this._calendar.refresh();this._tbx.value=n.Globalize.format(this.value,this.format)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus())},r.prototype._createDropDown=function(){var i=this;this._calendar=new t.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value);i._calChanged=!0});this.addEventListener(this._dropDown,'mouseup',function(n){i._calChanged?i.isDroppedDown=!1:n.target.getAttribute('wj-part')=='btn-today'&&(i.isDroppedDown=!1)})},r.prototype._updateDropDown=function(){var n,r;this._commitText();n=this._calendar;n.value=this.value;n.min=this.min;n.max=this.max;this.selectionMode!=t.DateSelectionMode.Month&&(n.monthView=!0);r=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(r.fontSize)*18+'px';this._calendar.refresh();i.prototype._updateDropDown.call(this)},r.prototype._keydown=function(r){if(!r.defaultPrevented&&!r.altKey&&!r.ctrlKey&&!r.metaKey)switch(r.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll();break;case n.Key.Up:case n.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var u=r.keyCode==n.Key.Up?1:-1,f=this.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(this.value,u):n.DateTime.addDays(this.value,u);this.value=n.DateTime.fromDateTime(f,this.value);this.selectAll();r.preventDefault()}}i.prototype._keydown.call(this,r)},r.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=t.DateSelectionMode.None},r.prototype._clamp=function(n){return this.calendar._clamp(n)},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._isValidDate=function(n){return n&&(this._clamp(n)!=n||this.itemValidator&&!this.itemValidator(n))?!1:!0},r}(t.DropDown);t.InputDate=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){if(t.call(this,i),this._format='t',this.valueChanged=new n.Event,n.addClass(this.hostElement,'wj-inputtime'),this._value=n.DateTime.newDate(),this._msk=new n._MaskProvider(this._tbx),n.isIE9()||(this._tbx.type='tel'),this._orgTag=='INPUT'){var u=this._tbx.getAttribute('value');u&&(this.value=n.Globalize.parseDate(u,'HH:mm:ss'))}this.step=15;this.autoExpandSelection=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.isRequired);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));this._setText(t?n.Globalize.format(t,this.format):'',!0);t==this._value||n.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._msk.refresh();this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndex>-1&&this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),u=[],t,f;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),n.isNumber(this.step)&&this.step>0)for(t=i;t<=r;t=n.DateTime.addMinutes(t,this.step))u.push(n.Globalize.format(t,this.format));f=this.text;this.itemsSource=u;this.text=f},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i.prototype._keydown=function(i){if(t.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case n.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i}(t.ComboBox);t.InputTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e,o;i.call(this,r);n.addClass(this.hostElement,'wj-inputdatetime');this._btnTm=this.hostElement.querySelector('[wj-part="btn-tm"]');this._format='g';this._inputTime=new t.InputTime(document.createElement('div'));this._inputTime.valueChanged.addHandler(function(){f.value=n.DateTime.fromDateTime(f.value,f._inputTime.value);f.containsFocus()&&(f.isTouching&&f.showDropDownButton||f.selectAll())});e=this._inputTime.dropDown;o=this._keydown.bind(this);this.addEventListener(e,'keydown',o,!0);this.addEventListener(e,'blur',function(){f._updateFocusState()},!0);this.addEventListener(this._btnTm,'click',this._btnclick.bind(this));this.addEventListener(this._btn,'mousedown',function(){f._setDropdown(f.calendar.hostElement)});this.addEventListener(this._btnTm,'mousedown',function(n){f.isDroppedDown&&f.dropDown==e&&n.preventDefault();f._inputTime.dropDownCssClass=f.dropDownCssClass;f._setDropdown(e)});this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(n){this._inputTime.min=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(n){this._inputTime.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(n){this._inputTime.format=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(n){this._inputTime.step=n},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){i.prototype.refresh.call(this);this._inputTime.refresh()},r.prototype._updateBtn=function(){i.prototype._updateBtn.call(this);this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},r.prototype._clamp=function(n){return n&&(this.min&&n<this.min&&(n=this.min),this.max&&n>this.max&&(n=this.max)),n},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=t:this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDropdown=function(n){this._dropDown!=n&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=n)},r.prototype._updateDropDown=function(){var n=this._inputTime;this._dropDown==n.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),n.isRequired=this.isRequired,n.value=this.value,this.isDroppedDown&&n.listBox.showSelection()):i.prototype._updateDropDown.call(this)},r.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"><\/span><\/button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"><\/div><\/div>',r}(t.InputDate);t.InputDateTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,e,f;t.call(this,i);this._showBtn=!0;this._readOnly=!1;this.textChanged=new n.Event;this.valueChanged=new n.Event;e=this.getTemplate();this.applyTemplate('wj-control wj-inputnumber wj-content',e,{_tbx:'input',_btnUp:'btn-inc',_btnDn:'btn-dec'},'input');f=this._tbx;f.autocomplete='off';f.spellcheck=!1;this._updateSymbols();this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text)})});this.addEventListener(f,'keypress',this._keypress.bind(this));this.addEventListener(f,'keydown',this._keydown.bind(this));this.addEventListener(f,'input',this._input.bind(this));this.addEventListener(this._btnUp,'click',this._clickSpinner.bind(this));this.addEventListener(this._btnDn,'click',this._clickSpinner.bind(this));this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isReadOnly&&u.containsFocus()&&u.value!=null){var i=n.clamp(-t.deltaY,-1,1);u._increment((u.step||1)*i);setTimeout(function(){return u.selectAll()});t.preventDefault()}});this.value=0;this.isRequired=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.isRequired||t==null&&this._value==null),t==null)this._setText('');else if(!isNaN(t)){var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this.inputElement.readOnly=this._readOnly;n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._oldText=null,this._setText(n))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){n.setSelectionRange(this._tbx,0,this._tbx.value.length)},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n);this._updateState()},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.onGotFocus=function(n){this.isTouching||(this._tbx.focus(),this.selectAll());t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(i){this._composing&&(this._composing=!1,this._setText(this.text));var r=this._clamp(this.value),u=n.Globalize.format(r,this.format,!1,!1);this._setText(u);t.prototype.onLostFocus.call(this,i)},i.prototype.refresh=function(){this._updateSymbols();var t=n.Globalize.format(this.value,this.format);this._setText(t)},i.prototype._updateSymbols=function(){var t=n.culture.Globalize.numberFormat;this._decChar=t['.']||'.';this._currChar=t.currency.symbol||'$';this._rxSym=new RegExp('^[%+\\-() '+this._decChar+this._currChar+']*$')},i.prototype._clamp=function(t){return n.clamp(t,this.min,this.max)},i.prototype._isNumeric=function(n,t){t===void 0&&(t=!1);var i=n==this._decChar||n>='0'&&n<='9';return i||t||(i='+-()'.indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;n===void 0&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._moveToDigit=function(){var t=this._getInputRange(!0);n.setSelectionRange(this._tbx,t[0],t[1])},i.prototype._increment=function(t){if(t){var i=this._clamp(this.value+t),r=n.Globalize.format(i,this.format,!1,!1);this._setText(r)}},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.prototype._updateBtn=function(){this.showSpinner&&this.step&&this.value!=null?(this._btnUp.style.display=this._btnDn.style.display='',n.addClass(this.hostElement,'wj-input-show-spinner')):(this._btnUp.style.display=this._btnDn.style.display='none',n.removeClass(this.hostElement,'wj-input-show-spinner'))},i.prototype._setText=function(t){var u,i,f,r;if(!this._composing){if(!t){if(!this.isRequired){this._tbx.value='';this._value!=null&&(this._value=null,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());this._updateBtn();return}t='0'}if(t=='-'||t=='('){this._tbx.value=t;n.setSelectionRange(this._tbx,1);return}if(t!=this._decChar||this._format||this.isRequired||(t='0'+t),t.length>1&&t[t.length-1]==')'&&t[0]!='('&&(t=t.substr(0,t.length-1)),this._rxSym.test(t)&&(t='0'),u=this._format||(t.indexOf(this._decChar)>-1?'n2':'n0'),i=n.Globalize.parseFloat(t,u),isNaN(i)){this._tbx.value=this._oldText;return}t.indexOf('%')<0&&u.toLowerCase().indexOf('p')>-1&&(i/=100);f=this._oldText&&t.length==this._oldText.length+1;r=n.Globalize.format(i,u,!1,f);(u=='n'||u[0].toLowerCase()=='g')&&this._tbx.selectionStart==this._tbx.value.length&&(t==r+this._decChar||t==r+this._decChar+'0')&&(r=t);this._tbx.value!=r&&(this._tbx.value=r,i=n.Globalize.parseFloat(r,this.format));i!=this._value&&(this._value=i,this.onValueChanged());this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged());this._updateBtn()}},i.prototype._keypress=function(t){var r,u,i;if(!t.defaultPrevented&&!this._composing&&!this._readOnly&&t.charCode&&!t.ctrlKey&&!t.metaKey){r=String.fromCharCode(t.charCode);this._isNumeric(r)?(u=this._getInputRange(!0),this._tbx.selectionStart<u[0]&&n.setSelectionRange(this._tbx,u[0],u[1])):t.preventDefault();switch(r){case'-':this.value?(this.value*=-1,this._moveToDigit()):this._setText('-');t.preventDefault();break;case'+':this.value=Math.abs(this.value);this._moveToDigit();t.preventDefault();break;case this._decChar:i=this._tbx.value.indexOf(r);i>-1&&(this._getSelStart()<=i&&i++,n.setSelectionRange(this._tbx,i),t.preventDefault())}}},i.prototype._keydown=function(t){var r=this,i;if(!t.defaultPrevented&&!this._composing)switch(t.keyCode){case n.Key.Up:case n.Key.Down:this.step&&(this._increment(this.step*(t.keyCode==n.Key.Up?1:-1)),setTimeout(function(){r.selectAll()}),t.preventDefault());break;case n.Key.Back:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i-1]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i-1)}),t.preventDefault()));break;case n.Key.Delete:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i+1)}),t.preventDefault()))}},i.prototype._input=function(){var t=this;this._composing||setTimeout(function(){var o=t._tbx,i=o.value,r=t._getSelStart(),s=i&&i.length>1?i.indexOf(t._decChar):-1,f,u,e;t._setText(i);t.containsFocus()&&(f=o.value,u=f.indexOf(t._decChar),i&&i[0]=='-'&&f&&f[0]!='-'&&(i=null),i?i==t._decChar&&u>-1?r=u+1:r<=s&&u>-1||s<0&&u<0?r+=f.length-i.length:r==i.length&&s<0&&u>-1&&(r=u):r=u>-1?u:f.match(/[^\d]*$/).index,e=t._getInputRange(),r<e[0]&&(r=e[0]),r>e[1]&&(r=e[1]),n.setSelectionRange(o,r))})},i.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||this.value==null||(this._increment(this.step*(n.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div>',i}(n.Control);t.InputNumber=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var e=this,f,u;t.call(this,i);this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-inputmask wj-content',f,{_tbx:'input'},'input');this._orgTag=='INPUT'&&(u=this._tbx.getAttribute('value'),u&&(this.value=u));this._msk=new n._MaskProvider(this._tbx);this.isRequired=!0;this.initialize(r);this.addEventListener(this._tbx,'input',function(){setTimeout(function(){e.onValueChanged()})})}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){if(t!=this.value){this._tbx.value=n.asString(t);var i=n.getActiveElement();this._tbx.selectionStart=this._tbx.value.length;i&&i!=n.getActiveElement()&&i.focus();t=this._msk._applyMask();this._tbx.value=t;this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(n){this.value=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=n.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(n){var t=this.value;this._msk.promptChar=n;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._msk.getMaskRange();n.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n);this._updateState()},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._msk.refresh()},i.prototype.onGotFocus=function(n){t.prototype.onGotFocus.call(this,n);this.selectAll()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/><\/div>',i}(n.Control);t.InputMask=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputcolor');this._tbx.style.paddingLeft='24px';this._ePreview=n.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>');this.hostElement.style.position='relative';this.hostElement.appendChild(this._ePreview);this._orgTag=='INPUT'&&(this._tbx.type='',this._commitText());this.value='#ffffff';this.isRequired=!0;this.initialize(r);this.addEventListener(this._colorPicker.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&(n.closest(i,'[wj-part="div-pal"]')||n.closest(i,'[wj-part="div-pv"]'))&&(r=i.style.backgroundColor,r&&(u.isDroppedDown=!1))})}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(t||!this.isRequired)&&(this.text=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(n.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(n){this._colorPicker.showAlphaChannel=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);n.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},r.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,t)},r.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor='';return}var t=n.Color.fromString(this.text);t?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:''}},r}(t.DropDown);t.InputColor=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20171.282
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var wijmo;(function(n){var t;(function(t){function u(t,i){t.$children.forEach(function(u){switch(u.$options.name){case'wj-range':var f=r(u,new n.gauge.Range);u.wjProperty?i[u.wjProperty]=f:i.ranges.push(f)}t.$el.removeChild(u.$el)})}function i(n,t){for(var e,u,o,f=window,s=n.split('.'),r=0;r<s.length&&f!=null;r++)f=f[s[r]];if(!f)return null;for(e=['control','initialized'],u=f.prototype;u!=Object.prototype;u=Object.getPrototypeOf(u))for(o=Object.getOwnPropertyNames(u),r=0;r<o.length;r++){var i=o[r],c=Object.getOwnPropertyDescriptor(u,i),h=i.match(/^on[A-Z]/);(c.set||h)&&(h&&(i=i[2].toLowerCase()+i.substr(3)),e.indexOf(i)<0&&!i.match(/disabled|required/)&&e.push(i))}return t&&Array.prototype.push.apply(e,t),e}function r(t,i){function f(n){this.ctl[this.prop]=n}var r=[];for(var u in t.$options.propsData)r.push(u);return r.sort(),r.forEach(function(r){!(r in i)||i[r]instanceof n.Event||n.isUndefined(t[r])||(i[r]=t[r],t.$watch(r,f.bind({ctl:i,prop:r})))}),r.forEach(function(r){if(i[r]instanceof n.Event){var u=i[r];n.isFunction(t[r])&&u.addHandler(t[r],i)}}),t.control&&t.$parent&&(t.$parent[t.control]=i),n.isFunction(t.initialized)&&t.initialized(i),i}t.WjInclude=Vue.component('wj-include',{template:'<div/>',props:['src'],mounted:function(){var t=this;n.httpRequest(this.src,{success:function(n){t.$el.innerHTML=n.response}})}});t.WjFormat=Vue.filter('wj-format',function(t,i){return n.Globalize.format(t,i)});t.WjTreeView=Vue.component('wj-tree-view',{template:'<div/>',props:i('wijmo.nav.TreeView'),mounted:function(){r(this,new n.nav.TreeView(this.$el))}});t.WjAutoComplete=Vue.component('wj-auto-complete',{template:'<div/>',props:i('wijmo.input.AutoComplete'),mounted:function(){r(this,new n.input.AutoComplete(this.$el))}});t.WjCalendar=Vue.component('wj-calendar',{template:'<div/>',props:i('wijmo.input.Calendar'),mounted:function(){r(this,new n.input.Calendar(this.$el))}});t.WjColorPicker=Vue.component('wj-color-picker',{template:'<div/>',props:i('wijmo.input.ColorPicker'),mounted:function(){r(this,new n.input.ColorPicker(this.$el))}});t.WjComboBox=Vue.component('wj-combo-box',{template:'<div/>',props:i('wijmo.input.ComboBox'),mounted:function(){r(this,new n.input.ComboBox(this.$el))}});t.WjInputColor=Vue.component('wj-input-color',{template:'<div/>',props:i('wijmo.input.InputColor'),mounted:function(){r(this,new n.input.InputColor(this.$el))}});t.WjInputDate=Vue.component('wj-input-date',{template:'<div/>',props:i('wijmo.input.InputDate'),mounted:function(){r(this,new n.input.InputDate(this.$el))}});t.WjInputDateTime=Vue.component('wj-input-date-time',{template:'<div/>',props:i('wijmo.input.InputDateTime'),mounted:function(){r(this,new n.input.InputDateTime(this.$el))}});t.WjInputMask=Vue.component('wj-input-mask',{template:'<div/>',props:i('wijmo.input.InputMask'),mounted:function(){r(this,new n.input.InputMask(this.$el))}});t.WjInputNumber=Vue.component('wj-input-number',{template:'<div/>',props:i('wijmo.input.InputNumber'),mounted:function(){r(this,new n.input.InputNumber(this.$el))}});t.WjInputTime=Vue.component('wj-input-time',{template:'<div/>',props:i('wijmo.input.InputTime'),mounted:function(){r(this,new n.input.InputTime(this.$el))}});t.WjListBox=Vue.component('wj-list-box',{template:'<div/>',props:i('wijmo.input.ListBox'),mounted:function(){r(this,new n.input.ListBox(this.$el))}});t.WjMultiSelect=Vue.component('wj-multi-select',{template:'<div/>',props:i('wijmo.input.MultiSelect'),mounted:function(){r(this,new n.input.MultiSelect(this.$el))}});t.WjMultiAutoComplete=Vue.component('wj-multi-auto-complete',{template:'<div/>',props:i('wijmo.input.MultiAutoComplete'),mounted:function(){r(this,new n.input.MultiAutoComplete(this.$el))}});t.WjMenu=Vue.component('wj-menu',{template:'<div/>',props:i('wijmo.input.Menu'),mounted:function(){r(this,new n.input.Menu(this.$el))}});t.WjPopup=Vue.component('wj-popup',{template:'<div><slot/></div>',props:i('wijmo.input.Popup'),mounted:function(){r(this,new n.input.Popup(this.$el))}});t.WjFlexGrid=Vue.component('wj-flex-grid',{template:'<div><slot/></div>',props:i('wijmo.grid.FlexGrid'),mounted:function(){var u=this,i=!0,t;this.$children.forEach(function(n){switch(n.$options.name){case'wj-flex-grid-column':i=!1}});t=new n.grid.FlexGrid(this.$el,{autoGenerateColumns:i});this.$children.forEach(function(i){var f,e;switch(i.$options.name){case'wj-flex-grid-column':f=r(i,new n.grid.Column);t.columns.push(f);break;case'wj-flex-grid-filter':e=r(i,new n.grid.filter.FlexGridFilter(t))}u.$el.removeChild(i.$el)});r(this,t)}});t.WjFlexGridColumn=Vue.component('wj-flex-grid-column',{template:'<div/>',props:i('wijmo.grid.Column')});t.WjFlexGridFilter=Vue.component('wj-flex-grid-filter',{template:'<div/>',props:i('wijmo.grid.filter.FlexGridFilter')});t.WjGroupPanel=Vue.component('wj-group-panel',{template:'<div/>',props:i('wijmo.grid.grouppanel.GroupPanel'),mounted:function(){r(this,new n.grid.grouppanel.GroupPanel(this.$el))}});t.WjFlexChart=Vue.component('wj-flex-chart',{template:'<div><slot/></div>',props:i('wijmo.chart.FlexChart',['tooltipContent']),mounted:function(){var i=this,t=new n.chart.FlexChart(this.$el);this.$children.forEach(function(u){var f,e,s,o;switch(u.$options.name){case'wj-flex-chart-series':f=r(u,new n.chart.Series);u.$el.style.cssText.length&&(e={},u.$el.style.cssText.split(';').forEach(function(n){var t=n.split(':');t.length==2&&(e[t[0].trim()]=t[1].trim())}),f.style=e);t.series.push(f);break;case'wj-flex-chart-legend':s=r(u,new n.chart.Legend(null));t.legend=s;break;case'wj-flex-chart-axis':o=r(u,new n.chart.Axis);u.wjProperty?t[u.wjProperty]=o:t.axes.push(o)}i.$el.removeChild(u.$el)});this.tooltipContent&&(t.tooltip.content=this.tooltipContent);r(this,t)}});t.WjFlexChartSeries=Vue.component('wj-flex-chart-series',{template:'<div/>',props:i('wijmo.chart.Series')});t.WjFlexChartLegend=Vue.component('wj-flex-chart-legend',{template:'<div/>',props:i('wijmo.chart.Legend')});t.WjFlexChartAxis=Vue.component('wj-flex-chart-axis',{template:'<div/>',props:i('wijmo.chart.Axis',['wjProperty'])});t.WjRadialGauge=Vue.component('wj-radial-gauge',{template:'<div><slot/></div>',props:i('wijmo.gauge.RadialGauge'),mounted:function(){var t=new n.gauge.RadialGauge(this.$el);u(this,t);r(this,t)}});t.WjLinearGauge=Vue.component('wj-linear-gauge',{template:'<div><slot/></div>',props:i('wijmo.gauge.LinearGauge'),mounted:function(){var t=new n.gauge.LinearGauge(this.$el);u(this,t);r(this,t)}});t.WjBulletGraph=Vue.component('wj-bullet-graph',{template:'<div><slot/></div>',props:i('wijmo.gauge.BulletGraph'),mounted:function(){var t=new n.gauge.BulletGraph(this.$el);u(this,t);r(this,t)}});t.WjRange=Vue.component('wj-range',{template:'<div/>',props:i('wijmo.gauge.Range',['wjProperty'])});t.WjPivotPanel=Vue.component('wj-pivot-panel',{template:'<div/>',props:i('wijmo.olap.PivotPanel'),mounted:function(){r(this,new n.olap.PivotPanel(this.$el))}});t.WjPivotGrid=Vue.component('wj-pivot-grid',{template:'<div/>',props:i('wijmo.olap.PivotGrid'),mounted:function(){r(this,new n.olap.PivotGrid(this.$el))}});t.WjPivotChart=Vue.component('wj-pivot-chart',{template:'<div/>',props:i('wijmo.olap.PivotChart'),mounted:function(){r(this,new n.olap.PivotChart(this.$el))}})})(t=n.vue2||(n.vue2={}))})(wijmo||(wijmo={}))
